"use strict";
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([[9025],{

/***/ 35483:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D9: function() { return /* binding */ x; },
/* harmony export */   Dr: function() { return /* binding */ Nte; },
/* harmony export */   HE: function() { return /* binding */ tt; },
/* harmony export */   HQ: function() { return /* binding */ Ss; },
/* harmony export */   J2: function() { return /* binding */ Mt; },
/* harmony export */   LO: function() { return /* binding */ Xo; },
/* harmony export */   MR: function() { return /* binding */ Wo; },
/* harmony export */   Uc: function() { return /* binding */ le; },
/* harmony export */   Uz: function() { return /* binding */ ys; },
/* harmony export */   XR: function() { return /* binding */ Yo; },
/* harmony export */   g6: function() { return /* binding */ Yt; },
/* harmony export */   tk: function() { return /* binding */ Us; }
/* harmony export */ });
/* unused harmony exports Arrow, Decoration, Draw, Ellipse, FlipType, FontSize, FontStyle, Group, Image, MoveType, Rectangle, SessionType, SizeStyle, Sticky, StretchType, TDEventHandler, TDExportBackground, TDStatus, TDUserStatus, Text, Triangle, Video, getShapeUtil, shapeUtils, useFileSystem */
/* harmony import */ var _tldraw_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(75054);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2784);
/* harmony import */ var react_error_boundary__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(80589);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(52005);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(67149);
/* harmony import */ var react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(92613);
/* harmony import */ var _stitches_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(43866);
/* harmony import */ var _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(51987);
/* harmony import */ var _tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(17947);
/* harmony import */ var perfect_freehand__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(24580);
/* harmony import */ var idb_keyval__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(10186);
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(95374);
/* harmony import */ var zustand_vanilla__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(17578);
/* harmony import */ var browser_fs_access__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(99882);
var hs=Object.defineProperty,fa=Object.defineProperties,Sa=Object.getOwnPropertyDescriptor,Ta=Object.getOwnPropertyDescriptors,ya=Object.getOwnPropertyNames,Uo=Object.getOwnPropertySymbols;var Go=Object.prototype.hasOwnProperty,ba=Object.prototype.propertyIsEnumerable;var us=(c,e,t)=>e in c?hs(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,S=(c,e)=>{for(var t in e||(e={}))Go.call(e,t)&&us(c,t,e[t]);if(Uo)for(var t of Uo(e))ba.call(e,t)&&us(c,t,e[t]);return c},I=(c,e)=>fa(c,Ta(e));var No=(c,e)=>{for(var t in e)hs(c,t,{get:e[t],enumerable:!0})},Gn=(c,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ya(e))!Go.call(c,s)&&(t||s!=="default")&&hs(c,s,{get:()=>e[s],enumerable:!(n=Sa(e,s))||n.enumerable});return c};var r=(c,e,t)=>(us(c,typeof e!="symbol"?e+"":e,t),t);var ie=(c,e,t)=>new Promise((n,s)=>{var i=o=>{try{d(t.next(o))}catch(l){s(l)}},a=o=>{try{d(t.throw(o))}catch(l){s(l)}},d=o=>o.done?n(o.value):Promise.resolve(o.value).then(i,a);d((t=t.apply(c,e)).next())});function wa(){let c=tn.useCallback((i,a)=>ie(this,null,function*(){a(i.fileSystemHandle?"saveFirstTime":"saveAgain",()=>ie(this,null,function*(){try{yield i.saveProject(),i.newProject()}catch(d){}}),()=>ie(this,null,function*(){i.newProject()}),()=>ie(this,null,function*(){}))}),[]),e=tn.useCallback((i,a)=>ie(this,null,function*(){a(i.fileSystemHandle?"saveFirstTime":"saveAgain",()=>ie(this,null,function*(){try{yield i.saveProject(),yield i.openProject()}catch(d){}}),()=>ie(this,null,function*(){i.openProject()}),()=>ie(this,null,function*(){}))}),[]),t=tn.useCallback(i=>{i.saveProject()},[]),n=tn.useCallback(i=>{i.saveProjectAs()},[]),s=tn.useCallback(i=>ie(this,null,function*(){var a;(a=i.openAsset)==null||a.call(i)}),[]);return{onNewProject:c,onSaveProject:t,onSaveProjectAs:n,onOpenProject:e,onOpenMedia:s}}function Ko(){let c=yt(),{openDialog:e}=Vo(),t=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(d=>ie(this,null,function*(){var o,l;d&&c.callbacks.onOpenProject&&d.preventDefault(),(l=(o=c.callbacks).onNewProject)==null||l.call(o,c,e)}),[c,e]),n=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(d=>{var o,l;d&&c.callbacks.onOpenProject&&d.preventDefault(),(l=(o=c.callbacks).onSaveProject)==null||l.call(o,c)},[c]),s=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(d=>{var o,l;d&&c.callbacks.onOpenProject&&d.preventDefault(),(l=(o=c.callbacks).onSaveProjectAs)==null||l.call(o,c)},[c]),i=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(d=>ie(this,null,function*(){var o,l;d&&c.callbacks.onOpenProject&&d.preventDefault(),(l=(o=c.callbacks).onOpenProject)==null||l.call(o,c,e)}),[c,e]),a=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(d=>ie(this,null,function*(){var o,l;d&&c.callbacks.onOpenMedia&&d.preventDefault(),(l=(o=c.callbacks).onOpenMedia)==null||l.call(o,c)}),[c]);return{onNewProject:t,onSaveProject:n,onSaveProjectAs:s,onOpenProject:i,onOpenMedia:a}}var ms=class{constructor(){r(this,"onPinchStart");r(this,"onPinchEnd");r(this,"onPinch");r(this,"onKeyDown");r(this,"onKeyUp");r(this,"onPointerMove");r(this,"onPointerUp");r(this,"onPan");r(this,"onZoom");r(this,"onPointerDown");r(this,"onPointCanvas");r(this,"onDoubleClickCanvas");r(this,"onRightPointCanvas");r(this,"onDragCanvas");r(this,"onReleaseCanvas");r(this,"onPointShape");r(this,"onDoubleClickShape");r(this,"onRightPointShape");r(this,"onDragShape");r(this,"onHoverShape");r(this,"onUnhoverShape");r(this,"onReleaseShape");r(this,"onPointBounds");r(this,"onDoubleClickBounds");r(this,"onRightPointBounds");r(this,"onDragBounds");r(this,"onHoverBounds");r(this,"onUnhoverBounds");r(this,"onReleaseBounds");r(this,"onPointBoundsHandle");r(this,"onDoubleClickBoundsHandle");r(this,"onRightPointBoundsHandle");r(this,"onDragBoundsHandle");r(this,"onHoverBoundsHandle");r(this,"onUnhoverBoundsHandle");r(this,"onReleaseBoundsHandle");r(this,"onPointHandle");r(this,"onDoubleClickHandle");r(this,"onRightPointHandle");r(this,"onDragHandle");r(this,"onHoverHandle");r(this,"onUnhoverHandle");r(this,"onReleaseHandle");r(this,"onShapeBlur");r(this,"onShapeClone")}},Ia=(s=>(s.Idle="idle",s.Connecting="connecting",s.Connected="connected",s.Disconnected="disconnected",s))(Ia||{}),fe=(p=>(p.Transform="transform",p.Translate="translate",p.TransformSingle="transformSingle",p.Brush="brush",p.Arrow="arrow",p.Draw="draw",p.Erase="erase",p.Rotate="rotate",p.Handle="handle",p.Grid="grid",p.Edit="edit",p))(fe||{}),Ve=(m=>(m.Idle="idle",m.PointingHandle="pointingHandle",m.PointingBounds="pointingBounds",m.PointingBoundsHandle="pointingBoundsHandle",m.TranslatingLabel="translatingLabel",m.TranslatingHandle="translatingHandle",m.Translating="translating",m.Transforming="transforming",m.Rotating="rotating",m.Pinching="pinching",m.Brushing="brushing",m.Creating="creating",m.EditingText="editing-text",m))(Ve||{}),gs=(s=>(s.Backward="backward",s.Forward="forward",s.ToFront="toFront",s.ToBack="toBack",s))(gs||{}),Wo=(a=>(a.Top="top",a.CenterVertical="centerVertical",a.Bottom="bottom",a.Left="left",a.CenterHorizontal="centerHorizontal",a.Right="right",a))(Wo||{}),_o=(t=>(t.Horizontal="horizontal",t.Vertical="vertical",t))(_o||{}),Yo=(t=>(t.Horizontal="horizontal",t.Vertical="vertical",t))(Yo||{}),fs=(t=>(t.Horizontal="horizontal",t.Vertical="vertical",t))(fs||{}),le=(p=>(p.Sticky="sticky",p.Ellipse="ellipse",p.Rectangle="rectangle",p.Triangle="triangle",p.Draw="draw",p.Arrow="arrow",p.Line="line",p.Text="text",p.Group="group",p.Image="image",p.Video="video",p))(le||{}),Nn=(e=>(e.Arrow="arrow",e))(Nn||{}),Ss=(h=>(h.White="white",h.LightGray="lightGray",h.Gray="gray",h.Black="black",h.Green="green",h.Cyan="cyan",h.Blue="blue",h.Indigo="indigo",h.Violet="violet",h.Red="red",h.Orange="orange",h.Yellow="yellow",h))(Ss||{}),$o=(n=>(n.Small="small",n.Medium="medium",n.Large="large",n))($o||{}),Yt=(s=>(s.Draw="draw",s.Solid="solid",s.Dashed="dashed",s.Dotted="dotted",s))(Yt||{}),xa=(s=>(s.Small="small",s.Medium="medium",s.Large="large",s.ExtraLarge="extraLarge",s))(xa||{}),tt=(s=>(s.Start="start",s.Middle="middle",s.End="end",s.Justify="justify",s))(tt||{}),Ts=(s=>(s.Script="script",s.Sans="sans",s.Serif="serif",s.Mono="mono",s))(Ts||{}),Xo=(t=>(t.Image="image",t.Video="video",t))(Xo||{}),ys=(i=>(i.PNG="png",i.JPG="jpeg",i.WEBP="webp",i.SVG="svg",i.JSON="json",i))(ys||{}),bs=(s=>(s.Transparent="transparent",s.Auto="auto",s.Light="light",s.Dark="dark",s))(bs||{});function Zo(c){let e=yt(),t=react__WEBPACK_IMPORTED_MODULE_1__.useCallback((o=!1)=>{let l=c.current;return o&&(e.isMenuOpen||e.settings.keepStyleMenuOpen)?!0:(l==null||l.focus(),l&&(document.activeElement===l||l.contains(document.activeElement)))},[c]);react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{if(!e)return;let o=p=>{if(!!t(!0)){if(e.readOnly){e.copy(void 0,p);return}e.cut(void 0,p)}},l=p=>{!t(!0)||e.copy(void 0,p)},u=p=>{!t(!0)||e.readOnly||e.paste(void 0,p)};return document.addEventListener("cut",o),document.addEventListener("copy",l),document.addEventListener("paste",u),()=>{document.removeEventListener("cut",o),document.removeEventListener("copy",l),document.removeEventListener("paste",u)}},[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("v,1",()=>{!t(!0)||e.selectTool("select")},[e,c.current]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("d,p,2",()=>{!t(!0)||e.selectTool("draw")},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("e,3",()=>{!t(!0)||e.selectTool("erase")},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("r,4",()=>{!t(!0)||e.selectTool("rectangle")},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("o,5",()=>{!t(!0)||e.selectTool("ellipse")},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("g,6",()=>{!t()||e.selectTool("triangle")},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("l,7",()=>{!t(!0)||e.selectTool("line")},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("a,8",()=>{!t(!0)||e.selectTool("arrow")},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("t,9",()=>{!t(!0)||e.selectTool("text")},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("s,0",()=>{!t(!0)||e.selectTool("sticky")},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+shift+d,\u2318+shift+d",o=>{!t(!0)||(e.toggleDarkMode(),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+.,\u2318+.",()=>{!t(!0)||e.toggleFocusMode()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+shift+g,\u2318+shift+g",()=>{!t(!0)||e.toggleGrid()},void 0,[e]);let{onNewProject:n,onOpenProject:s,onSaveProject:i,onSaveProjectAs:a,onOpenMedia:d}=Ko();(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+n,\u2318+n",o=>{o.preventDefault(),!!t()&&n(o)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+s,\u2318+s",o=>{!t()||i(o)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+shift+s,\u2318+shift+s",o=>{!t()||a(o)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+o,\u2318+o",o=>{!t()||s(o)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+u,\u2318+u",o=>{!t()||d(o)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("\u2318+z,ctrl+z",o=>{o.preventDefault(),!!t(!0)&&(e.session?e.cancelSession():e.undo())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+shift+z,\u2318+shift+z",()=>{!t(!0)||(e.session?e.cancelSession():e.redo())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("\u2318+u,ctrl+u",()=>{!t()||e.undoSelect()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+shift-u,\u2318+shift+u",()=>{!t()||e.redoSelect()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+=,\u2318+=,ctrl+num_add,\u2318+num_add",o=>{!t(!0)||(e.zoomIn(),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+-,\u2318+-,ctrl+num_subtract,\u2318+num_subtract",o=>{!t(!0)||(e.zoomOut(),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+0,ctrl+numpad_0,\u2318+numpad_0",()=>{!t(!0)||e.resetZoom()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+1",()=>{!t(!0)||e.zoomToFit()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+2",()=>{!t(!0)||e.zoomToSelection()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+d,\u2318+d",o=>{!t()||(e.duplicate(),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+h",()=>{!t(!0)||e.flipHorizontal()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+v",()=>{!t(!0)||e.flipVertical()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("escape",()=>{!t(!0)||e.cancel()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("backspace,del",()=>{!t()||e.delete()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("\u2318+a,ctrl+a",()=>{!t(!0)||e.selectAll()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("up",()=>{!t()||e.nudge([0,-1],!1)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("right",()=>{!t()||e.nudge([1,0],!1)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("down",()=>{!t()||e.nudge([0,1],!1)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("left",()=>{!t()||e.nudge([-1,0],!1)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+up",()=>{!t()||e.nudge([0,-1],!0)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+right",()=>{!t()||e.nudge([1,0],!0)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+down",()=>{!t()||e.nudge([0,1],!0)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+left",()=>{!t()||e.nudge([-1,0],!0)},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("\u2318+shift+l,ctrl+shift+l",()=>{!t()||e.toggleLocked()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("\u2318+shift+c,ctrl+shift+c",o=>{!t()||(e.copySvg(),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("\u2318+g,ctrl+g",o=>{!t()||(e.group(),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("\u2318+shift+g,ctrl+shift+g",o=>{!t()||(e.ungroup(),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("[",()=>{!t(!0)||e.moveBackward()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("]",()=>{!t(!0)||e.moveForward()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+[",()=>{!t(!0)||e.moveToBack()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("shift+]",()=>{!t(!0)||e.moveToFront()},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("ctrl+shift+backspace,\u2318+shift+backspace",o=>{!t()||(e.settings.isDebugMode&&e.resetDocument(),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("alt+command+l,alt+ctrl+l",o=>{!t(!0)||(e.style({textAlign:"start"}),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("alt+command+t,alt+ctrl+t",o=>{!t(!0)||(e.style({textAlign:"middle"}),o.preventDefault())},void 0,[e]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_2__/* .useHotkeys */ .y1)("alt+command+r,alt+ctrl+r",o=>{!t(!0)||(e.style({textAlign:"end"}),o.preventDefault())},void 0,[e])}var ws=new Map,Vn="tldraw-fonts",va=`
@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');

@font-face {
  font-family: 'Recursive';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
    format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Recursive';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
    format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Recursive Mono';
  font-style: normal;
  font-weight: 420;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImqvTxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
    format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
`;function Qo(){react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{if(ws.get(Vn))return;let c=document.createElement("style");return c.innerHTML=va,c.setAttribute("id",Vn),document.head.appendChild(c),ws.set(Vn,c),()=>{c&&document.head.contains(c)&&(document.head.removeChild(c),ws.delete(Vn))}},[])}var Is=react__WEBPACK_IMPORTED_MODULE_1__.createContext({});function yt(){return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Is)}var Jo=react__WEBPACK_IMPORTED_MODULE_1__.createContext({});var Pa="\u0627\u0644\u0644\u0648\u0646",ka="\u064A\u0645\u0644\u0623",Da="\u0645\u062A\u0642\u0637\u0639",Ea="\u062D\u062C\u0645",Ca="\u062A\u0628\u0642\u0649 \u0645\u0641\u062A\u0648\u062D\u0629",Ba="\u0627\u0644\u062E\u0637",La="\u0645\u062D\u0627\u0630\u0627\u0629",Aa="\u0627\u0644\u0623\u0646\u0645\u0627\u0637",Ra="\u062A\u0643\u0628\u064A\u0631",Ha="\u062A\u0635\u063A\u064A\u0631",Ma="\u0625\u0644\u0649",za="\u0623\u062F\u0648\u0627\u062A",Fa="\u0627\u0644\u062A\u062D\u0648\u064A\u0644\u0627\u062A",Oa="\u0645\u0644\u0641",ja="\u062A\u062D\u0631\u064A\u0631",Ua="\u0645\u0639\u0627\u064A\u0646\u0629",Ga="\u0627\u0644\u062A\u0641\u0636\u064A\u0644\u0627\u062A",Na="\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",Ka="\u062E\u0631\u0648\u062C",Va="\u0643\u0646 \u0631\u0627\u0639\u064A\u0627\u064B",Wa="\u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0627\u0644\u0645\u062D\u062A\u0648\u0649",_a="\u062A\u0643\u0628\u064A\u0631 \u0644\u0644\u062A\u062D\u062F\u064A\u062F",Ya="\u062A\u0643\u0628\u064A\u0631 \u0644\u062A\u0646\u0627\u0633\u0628",$a="\u062A\u0643\u0628\u064A\u0631 \u0625\u0644\u0649",Xa="\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u062F\u0627\u0643\u0646",Za="\u0648\u0636\u0639 \u0627\u0644\u062A\u0631\u0643\u064A\u0632",qa="\u0648\u0636\u0639 \u0627\u0644\u062A\u0635\u062D\u064A\u062D",Qa="\u0627\u0638\u0647\u0631 \u0627\u0644\u0634\u0628\u0643\u0629",Ja="\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062F CAD",ed="\u0627\u0644\u0627\u062D\u062A\u0641\u0627\u0638 \u0628\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0646\u0645\u0637 \u0645\u0641\u062A\u0648\u062D\u0629",td="\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0644\u0642\u0637\u0627\u062A \u062F\u0627\u0626\u0645\u064B\u0627",nd="\u062A\u062F\u0648\u064A\u0631 \u0627\u0644\u0645\u0642\u0627\u0628\u0636",sd="\u0645\u0642\u0627\u0628\u0636 \u0645\u0644\u0632\u0645\u0629",od="\u0645\u0642\u0627\u0628\u0636 \u0627\u0633\u062A\u0646\u0633\u0627\u062E",id="\u0627\u0644\u063A\u0627\u0621",rd="\u0625\u0639\u0627\u062F\u0629",ad="\u0642\u0637\u0639",dd="\u0646\u0633\u062D",ld="\u0644\u0635\u0642",cd="\u0646\u0633\u062E \u0627\u0644\u0649",pd="\u0635\u062F\u0631 \u0627\u0644\u0649",ud="\u0627\u062E\u062A\u0631 \u0627\u0644\u0643\u0644",hd="\u0644\u0627 \u062A\u062E\u062A\u0631 \u0634\u064A\u0621",md="\u062D\u0630\u0641",gd="\u0645\u0634\u0631\u0648\u0639 \u062C\u062F\u064A\u062F",fd="\u0641\u062A\u062D",Sd="\u062D\u0641\u0638",Td="\u062D\u0641\u0638 \u0628\u0627\u0633\u0645",yd="\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0648\u0633\u0627\u0626\u0637",bd="\u0625\u0646\u0634\u0627\u0621 \u0635\u0641\u062D\u0629",wd="\u0635\u0641\u062D\u0629 \u062C\u062F\u064A\u062F\u0629",Id="\u0627\u0633\u0645 \u0627\u0644\u0635\u0641\u062D\u0629",xd="\u0646\u0633\u062E",vd="\u0627\u0644\u063A\u0627\u0621",Pd="\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u062F\u0639\u0648\u0629",kd="\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u062F\u0639\u0648\u0629 \u0627\u0644\u0642\u0631\u0627\u0621\u0629 \u0641\u0642\u0637",Dd="\u0642\u0645 \u0628\u0625\u0646\u0634\u0627\u0621 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646",Ed="\u0646\u0633\u062E \u0625\u0644\u0649 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646",Cd="\u0627\u062E\u062A\u0631",Bd="\u0645\u0645\u062D\u0627\u0629",Ld="\u0631\u0633\u0645",Ad="\u0633\u0647\u0645",Rd="\u0646\u0635",Hd="\u0644\u0627\u0635\u0642",Md="\u0645\u0631\u0628\u0639",zd="\u0628\u064A\u0636\u0627\u0648\u064A",Fd="\u0645\u062B\u0644\u062B",Od="\u062E\u0637",jd="\u062F\u0648\u0651\u0631",Ud="\u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F",Gd="\u0641\u062A\u062D \u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F",Nd="\u062C\u0645\u0651\u0639",Kd="\u0641\u0643 \u0627\u0644\u062A\u062C\u0645\u0639",Vd="\u0627\u0646\u062A\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u062E\u0644\u0641",Wd="\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u062E\u0644\u0641",_d="\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u0623\u0645\u0627\u0645",Yd="\u062A\u062D\u0631\u0643 \u0644\u0644\u0623\u0645\u0627\u0645",$d="\u0625\u0639\u0627\u062F\u0629 \u0636\u0628\u0637 \u0627\u0644\u0632\u0627\u0648\u064A\u0629",Xd="\u0642\u0641\u0644",Zd="\u0627\u0644\u063A\u0627\u0621 \u0627\u0644\u0642\u0641\u0644",qd="\u0627\u0646\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062D\u0629",Qd="\u0627\u0646\u0639\u0643\u0627\u0633 \u0623\u0641\u0642\u064A",Jd="\u0627\u0646\u0639\u0643\u0627\u0633 \u0639\u0645\u0648\u062F\u064A",el="\u062D\u0631\u0651\u0643",tl="\u0644\u0644\u0627\u0645\u0627\u0645",nl="\u0644\u0644\u062E\u0644\u0641",sl="\u0644\u0644\u0648\u0631\u0627\u0621",ol="\u062E\u0644\u0641",il="\u0644\u063A\u0629",rl="\u0644\u0644\u0645\u0632\u064A\u062F",al="\u0645\u0648\u0642\u0639 \u0627\u0644\u0627\u062F\u0648\u0627\u062A",dl="\u0627\u0633\u0641\u0644",ll="\u064A\u0633\u0627\u0631",cl="\u064A\u0645\u064A\u0646",pl="\u0623\u0639\u0644\u0649",ul="\u0635\u0641\u062D\u0629",hl="\u0627\u062E\u062A\u0635\u0627\u0631\u0627\u062A \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0641\u0627\u062A\u064A\u062D",ml="\u0628\u062D\u062B",gl="{dots}\u062A\u062D\u0645\u064A\u0644 ",fl="\u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u062E\u0644\u0641\u064A\u0629",Sl="\u0634\u0640\u0641\u0627\u0641",Tl="\u0630\u0627\u062A\u064A",yl="\u062E\u0641\u064A\u0641",bl="\u063A\u0627\u0645\u0642",ei={"style.menu.color":Pa,"style.menu.fill":ka,"style.menu.dash":Da,"style.menu.size":Ea,"style.menu.keep.open":Ca,"style.menu.font":Ba,"style.menu.align":La,styles:Aa,"zoom.in":Ra,"zoom.out":Ha,to:Ma,"menu.tools":za,"menu.transform":Fa,"menu.file":Oa,"menu.edit":ja,"menu.view":Ua,"menu.preferences":Ga,"menu.sign.in":Na,"menu.sign.out":Ka,"become.a.sponsor":Va,"zoom.to.content":Wa,"zoom.to.selection":_a,"zoom.to.fit":Ya,"zoom.to":$a,"preferences.dark.mode":Xa,"preferences.focus.mode":Za,"preferences.debug.mode":qa,"preferences.show.grid":Qa,"preferences.use.cad.selection":Ja,"preferences.keep.stylemenu.open":ed,"preferences.always.show.snaps":td,"preferences.rotate.handles":nd,"preferences.binding.handles":sd,"preferences.clone.handles":od,undo:id,redo:rd,cut:ad,copy:dd,paste:ld,"copy.as":cd,"export.as":pd,"select.all":ud,"select.none":hd,delete:md,"new.project":gd,open:fd,save:Sd,"save.as":Td,"upload.media":yd,"create.page":bd,"new.page":wd,"page.name":Id,duplicate:xd,cancel:vd,"copy.invite.link":Pd,"copy.readonly.link":kd,"create.multiplayer.project":Dd,"copy.multiplayer.project":Ed,select:Cd,eraser:Bd,draw:Ld,arrow:Ad,text:Rd,sticky:Hd,rectangle:Md,ellipse:zd,triangle:Fd,line:Od,rotate:jd,"lock.aspect.ratio":Ud,"unlock.aspect.ratio":Gd,group:Nd,ungroup:Kd,"move.to.back":Vd,"move.backward":Wd,"move.forward":_d,"move.to.front":Yd,"reset.angle":$d,lock:Xd,unlock:Zd,"move.to.page":qd,"flip.horizontal":Qd,"flip.vertical":Jd,move:el,"to.front":tl,forward:nl,backward:sl,back:ol,language:il,"translation.link":rl,"dock.position":al,bottom:dl,left:ll,right:cl,top:pl,page:ul,"keyboard.shortcuts":hl,search:ml,loading:gl,"export.background":fl,transparent:Sl,auto:Tl,light:yl,dark:bl};var wl="Farve",Il="Fyld",xl="Streg",vl="St\xF8rrelse",Pl="Hold \xE5ben",kl="Skrifttype",Dl="Juster",El="Format",Cl="Zoom ind",Bl="Zoom ud",Ll="til",Al="Fil",Rl="Rediger",Hl="Vis",Ml="Indstillinger",zl="Log ind",Fl="Log ud",Ol="Bliv sponsor",jl="Zoom til valgte",Ul="Zoom til l\xE6rred",Gl="Zoom til",Nl="M\xF8rkt udseende",Kl="Fokus tilstand",Vl="Debug tilstand",Wl="Vis net",_l="Brug CAD udv\xE6lgelse",Yl="Hold formatmenuen \xE5ben",$l="Vis altid snaps",Xl="Roteringsh\xE5ndtag",Zl="Bindingsh\xE5ndtag",ql="Kloningsh\xE5ndtag",Ql="Fortryd",Jl="Gentag",ec="Klip",tc="Kopier",nc="Inds\xE6t",sc="Kopier som",oc="Eksporter som",ic="V\xE6lg alt",rc="Frav\xE6lg alt",ac="Slet",dc="Nyt projekt",lc="\xC5ben",cc="Gem",pc="Gem som",uc="Upload medie",hc="Opret side",mc="Ny side",gc="Sidenavn",fc="Dupliker",Sc="Fortryd",Tc="Kopier invitationslink",yc="Opret multiplayer projekt",bc="Kopier til multiplayer projekt",wc="V\xE6lg",Ic="Viskel\xE6der",xc="Tegn",vc="Pil",Pc="Tekst",kc="Note",Dc="Rektangel",Ec="Ellipse",Cc="Trekant",Bc="Linje",Lc="Roter",Ac="L\xE5s billedformat",Rc="Frig\xF8r billedformat",Hc="Grupper",Mc="Opdel gruppe",zc="Placer bagerst",Fc="Flyt tilbage",Oc="Flyt frem",jc="L\xE6g forrest",Uc="Nulstil vinkel",Gc="L\xE5s",Nc="L\xE5s op",Kc="Flyt til side",Vc="Vend vandret",Wc="Vend lodret",_c="Flyt",Yc="Forrest",$c="Frem",Xc="Tilbage",Zc="Bagerst",qc="Sprog",ti={"style.menu.color":wl,"style.menu.fill":Il,"style.menu.dash":xl,"style.menu.size":vl,"style.menu.keep.open":Pl,"style.menu.font":kl,"style.menu.align":Dl,styles:El,"zoom.in":Cl,"zoom.out":Bl,to:Ll,"menu.file":Al,"menu.edit":Rl,"menu.view":Hl,"menu.preferences":Ml,"menu.sign.in":zl,"menu.sign.out":Fl,"become.a.sponsor":Ol,"zoom.to.selection":jl,"zoom.to.fit":Ul,"zoom.to":Gl,"preferences.dark.mode":Nl,"preferences.focus.mode":Kl,"preferences.debug.mode":Vl,"preferences.show.grid":Wl,"preferences.use.cad.selection":_l,"preferences.keep.stylemenu.open":Yl,"preferences.always.show.snaps":$l,"preferences.rotate.handles":Xl,"preferences.binding.handles":Zl,"preferences.clone.handles":ql,undo:Ql,redo:Jl,cut:ec,copy:tc,paste:nc,"copy.as":sc,"export.as":oc,"select.all":ic,"select.none":rc,delete:ac,"new.project":dc,open:lc,save:cc,"save.as":pc,"upload.media":uc,"create.page":hc,"new.page":mc,"page.name":gc,duplicate:fc,cancel:Sc,"copy.invite.link":Tc,"create.multiplayer.project":yc,"copy.multiplayer.project":bc,select:wc,eraser:Ic,draw:xc,arrow:vc,text:Pc,sticky:kc,rectangle:Dc,ellipse:Ec,triangle:Cc,line:Bc,rotate:Lc,"lock.aspect.ratio":Ac,"unlock.aspect.ratio":Rc,group:Hc,ungroup:Mc,"move.to.back":zc,"move.backward":Fc,"move.forward":Oc,"move.to.front":jc,"reset.angle":Uc,lock:Gc,unlock:Nc,"move.to.page":Kc,"flip.horizontal":Vc,"flip.vertical":Wc,move:_c,"to.front":Yc,forward:$c,backward:Xc,back:Zc,language:qc};var Qc="Farbe",Jc="F\xFCllen",ep="Strich",tp="Gr\xF6\xDFe",np="Offen halten",sp="Schriftart",op="Ausrichten",ip="Stile",rp="Heranzoomen",ap="Herauszoomen",dp="zu",lp="Datei",cp="Bearbeiten",pp="Ansicht",up="Pr\xE4ferenzen",hp="Einloggen",mp="Ausloggen",gp="Sponsor werden",fp="Zur Auswahl zoomen",Sp="Zoom anpassen",Tp="Zoomen nach",yp="Dunkler Modus",bp="Fokus Modus",wp="Debug Modus",Ip="Gitter anzeigen",xp="CAD Auswahl verwenden",vp="Stilmen\xFC offen halten",Pp="Hilfslinien immer anzeigen",kp="Rotiergriffe",Dp="Bindegriffe",Ep="Klongriffe",Cp="R\xFCckg\xE4ngig machen",Bp="Wiederherstellen",Lp="Ausschneiden",Ap="Kopieren",Rp="Einf\xFCgen",Hp="Kopieren als",Mp="Exportieren als",zp="Alles ausw\xE4hlen",Fp="Nichts ausw\xE4hlen",Op="L\xF6schen",jp="Neues Projekt",Up="\xD6ffnen",Gp="Speichern",Np="Speichern als",Kp="Medien hochladen",Vp="Seite erstellen",Wp="Neue Seite",_p="Seitenname",Yp="Duplizieren",$p="Abbrechen",Xp="Einladungslink kopieren",Zp="Mehrspielerprojekt kreieren",qp="In Mehrspielerprojekt kopieren",Qp="Ausw\xE4hlen",Jp="Radierer",eu="Malen",tu="Pfeil",nu="Text",su="Notiz",ou="Rechteck",iu="Ellipse",ru="Dreieck",au="Linie",du="Drehen",lu="Seitenverh\xE4ltnis sperren",cu="Seitenverh\xE4ltnis entsperren",pu="Gruppieren",uu="Gruppierung aufheben",hu="Nach Hinten verschieben",mu="R\xFCckw\xE4rts schieben",gu="Vorw\xE4rts schieben",fu="Nach Vorne verschieben",Su="Winkel zur\xFCcksetzen",Tu="Sperren",yu="Entsperren",bu="Zu Seite verschieben",wu="Horizontal spiegeln",Iu="Vertikal spiegeln",xu="Verschieben",vu="Nach Vorne",Pu="Vorw\xE4rts",ku="R\xFCckw\xE4rts",Du="Hinten",Eu="Sprache",ni={"style.menu.color":Qc,"style.menu.fill":Jc,"style.menu.dash":ep,"style.menu.size":tp,"style.menu.keep.open":np,"style.menu.font":sp,"style.menu.align":op,styles:ip,"zoom.in":rp,"zoom.out":ap,to:dp,"menu.file":lp,"menu.edit":cp,"menu.view":pp,"menu.preferences":up,"menu.sign.in":hp,"menu.sign.out":mp,"become.a.sponsor":gp,"zoom.to.selection":fp,"zoom.to.fit":Sp,"zoom.to":Tp,"preferences.dark.mode":yp,"preferences.focus.mode":bp,"preferences.debug.mode":wp,"preferences.show.grid":Ip,"preferences.use.cad.selection":xp,"preferences.keep.stylemenu.open":vp,"preferences.always.show.snaps":Pp,"preferences.rotate.handles":kp,"preferences.binding.handles":Dp,"preferences.clone.handles":Ep,undo:Cp,redo:Bp,cut:Lp,copy:Ap,paste:Rp,"copy.as":Hp,"export.as":Mp,"select.all":zp,"select.none":Fp,delete:Op,"new.project":jp,open:Up,save:Gp,"save.as":Np,"upload.media":Kp,"create.page":Vp,"new.page":Wp,"page.name":_p,duplicate:Yp,cancel:$p,"copy.invite.link":Xp,"create.multiplayer.project":Zp,"copy.multiplayer.project":qp,select:Qp,eraser:Jp,draw:eu,arrow:tu,text:nu,sticky:su,rectangle:ou,ellipse:iu,triangle:ru,line:au,rotate:du,"lock.aspect.ratio":lu,"unlock.aspect.ratio":cu,group:pu,ungroup:uu,"move.to.back":hu,"move.backward":mu,"move.forward":gu,"move.to.front":fu,"reset.angle":Su,lock:Tu,unlock:yu,"move.to.page":bu,"flip.horizontal":wu,"flip.vertical":Iu,move:xu,"to.front":vu,forward:Pu,backward:ku,back:Du,language:Eu};var si={};var Bu="Color",Lu="Relleno",Au="L\xEDnea",Ru="Tama\xF1o",Hu="Mantener abierto",Mu="Fuente",zu="Alineaci\xF3n",Fu="Estilos",Ou="Acercar",ju="Alejar",Uu="A",Gu="Archivo",Nu="Editar",Ku="Ver",Vu="Preferencias",Wu="Iniciar sesi\xF3n",_u="Cerrar sesi\xF3n",Yu="Convi\xE9rtete en patrocinador",$u="Acercar al contenido",Xu="Acercar a la selecci\xF3n",Zu="Ajustar a la ventana",qu="Acercar a",Qu="Modo oscuro",Ju="Modo concentraci\xF3n",eh="Modo depuraci\xF3n",th="Mostrar cuadr\xEDcula",nh="Usar selecci\xF3n CAD",sh="Mantener men\xFA de estilos abierto",oh="Mostrar puntos de ajuste",ih="Control de rotaci\xF3n",rh="Control de vinculaci\xF3n",ah="Control de clonaci\xF3n",dh="Deshacer",lh="Rehacer",ch="Cortar",ph="Copiar",uh="Pegar",hh="Copiar como",mh="Exportar como",gh="Selecionar todo",fh="Selecionar nada",Sh="Borrar",Th="Nuevo Proyecto",yh="Abrir",bh="Guardar",wh="Guardar como",Ih="Subir medios",xh="Crear p\xE1gina",vh="Nueva p\xE1gina",Ph="Nombre de p\xE1gina",kh="Duplicar",Dh="Cancelar",Eh="Copiar invitaci\xF3n",Ch="Copiar invitaci\xF3n (solo lectura)",Bh="Crear proyecto multijugador",Lh="Copiar proyecto multijugador",Ah="Seleccionar",Rh="Borrador",Hh="Dibujar",Mh="Flecha",zh="Texto",Fh="Pegatina",Oh="Rect\xE1ngulo",jh="Elipse",Uh="Tri\xE1ngulo",Gh="L\xEDnea",Nh="Rotar",Kh="Bloquear relaci\xF3n de aspecto",Vh="Desbloquear relaci\xF3n de aspecto",Wh="Agrupar",_h="Desagrupar",Yh="Mover al fondo",$h="Mover atr\xE1s",Xh="Mover adelante",Zh="Mover al frente",qh="Restablecer \xE1ngulo",Qh="Bloquear",Jh="Desbloquear",em="Mover a p\xE1gina",tm="Voltear horizontalmente",nm="Voltear verticalmente",sm="Mover",om="Al frente",im="Adelante",rm="Atr\xE1s",am="Fondo",dm="Idioma",lm="Saber m\xE1s",cm="Posici\xF3n del dock",pm="Abajo",um="Atajos de teclado",hm="Cargando{dots}",mm="Izquierda",gm="Derecha",fm="Arriba",Sm="Buscar",Tm="P\xE1gina",ym="Imagen",oi={"style.menu.color":Bu,"style.menu.fill":Lu,"style.menu.dash":Au,"style.menu.size":Ru,"style.menu.keep.open":Hu,"style.menu.font":Mu,"style.menu.align":zu,styles:Fu,"zoom.in":Ou,"zoom.out":ju,to:Uu,"menu.file":Gu,"menu.edit":Nu,"menu.view":Ku,"menu.preferences":Vu,"menu.sign.in":Wu,"menu.sign.out":_u,"become.a.sponsor":Yu,"zoom.to.content":$u,"zoom.to.selection":Xu,"zoom.to.fit":Zu,"zoom.to":qu,"preferences.dark.mode":Qu,"preferences.focus.mode":Ju,"preferences.debug.mode":eh,"preferences.show.grid":th,"preferences.use.cad.selection":nh,"preferences.keep.stylemenu.open":sh,"preferences.always.show.snaps":oh,"preferences.rotate.handles":ih,"preferences.binding.handles":rh,"preferences.clone.handles":ah,undo:dh,redo:lh,cut:ch,copy:ph,paste:uh,"copy.as":hh,"export.as":mh,"select.all":gh,"select.none":fh,delete:Sh,"new.project":Th,open:yh,save:bh,"save.as":wh,"upload.media":Ih,"create.page":xh,"new.page":vh,"page.name":Ph,duplicate:kh,cancel:Dh,"copy.invite.link":Eh,"copy.readonly.link":Ch,"create.multiplayer.project":Bh,"copy.multiplayer.project":Lh,select:Ah,eraser:Rh,draw:Hh,arrow:Mh,text:zh,sticky:Fh,rectangle:Oh,ellipse:jh,triangle:Uh,line:Gh,rotate:Nh,"lock.aspect.ratio":Kh,"unlock.aspect.ratio":Vh,group:Wh,ungroup:_h,"move.to.back":Yh,"move.backward":$h,"move.forward":Xh,"move.to.front":Zh,"reset.angle":qh,lock:Qh,unlock:Jh,"move.to.page":em,"flip.horizontal":tm,"flip.vertical":nm,move:sm,"to.front":om,forward:im,backward:rm,back:am,language:dm,"translation.link":lm,"dock.position":cm,bottom:pm,"keyboard.shortcuts":um,loading:hm,left:mm,right:gm,top:fm,search:Sm,page:Tm,image:ym};var bm="\u0631\u0646\u06AF",wm="\u062A\u0648\u067E\u064F\u0631",Im="\u062E\u0637\u200C \u0686\u06CC\u0646",xm="\u0627\u0646\u062F\u0627\u0632\u0647",vm="\u0628\u0627\u0632 \u0628\u0627\u0634",Pm="\u0641\u0648\u0646\u062A",km="\u062A\u0631\u0627\u0632",Dm="\u0627\u0633\u062A\u0627\u06CC\u0644\u200C\u0647\u0627",Em="\u0632\u0648\u0645 \u062C\u0644\u0648",Cm="\u0632\u0648\u0645 \u0639\u0642\u0628",Bm="\u0628\u0647",Lm="\u0641\u0627\u06CC\u0644",Am="\u0648\u06CC\u0631\u0627\u06CC\u0634",Rm="\u0646\u0645\u0627\u06CC\u0634",Hm="\u062A\u0646\u0638\u06CC\u0645\u200C\u0647\u0627",Mm="\u0648\u0631\u0648\u062F",zm="\u062E\u0631\u0648\u062C",Fm=" \u062D\u0627\u0645\u06CC \u0634\u0648",Om="\u0646\u0645\u0627\u06CC\u0634 \u0627\u0646\u062A\u062E\u0627\u0628\u200C\u0634\u062F\u0647\u200C\u0647\u0627",jm="\u0646\u0645\u0627\u06CC\u0634 \u06A9\u0644 \u0635\u0641\u062D\u0647",Um="\u0632\u0648\u0645 \u0628\u0647 ",Gm="\u062D\u0627\u0644\u062A \u0634\u0628",Nm="\u062D\u0627\u0644\u062A \u062A\u0645\u0631\u06A9\u0632",Km="\u062D\u0627\u0644\u062A \u0639\u06CC\u0628\u200C\u06CC\u0627\u06CC\u06CC",Vm="\u0646\u0645\u0627\u06CC\u0634 \u062E\u0637\u0648\u0637 \u0631\u0627\u0647\u0646\u0645\u0627",Wm="\u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u062D\u0627\u0644\u062A \u0627\u0646\u062A\u062E\u0627\u0628\u06CC CAD",_m="\u0645\u0646\u0648\u06CC \u0627\u0633\u062A\u0627\u06CC\u0644 \u0628\u0627\u0632 \u0628\u0627\u0634\u0647",Ym="\u0631\u0627\u0647\u0646\u0645\u0627\u06CC \u0644\u0628\u0647\u200C\u0647\u0627 \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",$m="\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u0686\u0631\u062E\u0634 \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",Xm="\u062F\u0633\u062A\u0647\u0654 \u0644\u0628\u0647\u200C\u0647\u0627 \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",Zm="\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u06A9\u067E\u06CC \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",qm="\u06CC\u0647 \u0642\u062F\u0645 \u0639\u0642\u0628",Qm="\u06CC\u0647 \u0642\u062F\u0645 \u062C\u0644\u0648",Jm="\u0628\u0631\u06CC\u062F\u0646",eg="\u06A9\u067E\u06CC",tg="\u062C\u0627\u06CC\u200C\u06AF\u0630\u0627\u0631\u06CC",ng="\u06A9\u067E\u06CC \u0628\u0647\u200C\u200C\u0639\u0646\u0648\u0627\u0646",sg="\u062E\u0631\u0648\u062C\u06CC \u0628\u0627 \u0641\u0631\u0645\u062A",og="\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0645\u0647",ig="\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u06CC\u0686",rg=" \u067E\u0627\u06A9\u200C\u06A9\u0631\u062F\u0646",ag="\u067E\u0631\u0648\u0698\u0647\u0654 \u062A\u0627\u0632\u0647",dg="\u0628\u0627\u0632 \u06A9\u0646",lg="\u0630\u062E\u06CC\u0631\u0647",cg="\u0630\u062E\u06CC\u0631\u0647 \u0628\u0627 \u0627\u0633\u0645",pg="\u0622\u067E\u0644\u0648\u062F \u0639\u06A9\u0633",ug="\u0633\u0627\u062E\u062A \u0635\u0641\u062D\u0647",hg="\u0635\u0641\u062D\u0647\u0654 \u062A\u0627\u0632\u0647",mg="\u0627\u0633\u0645 \u0635\u0641\u062D\u0647",gg="\u06A9\u067E\u06CC \u062F\u0631\u062C\u0627",fg="\u0628\u06CC\u200C\u062E\u06CC\u0627\u0644",Sg="\u06A9\u067E\u06CC \u0644\u06CC\u0646\u06A9 \u062F\u0639\u0648\u062A",Tg="\u0633\u0627\u062E\u062A \u067E\u0631\u0648\u0698\u0647\u0654 \u0686\u0646\u062F\u0646\u0641\u0631\u0647",yg="\u06A9\u067E\u06CC \u062F\u0631 \u067E\u0631\u0648\u0698\u0647\u0654 \u0686\u0646\u062F\u0646\u0641\u0631\u0647",bg="\u0627\u0646\u062A\u062E\u0627\u0628",wg="\u067E\u0627\u06A9\u200C\u06A9\u0646",Ig="\u0631\u0633\u0645",xg="\u0641\u0644\u0650\u0634",vg="\u0645\u062A\u0646",Pg="\u06CC\u0627\u062F\u062F\u0627\u0634\u062A",kg="\u0686\u0627\u0631\u06AF\u0648\u0634",Dg="\u06AF\u0631\u062F\u06CC",Eg="\u0633\u0647\u200C\u06AF\u0648\u0634",Cg="\u062E\u0637",Bg="\u0686\u0631\u062E\u0634",Lg="\u062A\u062B\u0628\u06CC\u062A \u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F",Ag="\u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F \u0645\u062A\u063A\u06CC\u0631",Rg="\u062C\u0645\u0639 \u06A9\u0646",Hg="\u062C\u062F\u0627 \u06A9\u0646",Mg="\u0628\u0628\u0631 \u0622\u062E\u0631",zg="\u0628\u0628\u0631 \u0639\u0642\u0628",Fg="\u0628\u0628\u0631 \u0627\u0648\u0644",Og="\u0628\u0628\u0631 \u062C\u0644\u0648",jg="\u062D\u0630\u0641 \u0686\u0631\u062E\u0634",Ug="\u0642\u0641\u0644\u200C \u06A9\u0646",Gg="\u0628\u0627\u0632 \u06A9\u0646",Ng="\u0628\u0628\u0631 \u0628\u0647 \u0635\u0641\u062D\u0647",Kg="\u0628\u0631\u06AF\u0631\u062F\u0648\u0646 \u0627\u0641\u0642\u06CC",Vg="\u0628\u0631\u06AF\u0631\u062F\u0648\u0646 \u0639\u0645\u0648\u062F\u06CC",Wg="\u062C\u0627\u0628\u0647\u200C\u062C\u0627\u0634 \u06A9\u0646",_g="\u0628\u0647 \u0627\u0648\u0644",Yg="\u0628\u0647 \u062C\u0644\u0648",$g="\u0628\u0647 \u0639\u0642\u0628",Xg="\u0628\u0647 \u0622\u062E\u0631",Zg="\u0632\u0628\u0627\u0646",ii={"style.menu.color":bm,"style.menu.fill":wm,"style.menu.dash":Im,"style.menu.size":xm,"style.menu.keep.open":vm,"style.menu.font":Pm,"style.menu.align":km,styles:Dm,"zoom.in":Em,"zoom.out":Cm,to:Bm,"menu.file":Lm,"menu.edit":Am,"menu.view":Rm,"menu.preferences":Hm,"menu.sign.in":Mm,"menu.sign.out":zm,"become.a.sponsor":Fm,"zoom.to.selection":Om,"zoom.to.fit":jm,"zoom.to":Um,"preferences.dark.mode":Gm,"preferences.focus.mode":Nm,"preferences.debug.mode":Km,"preferences.show.grid":Vm,"preferences.use.cad.selection":Wm,"preferences.keep.stylemenu.open":_m,"preferences.always.show.snaps":Ym,"preferences.rotate.handles":$m,"preferences.binding.handles":Xm,"preferences.clone.handles":Zm,undo:qm,redo:Qm,cut:Jm,copy:eg,paste:tg,"copy.as":ng,"export.as":sg,"select.all":og,"select.none":ig,delete:rg,"new.project":ag,open:dg,save:lg,"save.as":cg,"upload.media":pg,"create.page":ug,"new.page":hg,"page.name":mg,duplicate:gg,cancel:fg,"copy.invite.link":Sg,"create.multiplayer.project":Tg,"copy.multiplayer.project":yg,select:bg,eraser:wg,draw:Ig,arrow:xg,text:vg,sticky:Pg,rectangle:kg,ellipse:Dg,triangle:Eg,line:Cg,rotate:Bg,"lock.aspect.ratio":Lg,"unlock.aspect.ratio":Ag,group:Rg,ungroup:Hg,"move.to.back":Mg,"move.backward":zg,"move.forward":Fg,"move.to.front":Og,"reset.angle":jg,lock:Ug,unlock:Gg,"move.to.page":Ng,"flip.horizontal":Kg,"flip.vertical":Vg,move:Wg,"to.front":_g,forward:Yg,backward:$g,back:Xg,language:Zg};var qg="Couleur",Qg="Remplir",Jg="Bordure",ef="Taille",tf="Toujours afficher le menu",nf="Police",sf="Alignement",of="Styles",rf="Zoom avant",af="Zoom arri\xE8re",df="\xC0",lf="Outils",cf="Transformation",pf="Fichier",uf="\xC9dition",hf="Afficher",mf="Pr\xE9f\xE9rences",gf="S'authentifier",ff="Se d\xE9connecter",Sf="Devenir un sponsor",Tf="Retour au contenu",yf="Ajuster le zoom \xE0 la s\xE9lection",bf="Adapter le zoom au contenu",wf="R\xE9tablir le zoom \xE0",If="Mode sombre",xf="Mode focus",vf="Afficher la barre d\xE9veloppeur",Pf="Afficher la grille",kf="Utiliser la s\xE9lection CAD",Df="Toujours afficher le menu styles",Ef="Afficher les rep\xE8res dynamiques",Cf="Manier la rotation",Bf="Manier les liaisons",Lf="Manier le clonage",Af="Annuler",Rf="R\xE9tablir",Hf="Couper",Mf="Copier",zf="Coller",Ff="Copier au format",Of="Exporter au format",jf="Tout s\xE9lectionner",Uf="Tout d\xE9s\xE9lectionner",Gf="Supprimer",Nf="Nouveau project",Kf="Ouvrir",Vf="Enregistrer",Wf="Enregistrer sous",_f="Importer un m\xE9dia",Yf="Cr\xE9er une page",$f="Nouvelle Page",Xf="Nom de la page",Zf="Dupliquer",qf="Annuler",Qf="Copier le lien d'invitation",Jf="Copier le lien en lecture seule d'invitation",eS="Cr\xE9er un project multi-joueurs",tS="Copier dans un projet multi-joueurs",nS="S\xE9lection",sS="Gomme",oS="Crayon",iS="Fl\xE8che",rS="Texte",aS="Note",dS="Rectangle",lS="Cercle",cS="Triangle",pS="Ligne",uS="Rotation",hS="Verrouiller les proportions",mS="D\xE9verrouiller les proportions",gS="Grouper",fS="D\xE9grouper",SS="D\xE9placer \xE0 l'arri\xE8re-plan",TS="Reculer d'un plan",yS="Avancer d'un plan",bS="Placer au premier plan",wS="R\xE9initialiser la rotation",IS="Verrouiller",xS="D\xE9verrouiller",vS="Alignement / R\xE9partion",PS="D\xE9placer vers la page",kS="Retourner horizontalement",DS="Retourner verticalement",ES="Disposition",CS="Placer au premier plan",BS="Avancer d'un plan",LS="Reculer d'un plan",AS="D\xE9placer \xE0 l'arri\xE8re-plan",RS="Langage",HS="En savoir plus",MS="Position du dock",zS="En bas",FS="\xC0 gauche",OS="\xC0 droite",jS="En haut",US="Page",GS="Raccourcis clavier",NS="Rechercher",KS="Chargement{dots}",VS="Couleur d'arri\xE8re-plan de l'export",WS="Transparent",_S="Automatique",YS="Clair",$S="Sombre",ri={"style.menu.color":qg,"style.menu.fill":Qg,"style.menu.dash":Jg,"style.menu.size":ef,"style.menu.keep.open":tf,"style.menu.font":nf,"style.menu.align":sf,styles:of,"zoom.in":rf,"zoom.out":af,to:df,"menu.tools":lf,"menu.transform":cf,"menu.file":pf,"menu.edit":uf,"menu.view":hf,"menu.preferences":mf,"menu.sign.in":gf,"menu.sign.out":ff,"become.a.sponsor":Sf,"zoom.to.content":Tf,"zoom.to.selection":yf,"zoom.to.fit":bf,"zoom.to":wf,"preferences.dark.mode":If,"preferences.focus.mode":xf,"preferences.debug.mode":vf,"preferences.show.grid":Pf,"preferences.use.cad.selection":kf,"preferences.keep.stylemenu.open":Df,"preferences.always.show.snaps":Ef,"preferences.rotate.handles":Cf,"preferences.binding.handles":Bf,"preferences.clone.handles":Lf,undo:Af,redo:Rf,cut:Hf,copy:Mf,paste:zf,"copy.as":Ff,"export.as":Of,"select.all":jf,"select.none":Uf,delete:Gf,"new.project":Nf,open:Kf,save:Vf,"save.as":Wf,"upload.media":_f,"create.page":Yf,"new.page":$f,"page.name":Xf,duplicate:Zf,cancel:qf,"copy.invite.link":Qf,"copy.readonly.link":Jf,"create.multiplayer.project":eS,"copy.multiplayer.project":tS,select:nS,eraser:sS,draw:oS,arrow:iS,text:rS,sticky:aS,rectangle:dS,ellipse:lS,triangle:cS,line:pS,rotate:uS,"lock.aspect.ratio":hS,"unlock.aspect.ratio":mS,group:gS,ungroup:fS,"move.to.back":SS,"move.backward":TS,"move.forward":yS,"move.to.front":bS,"reset.angle":wS,lock:IS,unlock:xS,"align.distribute":vS,"move.to.page":PS,"flip.horizontal":kS,"flip.vertical":DS,move:ES,"to.front":CS,forward:BS,backward:LS,back:AS,language:RS,"translation.link":HS,"dock.position":MS,bottom:zS,left:FS,right:OS,top:jS,page:US,"keyboard.shortcuts":GS,search:NS,loading:KS,"export.background":VS,transparent:WS,auto:_S,light:YS,dark:$S};var XS="\u05E6\u05D1\u05E2",ZS="\u05DE\u05DC\u05D0",qS="\u05D2\u05D1\u05D5\u05DC",QS="\u05D2\u05D5\u05D3\u05DC",JS="\u05D4\u05E9\u05D0\u05E8 \u05E4\u05EA\u05D5\u05D7",eT="\u05D2\u05D5\u05E4\u05DF",tT="\u05D9\u05D9\u05E9\u05D5\u05E8",nT="\u05E2\u05D9\u05E6\u05D5\u05D1",sT="\u05D4\u05D2\u05D3\u05DC \u05EA\u05E6\u05D5\u05D2\u05D4",oT="\u05D4\u05E7\u05D8\u05DF \u05EA\u05E6\u05D5\u05D2\u05D4",iT="\u05DC",rT="\u05E7\u05D5\u05D1\u05E5",aT="\u05E2\u05E8\u05D9\u05DB\u05D4",dT="\u05EA\u05E6\u05D5\u05D2\u05D4",lT="\u05DE\u05D0\u05E4\u05D9\u05D9\u05E0\u05D9\u05DD",cT="\u05D4\u05D9\u05E8\u05E9\u05DD",pT="\u05D4\u05EA\u05E0\u05EA\u05E7",uT="\u05DE\u05EA\u05DF \u05D7\u05E1\u05D5\u05EA",hT="\u05D6\u05D5\u05DD \u05DC\u05D1\u05D7\u05D9\u05E8\u05D4",mT="\u05D6\u05D5\u05DD \u05DC\u05D4\u05EA\u05D0\u05DE\u05D4",gT="\u05D6\u05D5\u05DD \u05DC",fT="\u05DE\u05E6\u05D1 \u05D7\u05E9\u05D5\u05DA",ST="\u05DE\u05E6\u05D1 \u05E4\u05D5\u05E7\u05D5\u05E1",TT="\u05DE\u05E6\u05D1 \u05D3\u05D9\u05D1\u05D0\u05D2",yT="(\u05D2\u05E8\u05D9\u05D3)\u05D4\u05E8\u05D0\u05D4 \u05E8\u05E9\u05EA \u05E2\u05D9\u05DE\u05D5\u05D3",bT="\u05E1\u05D9\u05DE\u05D5\u05DF CAD",wT="\u05D4\u05E9\u05D0\u05E8 \u05EA\u05E4\u05E8\u05D9\u05D8 \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E4\u05EA\u05D5\u05D7",IT="\u05D4\u05E8\u05D0\u05D4 \u05E7\u05D5\u05D5\u05D9 \u05DE\u05EA\u05D0\u05E8",xT="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E1\u05D9\u05D1\u05D5\u05D1",vT="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E7\u05E9\u05D9\u05E8\u05D4",PT="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E9\u05D9\u05DB\u05E4\u05D5\u05DC",kT="\u05D1\u05D8\u05DC",DT="\u05E2\u05E9\u05D4 \u05DE\u05D7\u05D3\u05E9",ET="\u05D2\u05D6\u05D5\u05E8",CT="\u05D4\u05E2\u05EA\u05E7",BT="\u05D4\u05D3\u05D1\u05E7",LT="\u05D4\u05E2\u05EA\u05E7 \u05DB",AT="\u05D9\u05D9\u05E6\u05D0 \u05DB",RT="\u05D1\u05D7\u05E8 \u05D4\u05DB\u05DC",HT="\u05D1\u05D8\u05DC \u05D1\u05D7\u05D9\u05E8\u05D4",MT="\u05DE\u05D7\u05E7",zT="\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05D7\u05D3\u05E9",FT="\u05E4\u05EA\u05D7",OT="\u05E9\u05DE\u05D5\u05E8",jT="\u05E9\u05DE\u05D5\u05E8 \u05DB",UT="\u05D4\u05E2\u05DC\u05D0\u05EA \u05DE\u05D3\u05D9\u05D4",GT="\u05E6\u05D5\u05E8 \u05D3\u05E3",NT="\u05D3\u05E3 \u05D7\u05D3\u05E9",KT="\u05E9\u05DD \u05D4\u05D3\u05E3",VT="\u05E9\u05DB\u05E4\u05DC",WT="\u05D1\u05D8\u05DC",_T="\u05D4\u05E2\u05EA\u05E7 \u05E7\u05D9\u05E9\u05D5\u05E8 \u05D4\u05D6\u05DE\u05E0\u05D4",YT="\u05E6\u05D5\u05E8 \u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD",$T="\u05D4\u05E2\u05EA\u05E7 \u05DC\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD",XT="\u05E1\u05DE\u05DF",ZT="\u05DE\u05D7\u05E7",qT="\u05E6\u05D9\u05D9\u05E8",QT="\u05D7\u05E5",JT="\u05D8\u05E7\u05E1\u05D8",ey="\u05D3\u05D1\u05D9\u05E7\u05D9",ty="\u05DE\u05E8\u05D5\u05D1\u05E2",ny="\u05D0\u05DC\u05D9\u05E4\u05E1\u05D4",sy="\u05DE\u05E9\u05D5\u05DC\u05E9",oy="\u05E7\u05D5",iy="\u05E1\u05D5\u05D1\u05D1",ry="\u05E0\u05E2\u05DC \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4",ay="\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05EA \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4",dy="\u05E7\u05D1\u05E5",ly="\u05D1\u05D8\u05DC \u05E7\u05D9\u05D1\u05D5\u05E5",cy="\u05D4\u05D1\u05D0 \u05DC\u05EA\u05D7\u05EA\u05D9\u05EA",py="\u05D4\u05D6\u05D6 \u05D0\u05D7\u05D5\u05E8\u05D4",uy="\u05D4\u05D6\u05D6 \u05E7\u05D3\u05D9\u05DE\u05D4",hy="\u05D4\u05D1\u05D0 \u05DC\u05D7\u05D6\u05D9\u05EA",my="\u05D0\u05E4\u05E1 \u05D6\u05D5\u05D5\u05D9\u05EA",gy="\u05E0\u05E2\u05DC",fy="\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05D4",Sy="\u05D4\u05D6\u05D6 \u05DC\u05D3\u05E3",Ty="\u05D4\u05E4\u05D5\u05DA \u05D0\u05D5\u05E4\u05E7\u05D9\u05EA",yy="\u05D4\u05E4\u05D5\u05DA \u05D0\u05E0\u05DB\u05D9\u05EA",by="\u05D4\u05D6\u05D6",wy="\u05D4\u05D1\u05D0 \u05DC\u05E7\u05D3\u05D9\u05DE\u05D4",Iy="\u05E7\u05D3\u05D9\u05DE\u05D4",xy="\u05D0\u05D7\u05D5\u05E8\u05D4",vy="\u05D1\u05D7\u05D6\u05E8\u05D4",Py="\u05E9\u05E4\u05D4",ai={"style.menu.color":XS,"style.menu.fill":ZS,"style.menu.dash":qS,"style.menu.size":QS,"style.menu.keep.open":JS,"style.menu.font":eT,"style.menu.align":tT,styles:nT,"zoom.in":sT,"zoom.out":oT,to:iT,"menu.file":rT,"menu.edit":aT,"menu.view":dT,"menu.preferences":lT,"menu.sign.in":cT,"menu.sign.out":pT,"become.a.sponsor":uT,"zoom.to.selection":hT,"zoom.to.fit":mT,"zoom.to":gT,"preferences.dark.mode":fT,"preferences.focus.mode":ST,"preferences.debug.mode":TT,"preferences.show.grid":yT,"preferences.use.cad.selection":bT,"preferences.keep.stylemenu.open":wT,"preferences.always.show.snaps":IT,"preferences.rotate.handles":xT,"preferences.binding.handles":vT,"preferences.clone.handles":PT,undo:kT,redo:DT,cut:ET,copy:CT,paste:BT,"copy.as":LT,"export.as":AT,"select.all":RT,"select.none":HT,delete:MT,"new.project":zT,open:FT,save:OT,"save.as":jT,"upload.media":UT,"create.page":GT,"new.page":NT,"page.name":KT,duplicate:VT,cancel:WT,"copy.invite.link":_T,"create.multiplayer.project":YT,"copy.multiplayer.project":$T,select:XT,eraser:ZT,draw:qT,arrow:QT,text:JT,sticky:ey,rectangle:ty,ellipse:ny,triangle:sy,line:oy,rotate:iy,"lock.aspect.ratio":ry,"unlock.aspect.ratio":ay,group:dy,ungroup:ly,"move.to.back":cy,"move.backward":py,"move.forward":uy,"move.to.front":hy,"reset.angle":my,lock:gy,unlock:fy,"move.to.page":Sy,"flip.horizontal":Ty,"flip.vertical":yy,move:by,"to.front":wy,forward:Iy,backward:xy,back:vy,language:Py};var ky="Colore",Dy="Riempi",Ey="Tratteggo",Cy="Dimensione",By="Mantieni aperto",Ly="Font",Ay="Allineamento",Ry="Stile",Hy="Ingrandisci",My="Rimpicciolisci",zy="Imposta",Fy="File",Oy="Modifica",jy="Visualizzazione",Uy="Preferenze",Gy="Accedi",Ny="Esci",Ky="Sponsorizza",Vy="Adatta alla selezione",Wy="Adatta",_y="Ingrandisci",Yy="Modalit\xE0 scura",$y="Modalit\xE0 zen",Xy="Modalit\xE0 sviluppatore",Zy="Mostra griglia",qy="Selezione CAD",Qy="Mantieni menu stile aperto",Jy="Mostra sempre le guide",eb="Controlli d'inclinazione",tb="Controlli d'associazione",nb="Controlli di clonazione",sb="Annulla",ob="Ripristina",ib="Taglia",rb="Copia",ab="Incolla",db="Copia come",lb="Esporta come",cb="Seleziona tutto",pb="Deseleziona tutto",ub="Elimina",hb="Nuovo progetto",mb="Apri",gb="Salva",fb="Salva come",Sb="Carica contenuti multimediali",Tb="Crea nuova pagina",yb="Nuova pagina",bb="Nome pagina",wb="Pagina",Ib="Duplica",xb="Chiudi",vb="Copia link invito",Pb="Crea progetto multiplayer",kb="Trasforma in progetto multiplayer",Db="Seleziona",Eb="Gomma",Cb="Matita",Bb="Freccia",Lb="Casella di testo",Ab="Post-it",Rb="Rettangolo",Hb="Ellisse",Mb="Triangolo",zb="Linea",Fb="Ruota",Ob="Blocca rapporto lati",jb="Sblocca rapporto lati",Ub="Raggruppa",Gb="Separa",Nb="Muovi in fondo",Kb="Sposta indietro",Vb="Sposta avanti",Wb="Muovi in fronte",_b="Reimposta angolo",Yb="Blocca",$b="Sblocca",Xb="Trasferisci a pagina",Zb="Ribalta orizzontalmente",qb="Ribalta verticalmente",Qb="Sposta",Jb="In primo piano",ew="Sposta avanti",tw="Sposta indietro",nw="In fondo",sw="Lingua",ow="Posizione dock",iw="In basso",rw="Sinistra",aw="Destra",dw="In Alto",di={"style.menu.color":ky,"style.menu.fill":Dy,"style.menu.dash":Ey,"style.menu.size":Cy,"style.menu.keep.open":By,"style.menu.font":Ly,"style.menu.align":Ay,styles:Ry,"zoom.in":Hy,"zoom.out":My,to:zy,"menu.file":Fy,"menu.edit":Oy,"menu.view":jy,"menu.preferences":Uy,"menu.sign.in":Gy,"menu.sign.out":Ny,"become.a.sponsor":Ky,"zoom.to.selection":Vy,"zoom.to.fit":Wy,"zoom.to":_y,"preferences.dark.mode":Yy,"preferences.focus.mode":$y,"preferences.debug.mode":Xy,"preferences.show.grid":Zy,"preferences.use.cad.selection":qy,"preferences.keep.stylemenu.open":Qy,"preferences.always.show.snaps":Jy,"preferences.rotate.handles":eb,"preferences.binding.handles":tb,"preferences.clone.handles":nb,undo:sb,redo:ob,cut:ib,copy:rb,paste:ab,"copy.as":db,"export.as":lb,"select.all":cb,"select.none":pb,delete:ub,"new.project":hb,open:mb,save:gb,"save.as":fb,"upload.media":Sb,"create.page":Tb,"new.page":yb,"page.name":bb,page:wb,duplicate:Ib,cancel:xb,"copy.invite.link":vb,"create.multiplayer.project":Pb,"copy.multiplayer.project":kb,select:Db,eraser:Eb,draw:Cb,arrow:Bb,text:Lb,sticky:Ab,rectangle:Rb,ellipse:Hb,triangle:Mb,line:zb,rotate:Fb,"lock.aspect.ratio":Ob,"unlock.aspect.ratio":jb,group:Ub,ungroup:Gb,"move.to.back":Nb,"move.backward":Kb,"move.forward":Vb,"move.to.front":Wb,"reset.angle":_b,lock:Yb,unlock:$b,"move.to.page":Xb,"flip.horizontal":Zb,"flip.vertical":qb,move:Qb,"to.front":Jb,forward:ew,backward:tw,back:nw,language:sw,"dock.position":ow,bottom:iw,left:rw,right:aw,top:dw};var lw="\u8272",cw="\u5857\u308A\u3064\u3076\u3057",pw="\u7DDA",uw="\u5927\u304D\u3055",hw="\u5E38\u306B\u8868\u793A",mw="\u30D5\u30A9\u30F3\u30C8",gw="\u914D\u7F6E",fw="\u30B9\u30BF\u30A4\u30EB",Sw="\u62E1\u5927",Tw="\u7E2E\u5C0F",yw=" ",bw="\u30D5\u30A1\u30A4\u30EB",ww="\u7DE8\u96C6",Iw="\u8868\u793A",xw="\u8A2D\u5B9A",vw="\u30B5\u30A4\u30F3\u30A4\u30F3",Pw="\u30B5\u30A4\u30F3\u30A2\u30A6\u30C8",kw="\u652F\u63F4\u3059\u308B",Dw="\u9078\u629E\u3057\u305F\u30A2\u30A4\u30C6\u30E0\u306B\u5408\u308F\u305B\u3066\u62E1\u5927",Ew="\u62E1\u5927\u3057\u3066\u3059\u3079\u3066\u3092\u8868\u793A",Cw=" ",Bw="\u30C0\u30FC\u30AF\u30E2\u30FC\u30C9",Lw="\u30D5\u30A9\u30FC\u30AB\u30B9\u30E2\u30FC\u30C9",Aw="\u30C7\u30D0\u30C3\u30B0\u30E2\u30FC\u30C9",Rw="\u30B0\u30EA\u30C3\u30C9\u3092\u8868\u793A",Hw="CAD\u306E\u9078\u629E\u6CD5\u3092\u4F7F\u7528",Mw="\u30B9\u30BF\u30A4\u30EB\u30E1\u30CB\u30E5\u30FC\u3092\u5E38\u306B\u8868\u793A",zw="\u30B9\u30CA\u30C3\u30D7\u3092\u5E38\u306B\u8868\u793A",Fw="\u56DE\u8EE2\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",Ow="\u7D50\u5408\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",jw="\u30AF\u30ED\u30FC\u30F3\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",Uw="\u5143\u306B\u623B\u3059",Gw="\u3084\u308A\u76F4\u3057",Nw="\u5207\u308A\u53D6\u308A",Kw="\u30B3\u30D4\u30FC",Vw="\u8CBC\u308A\u4ED8\u3051",Ww="\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30B3\u30D4\u30FC",_w="\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",Yw="\u3059\u3079\u3066\u9078\u629E",$w="\u9078\u629E\u3092\u89E3\u9664",Xw="\u524A\u9664",Zw="\u65B0\u3057\u3044\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",qw="\u958B\u304F",Qw="\u4FDD\u5B58",Jw="\u540D\u524D\u3092\u3064\u3051\u3066\u4FDD\u5B58",eI="\u30E1\u30C7\u30A3\u30A2\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",tI="\u30DA\u30FC\u30B8\u3092\u4F5C\u6210",nI="\u65B0\u898F\u30DA\u30FC\u30B8",sI="\u30DA\u30FC\u30B8\u540D",oI="\u8907\u88FD",iI="\u30AD\u30E3\u30F3\u30BB\u30EB",rI="\u5171\u6709\u30EA\u30F3\u30AF\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC",aI="\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210",dI="\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u30B3\u30D4\u30FC",lI="\u9078\u629E",cI="\u6D88\u3057\u30B4\u30E0",pI="\u63CF\u753B",uI="\u77E2\u5370",hI="\u30C6\u30AD\u30B9\u30C8",mI="\u3075\u305B\u3093",gI="\u9577\u65B9\u5F62",fI="\u6955\u5186\u5F62",SI="\u4E09\u89D2\u5F62",TI="\u7DDA",yI="\u56DE\u8EE2",bI="\u7E26\u6A2A\u6BD4\u3092\u56FA\u5B9A",wI="\u7E26\u6A2A\u6BD4\u306E\u56FA\u5B9A\u3092\u89E3\u9664",II="\u30B0\u30EB\u30FC\u30D4\u30F3\u30B0",xI="\u30B0\u30EB\u30FC\u30D7\u89E3\u9664",vI="\u6700\u5F8C\u9762\u306B\u79FB\u52D5",PI="\u3072\u3068\u3064\u5F8C\u308D\u306B\u79FB\u52D5",kI="\u3072\u3068\u3064\u524D\u306B\u79FB\u52D5",DI="\u6700\u80CC\u9762\u306B\u79FB\u52D5",EI="\u89D2\u5EA6\u3092\u521D\u671F\u5316",CI="\u30ED\u30C3\u30AF",BI="\u30A2\u30F3\u30ED\u30C3\u30AF",LI="\u30DA\u30FC\u30B8\u3078\u79FB\u52D5",AI="\u6C34\u5E73\u65B9\u5411\u306B\u53CD\u8EE2",RI="\u5782\u76F4\u65B9\u5411\u306B\u53CD\u8EE2",HI="\u79FB\u52D5",MI="\u6700\u524D\u9762\u3078",zI="\u3072\u3068\u3064\u524D\u3078",FI="\u3072\u3068\u3064\u5F8C\u308D\u3078",OI="\u6700\u80CC\u9762\u3078",jI="\u8A00\u8A9E",li={"style.menu.color":lw,"style.menu.fill":cw,"style.menu.dash":pw,"style.menu.size":uw,"style.menu.keep.open":hw,"style.menu.font":mw,"style.menu.align":gw,styles:fw,"zoom.in":Sw,"zoom.out":Tw,to:yw,"menu.file":bw,"menu.edit":ww,"menu.view":Iw,"menu.preferences":xw,"menu.sign.in":vw,"menu.sign.out":Pw,"become.a.sponsor":kw,"zoom.to.selection":Dw,"zoom.to.fit":Ew,"zoom.to":Cw,"preferences.dark.mode":Bw,"preferences.focus.mode":Lw,"preferences.debug.mode":Aw,"preferences.show.grid":Rw,"preferences.use.cad.selection":Hw,"preferences.keep.stylemenu.open":Mw,"preferences.always.show.snaps":zw,"preferences.rotate.handles":Fw,"preferences.binding.handles":Ow,"preferences.clone.handles":jw,undo:Uw,redo:Gw,cut:Nw,copy:Kw,paste:Vw,"copy.as":Ww,"export.as":_w,"select.all":Yw,"select.none":$w,delete:Xw,"new.project":Zw,open:qw,save:Qw,"save.as":Jw,"upload.media":eI,"create.page":tI,"new.page":nI,"page.name":sI,duplicate:oI,cancel:iI,"copy.invite.link":rI,"create.multiplayer.project":aI,"copy.multiplayer.project":dI,select:lI,eraser:cI,draw:pI,arrow:uI,text:hI,sticky:mI,rectangle:gI,ellipse:fI,triangle:SI,line:TI,rotate:yI,"lock.aspect.ratio":bI,"unlock.aspect.ratio":wI,group:II,ungroup:xI,"move.to.back":vI,"move.backward":PI,"move.forward":kI,"move.to.front":DI,"reset.angle":EI,lock:CI,unlock:BI,"move.to.page":LI,"flip.horizontal":AI,"flip.vertical":RI,move:HI,"to.front":MI,forward:zI,backward:FI,back:OI,language:jI};var UI="\uC0C9\uAE54",GI="\uCC44\uC6B0\uAE30",NI="\uD14C\uB450\uB9AC",KI="\uD06C\uAE30",VI="\uD56D\uC0C1 \uC5F4\uAE30",WI="\uAE00\uAF34",_I="\uC815\uB82C",YI="\uC2A4\uD0C0\uC77C",$I="\uD655\uB300",XI="\uCD95\uC18C",ZI="to",qI="\uD30C\uC77C",QI="\uD3B8\uC9D1",JI="\uBCF4\uAE30",ex="\uC124\uC815",tx="\uB85C\uADF8\uC778",nx="\uB85C\uADF8\uC544\uC6C3",sx="\uD6C4\uC6D0\uC790 \uB418\uAE30",ox="\uC120\uD0DD \uC694\uC18C \uB9DE\uCD94\uAE30",ix="\uC804\uCCB4 \uB9DE\uCD94\uAE30",rx="\uB9DE\uCD94\uAE30",ax="\uB2E4\uD06C \uBAA8\uB4DC",dx="\uC9D1\uC911 \uBAA8\uB4DC",lx="\uB514\uBC84\uADF8 \uBAA8\uB4DC",cx="\uACA9\uC790 \uBCF4\uAE30",px="CAD \uC120\uD0DD \uC0AC\uC6A9",ux="\uC2A4\uD0C0\uC77C \uBA54\uB274 \uD56D\uC0C1 \uC5F4\uAE30",hx="Snap \uD56D\uC0C1 \uC5F4\uAE30",mx="\uD68C\uC804 \uBCF4\uC774\uAE30",gx="Binding Handles",fx="\uBCF5\uC81C \uBCF4\uC774\uAE30",Sx="\uC2E4\uD589 \uCDE8\uC18C",Tx="\uB2E4\uC2DC \uC2E4\uD589",yx="\uC790\uB974\uAE30",bx="\uBCF5\uC0AC",wx="\uBD99\uC5EC\uB123\uAE30",Ix="\uB2E4\uB978 \uD615\uC2DD\uC73C\uB85C \uBCF5\uC0AC\uD558\uAE30",xx="\uB0B4\uBCF4\uB0B4\uAE30",vx="\uC804\uCCB4 \uC120\uD0DD",Px="\uC120\uD0DD \uC548\uD568",kx="\uC0AD\uC81C\uD558\uAE30",Dx="\uC0C8 \uD504\uB85C\uC81D\uD2B8",Ex="\uC5F4\uAE30",Cx="\uC800\uC7A5",Bx="\uB2E4\uB978 \uC774\uB984\uC73C\uB85C \uC800\uC7A5",Lx="\uBBF8\uB514\uC5B4 \uC5C5\uB85C\uB4DC",Ax="\uC0C8 \uD398\uC774\uC9C0 \uB9CC\uB4E4\uAE30",Rx="\uC0C8 \uD398\uC774\uC9C0",Hx="\uD398\uC774\uC9C0 \uC774\uB984",Mx="\uBCF5\uC81C",zx="\uCDE8\uC18C",Fx="\uCD08\uB300 \uB9C1\uD06C \uBCF5\uC0AC\uD558\uAE30",Ox="\uACF5\uB3D9 \uD504\uB85C\uC81D\uD2B8 \uB9CC\uB4E4\uAE30",jx="\uACF5\uB3D9 \uD504\uB85C\uC81D\uD2B8\uB85C \uBCF5\uC0AC\uD558\uAE30",Ux="\uC120\uD0DD",Gx="\uC9C0\uC6B0\uAC1C",Nx="\uADF8\uB9AC\uAE30",Kx="\uD654\uC0B4\uD45C",Vx="\uD14D\uC2A4\uD2B8",Wx="\uBA54\uBAA8",_x="\uC0AC\uAC01\uD615",Yx="\uC6D0",$x="\uC0BC\uAC01\uD615",Xx="\uC120",Zx="\uD68C\uC804",qx="\uBE44\uC728 \uC7A0\uAE08",Qx="\uBE44\uC728 \uC7A0\uAE08 \uD574\uC81C",Jx="\uADF8\uB8F9\uD654",ev="\uADF8\uB8F9\uD654 \uD574\uC81C",tv="\uB9E8 \uB4A4\uB85C \uBCF4\uB0B4\uAE30",nv="\uB4A4\uB85C \uBCF4\uB0B4\uAE30",sv="\uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30",ov="\uB9E8 \uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30",iv="\uD68C\uC804 \uCD08\uAE30\uD654",rv="\uC7A0\uAD6C\uAE30",av="\uC7A0\uAE08 \uD574\uC81C\uD558\uAE30",dv="\uD398\uC774\uC9C0\uB85C \uC774\uB3D9",lv="\uC218\uD3C9\uC73C\uB85C \uB4A4\uC9D1\uAE30",cv="\uC218\uC9C1\uC73C\uB85C \uB4A4\uC9D1\uAE30",pv="\uC21C\uC11C",uv="\uB9E8 \uC55E\uC73C\uB85C",hv="\uC55E\uC73C\uB85C",mv="\uB4A4\uB85C",gv="\uB9E8 \uB4A4\uB85C",fv="\uC5B8\uC5B4",ci={"style.menu.color":UI,"style.menu.fill":GI,"style.menu.dash":NI,"style.menu.size":KI,"style.menu.keep.open":VI,"style.menu.font":WI,"style.menu.align":_I,styles:YI,"zoom.in":$I,"zoom.out":XI,to:ZI,"menu.file":qI,"menu.edit":QI,"menu.view":JI,"menu.preferences":ex,"menu.sign.in":tx,"menu.sign.out":nx,"become.a.sponsor":sx,"zoom.to.selection":ox,"zoom.to.fit":ix,"zoom.to":rx,"preferences.dark.mode":ax,"preferences.focus.mode":dx,"preferences.debug.mode":lx,"preferences.show.grid":cx,"preferences.use.cad.selection":px,"preferences.keep.stylemenu.open":ux,"preferences.always.show.snaps":hx,"preferences.rotate.handles":mx,"preferences.binding.handles":gx,"preferences.clone.handles":fx,undo:Sx,redo:Tx,cut:yx,copy:bx,paste:wx,"copy.as":Ix,"export.as":xx,"select.all":vx,"select.none":Px,delete:kx,"new.project":Dx,open:Ex,save:Cx,"save.as":Bx,"upload.media":Lx,"create.page":Ax,"new.page":Rx,"page.name":Hx,duplicate:Mx,cancel:zx,"copy.invite.link":Fx,"create.multiplayer.project":Ox,"copy.multiplayer.project":jx,select:Ux,eraser:Gx,draw:Nx,arrow:Kx,text:Vx,sticky:Wx,rectangle:_x,ellipse:Yx,triangle:$x,line:Xx,rotate:Zx,"lock.aspect.ratio":qx,"unlock.aspect.ratio":Qx,group:Jx,ungroup:ev,"move.to.back":tv,"move.backward":nv,"move.forward":sv,"move.to.front":ov,"reset.angle":iv,lock:rv,unlock:av,"move.to.page":dv,"flip.horizontal":lv,"flip.vertical":cv,move:pv,"to.front":uv,forward:hv,backward:mv,back:gv,language:fv};var Sv="Color",Tv="Fill",yv="Dash",bv="Size",wv="Keep Open",Iv="Font",xv="Align",vv="Styles",Pv="Zoom In",kv="Zoom Out",Dv="To",Ev="Tools",Cv="Transform",Bv="File",Lv="Edit",Av="View",Rv="Preferences",Hv="Sign In",Mv="Sign Out",zv="Become a Sponsor",Fv="Back to content",Ov="Zoom to Selection",jv="Zoom to Fit",Uv="Zoom to",Gv="Dark Mode",Nv="Focus Mode",Kv="Debug Mode",Vv="Show Grid",Wv="Use CAD Selection",_v="Keep Style Menu Open",Yv="Always Show Snaps",$v="Rotate Handles",Xv="Binding Handles",Zv="Clone Handles",qv="Undo",Qv="Redo",Jv="Cut",eP="Copy",tP="Paste",nP="Copy As",sP="Export As",oP="Select All",iP="Select None",rP="Delete",aP="New Project",dP="Open",lP="Save",cP="Save As",pP="Upload Media",uP="Create Page",hP="New Page",mP="Page Name",gP="Duplicate",fP="Cancel",SP="Copy Invite Link",TP="Copy ReadOnly Link",yP="Create a Multiplayer Project",bP="Copy to Multiplayer Project",wP="Select",IP="Eraser",xP="Draw",vP="Arrow",PP="Text",kP="Sticky",DP="Rectangle",EP="Ellipse",CP="Triangle",BP="Line",LP="Rotate",AP="Lock Aspect Ratio",RP="Unlock Aspect Ratio",HP="Group",MP="Ungroup",zP="Move to Back",FP="Move Backward",OP="Move Forward",jP="Move to Front",UP="Reset Angle",GP="Lock",NP="Unlock",KP="Align / Distribute",VP="Move to Page",WP="Flip Horizontal",_P="Flip Vertical",YP="Move",$P="To Front",XP="Forward",ZP="Backward",qP="To Back",QP="Language",JP="Learn More",e0="Dock Position",t0="Bottom",n0="Left",s0="Right",o0="Top",i0="Page",r0="Keyboard shortcuts",a0="Search",d0="Loading{dots}",l0="Export Background",c0="Transparent",p0="Auto",u0="Light",h0="Dark",m0="Github",g0="Twitter",f0="Discord",S0="Image",T0="Align Left",y0="Align Horizontal Center",b0="Align Right",w0="Align Top",I0="Align Vertical Center",x0="Align Bottom",v0="Distribute Horizontal",P0="Distribute Vertical",k0="Stretch Horizontal",D0="Stretch Vertical",E0="Do you want to save your current project?",C0="Do you want to save changes to your current project?",B0="Cancel",L0="No",A0="Yes",R0="Enter file name",pi={"style.menu.color":Sv,"style.menu.fill":Tv,"style.menu.dash":yv,"style.menu.size":bv,"style.menu.keep.open":wv,"style.menu.font":Iv,"style.menu.align":xv,styles:vv,"zoom.in":Pv,"zoom.out":kv,to:Dv,"menu.tools":Ev,"menu.transform":Cv,"menu.file":Bv,"menu.edit":Lv,"menu.view":Av,"menu.preferences":Rv,"menu.sign.in":Hv,"menu.sign.out":Mv,"become.a.sponsor":zv,"zoom.to.content":Fv,"zoom.to.selection":Ov,"zoom.to.fit":jv,"zoom.to":Uv,"preferences.dark.mode":Gv,"preferences.focus.mode":Nv,"preferences.debug.mode":Kv,"preferences.show.grid":Vv,"preferences.use.cad.selection":Wv,"preferences.keep.stylemenu.open":_v,"preferences.always.show.snaps":Yv,"preferences.rotate.handles":$v,"preferences.binding.handles":Xv,"preferences.clone.handles":Zv,undo:qv,redo:Qv,cut:Jv,copy:eP,paste:tP,"copy.as":nP,"export.as":sP,"select.all":oP,"select.none":iP,delete:rP,"new.project":aP,open:dP,save:lP,"save.as":cP,"upload.media":pP,"create.page":uP,"new.page":hP,"page.name":mP,duplicate:gP,cancel:fP,"copy.invite.link":SP,"copy.readonly.link":TP,"create.multiplayer.project":yP,"copy.multiplayer.project":bP,select:wP,eraser:IP,draw:xP,arrow:vP,text:PP,sticky:kP,rectangle:DP,ellipse:EP,triangle:CP,line:BP,rotate:LP,"lock.aspect.ratio":AP,"unlock.aspect.ratio":RP,group:HP,ungroup:MP,"move.to.back":zP,"move.backward":FP,"move.forward":OP,"move.to.front":jP,"reset.angle":UP,lock:GP,unlock:NP,"align.distribute":KP,"move.to.page":VP,"flip.horizontal":WP,"flip.vertical":_P,move:YP,"to.front":$P,forward:XP,backward:ZP,back:qP,language:QP,"translation.link":JP,"dock.position":e0,bottom:t0,left:n0,right:s0,top:o0,page:i0,"keyboard.shortcuts":r0,search:a0,loading:d0,"export.background":l0,transparent:c0,auto:p0,light:u0,dark:h0,github:m0,twitter:g0,discord:f0,image:S0,"align.left":T0,"align.center.x":y0,"align.right":b0,"align.top":w0,"align.center.y":I0,"align.bottom":x0,"distribute.x":v0,"distribute.y":P0,"stretch.x":k0,"stretch.y":D0,"dialog.save.firsttime":E0,"dialog.save.again":C0,"dialog.cancel":B0,"dialog.no":L0,"dialog.yes":A0,"enter.file.name":R0};var H0="\u0930\u0902\u0917",M0="\u092D\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",z0="\u0927\u0930\u094D\u0915\u093E",F0="\u0906\u0915\u093E\u0930",O0="\u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D",j0="\u092B\u0928\u094D\u091F",U0="\u092A\u0919\u094D\u0915\u094D\u0924\u093F\u092C\u0926\u094D\u0927",G0="\u0936\u0948\u0932\u0940\u0939\u0930\u0942",N0="\u091C\u0941\u092E \u0907\u0928",K0="\u091C\u0941\u092E \u0906\u0909\u091F",V0="\u091F\u0941",W0="\u092B\u093E\u0907\u0932",_0="\u0938\u092E\u094D\u092A\u093E\u0926\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Y0="\u092D\u094D\u092F\u0942",$0="\u092A\u094D\u0930\u093E\u0925\u092E\u093F\u0915\u0924\u093E\u0939\u0930\u0942",X0="\u0938\u093E\u0907\u0928 \u0907\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Z0="\u0938\u093E\u0907\u0928 \u0906\u0909\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",q0="\u092A\u094D\u0930\u093E\u092F\u094B\u091C\u0915 \u092C\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Q0="\u091C\u0941\u092E \u091F\u0941 \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928",J0="\u091C\u0941\u092E \u091F\u0941 \u092B\u093F\u091F",ek="\u091C\u0941\u092E \u091F\u0941",tk="\u0905\u0901\u0927\u094D\u092F\u093E\u0930\u094B \u092E\u094B\u0921",nk="\u092B\u094B\u0915\u0938 \u092E\u094B\u0921",sk="\u0921\u093F\u092C\u0917 \u092E\u094B\u0921",ok="\u0917\u094D\u0930\u093F\u0921 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",ik="CAD \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",rk="\u0938\u094D\u091F\u093E\u0907\u0932 \u092E\u0947\u0928\u0941 \u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D",ak="\u0938\u0927\u0948\u0901 \u0938\u094D\u0928\u094D\u092F\u093E\u092A\u0939\u0930\u0942 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",dk="\u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942 \u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",lk="\u092C\u093E\u0907\u0928\u094D\u0921\u093F\u0919 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942",ck="\u0915\u094D\u0932\u094B\u0928 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942",pk="\u092A\u0942\u0930\u094D\u0935\u0935\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",uk="\u092A\u0941\u0928\u0903 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",hk="\u0915\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",mk="\u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",gk="\u092A\u0947\u0938\u094D\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",fk="\u0915\u092A\u093F \u090F\u091C",Sk="\u090F\u0915\u094D\u0938\u092A\u094B\u0930\u094D\u091F \u090F\u091C",Tk="\u0938\u092C\u0948 \u091B\u093E\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D",yk="\u0915\u0947\u0939\u093F \u092A\u0928\u093F \u0938\u0947\u0932\u0947\u0915\u094D\u091F \u0928\u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",bk="\u092E\u0947\u091F\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",wk="\u0928\u092F\u093E\u0901 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E",Ik="\u0916\u094B\u0932\u094D\u0928\u0941\u0939\u094B\u0938\u094D",xk="\u0938\u0941\u0930\u0915\u094D\u0937\u093F\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",vk="\u0938\u0947\u092D \u090F\u091C",Pk="\u092E\u093F\u0921\u093F\u092F\u093E \u0905\u092A\u0932\u094B\u0921 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",kk="\u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Dk="\u0928\u092F\u093E\u0901 \u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Ek="\u092A\u0943\u0937\u094D\u0920\u0915\u094B \u0928\u093E\u092E",Ck="\u0905\u0928\u0941\u0932\u093F\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Bk="\u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Lk="\u0928\u093F\u092E\u0928\u094D\u0924\u094D\u0930\u0923\u093E \u0932\u093F\u0919\u094D\u0915 \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Ak="\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Rk="\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u094D\u0930\u094B\u091C\u0947\u0915\u094D\u091F\u092E\u093E \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Hk="\u0938\u0947\u0932\u0947\u0915\u094D\u091F",Mk="\u0907\u0930\u0947\u091C\u0930",zk="\u091A\u093F\u0924\u094D\u0930 \u092C\u0928\u093E\u0909\u0928\u0941",Fk="\u0924\u0940\u0930",Ok="\u0936\u092C\u094D\u0926",jk="\u091F\u093E\u0901\u0938\u093F\u0928\u0947",Uk="\u0906\u092F\u0924",Gk="\u0926\u0940\u0930\u094D\u0918\u0935\u0943\u0924\u094D\u0924",Nk="\u0924\u094D\u0930\u093F\u092D\u0941\u091C",Kk="\u0930\u0947\u0916\u093E",Vk="\u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",Wk="\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",_k="\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Yk="\u0938\u092E\u0942\u0939",$k="\u0938\u092E\u0942\u0939 \u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Xk="\u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Zk="\u0925\u092A \u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",qk="\u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Qk="\u0925\u092A \u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Jk="\u0915\u094B\u0923 \u0930\u093F\u0938\u0947\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",eD="\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",tD="\u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",nD="\u092A\u0943\u0937\u094D\u0920\u092E\u093E \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",sD="\u0924\u0947\u0930\u094D\u0938\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",oD="\u0920\u093E\u0921\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",iD="\u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",rD="\u0925\u092A \u0905\u0917\u093E\u0921\u093F",aD="\u0905\u0917\u093E\u0921\u093F",dD="\u092A\u091B\u093E\u0921\u093F",lD="\u0925\u092A \u092A\u091B\u093E\u0921\u093F",cD="\u092D\u093E\u0937\u093E",ui={"style.menu.color":H0,"style.menu.fill":M0,"style.menu.dash":z0,"style.menu.size":F0,"style.menu.keep.open":O0,"style.menu.font":j0,"style.menu.align":U0,styles:G0,"zoom.in":N0,"zoom.out":K0,to:V0,"menu.file":W0,"menu.edit":_0,"menu.view":Y0,"menu.preferences":$0,"menu.sign.in":X0,"menu.sign.out":Z0,"become.a.sponsor":q0,"zoom.to.selection":Q0,"zoom.to.fit":J0,"zoom.to":ek,"preferences.dark.mode":tk,"preferences.focus.mode":nk,"preferences.debug.mode":sk,"preferences.show.grid":ok,"preferences.use.cad.selection":ik,"preferences.keep.stylemenu.open":rk,"preferences.always.show.snaps":ak,"preferences.rotate.handles":dk,"preferences.binding.handles":lk,"preferences.clone.handles":ck,undo:pk,redo:uk,cut:hk,copy:mk,paste:gk,"copy.as":fk,"export.as":Sk,"select.all":Tk,"select.none":yk,delete:bk,"new.project":wk,open:Ik,save:xk,"save.as":vk,"upload.media":Pk,"create.page":kk,"new.page":Dk,"page.name":Ek,duplicate:Ck,cancel:Bk,"copy.invite.link":Lk,"create.multiplayer.project":Ak,"copy.multiplayer.project":Rk,select:Hk,eraser:Mk,draw:zk,arrow:Fk,text:Ok,sticky:jk,rectangle:Uk,ellipse:Gk,triangle:Nk,line:Kk,rotate:Vk,"lock.aspect.ratio":Wk,"unlock.aspect.ratio":_k,group:Yk,ungroup:$k,"move.to.back":Xk,"move.backward":Zk,"move.forward":qk,"move.to.front":Qk,"reset.angle":Jk,lock:eD,unlock:tD,"move.to.page":nD,"flip.horizontal":sD,"flip.vertical":oD,move:iD,"to.front":rD,forward:aD,backward:dD,back:lD,language:cD};var pD="Farge",uD="Fyll",hD="Linje",mD="St\xF8rrelse",gD="Hold \xE5pen",fD="Teksttype",SD="Juster",TD="Stiler",yD="Zoom inn",bD="Zoom ut",wD="til",ID="Fil",xD="Rediger",vD="Vis",PD="Preferanser",kD="Logg inn",DD="Logg ut",ED="Bli en sponsor",CD="Zoom til valg",BD="Zoom for \xE5 passe",LD="Zoom til",AD="M\xF8rk modus",RD="Fokus modus",HD="Debug modus",MD="Vis rutenett",zD="Bruk CAD seleksjon",FD="Hold stilmeny \xE5pen",OD="Vis alltid snaps",jD="Vis roteringsh\xE5ndtak",UD="Vis bindingsh\xE5ndtak",GD="Vis kloningsh\xE5ndtak",ND="Angre",KD="Gj\xF8r om",VD="Klipp ut",WD="Kopier",_D="Lim inn",YD="Kopier som",$D="Eksporter som",XD="Velg alle",ZD="Velg ingen",qD="Slett",QD="Nytt prosjekt",JD="\xC5pne",eE="Lagre",tE="Lagre som",nE="Last opp media",sE="Opprett side",oE="Ny side",iE="Sidenavn",rE="Dupliser",aE="Avbryt",dE="Kopier invitasjonslink",lE="Opprett et flerspiller prosjekt",cE="Kopier til flerspiller prosjekt",pE="Velg",uE="Viskel\xE6r",hE="Tegn",mE="Pil",gE="Tekst",fE="Lapp",SE="Rektangel",TE="Ellipse",yE="Trekant",bE="Linje",wE="Roter",IE="L\xE5s st\xF8rrelsesforhold",xE="L\xE5s opp st\xF8rrelsesforhold",vE="Grupper",PE="Avgrupper",kE="Flytt bakerst",DE="Flytt bakover",EE="Flytt forover",CE="Flytt til front",BE="Tilbakestill vinkel",LE="L\xE5s",AE="L\xE5s opp",RE="Flytt til side",HE="Snu horisontalt",ME="Snu vertikalt",zE="Flytt",FE="Foran",OE="Framover",jE="Bakover",UE="Bakerst",GE="Spr\xE5k",hi={"style.menu.color":pD,"style.menu.fill":uD,"style.menu.dash":hD,"style.menu.size":mD,"style.menu.keep.open":gD,"style.menu.font":fD,"style.menu.align":SD,styles:TD,"zoom.in":yD,"zoom.out":bD,to:wD,"menu.file":ID,"menu.edit":xD,"menu.view":vD,"menu.preferences":PD,"menu.sign.in":kD,"menu.sign.out":DD,"become.a.sponsor":ED,"zoom.to.selection":CD,"zoom.to.fit":BD,"zoom.to":LD,"preferences.dark.mode":AD,"preferences.focus.mode":RD,"preferences.debug.mode":HD,"preferences.show.grid":MD,"preferences.use.cad.selection":zD,"preferences.keep.stylemenu.open":FD,"preferences.always.show.snaps":OD,"preferences.rotate.handles":jD,"preferences.binding.handles":UD,"preferences.clone.handles":GD,undo:ND,redo:KD,cut:VD,copy:WD,paste:_D,"copy.as":YD,"export.as":$D,"select.all":XD,"select.none":ZD,delete:qD,"new.project":QD,open:JD,save:eE,"save.as":tE,"upload.media":nE,"create.page":sE,"new.page":oE,"page.name":iE,duplicate:rE,cancel:aE,"copy.invite.link":dE,"create.multiplayer.project":lE,"copy.multiplayer.project":cE,select:pE,eraser:uE,draw:hE,arrow:mE,text:gE,sticky:fE,rectangle:SE,ellipse:TE,triangle:yE,line:bE,rotate:wE,"lock.aspect.ratio":IE,"unlock.aspect.ratio":xE,group:vE,ungroup:PE,"move.to.back":kE,"move.backward":DE,"move.forward":EE,"move.to.front":CE,"reset.angle":BE,lock:LE,unlock:AE,"move.to.page":RE,"flip.horizontal":HE,"flip.vertical":ME,move:zE,"to.front":FE,forward:OE,backward:jE,back:UE,language:GE};var NE="Kolor",KE="Wype\u0142nienie",VE="Linia",WE="Rozmiar",_E="Zachowaj otwarte",YE="Czcionka",$E="Wyr\xF3wnanie",XE="Style",ZE="Przybli\u017C",qE="Oddal",QE="do",JE="Plik",eC="Edycja",tC="Widok",nC="Preferencje",sC="Zaloguj",oC="Wyloguj",iC="Zosta\u0144 sponsorem",rC="Przybli\u017C do zaznaczenia",aC="Wype\u0142nij ekran",dC="Przybli\u017C do",lC="Tryb ciemny",cC="Tryb skupienia",pC="Tryb debugowania",uC="Poka\u017C siatk\u0119",hC="U\u017Cyj zaznaczania CAD",mC="Zachowaj menu styli otwarte",gC="Przyci\u0105gaj obiekty",fC="Uchwyty obrotu",SC="Uchwyty powi\u0105zania",TC="Uchwyty klonuj\u0105ce",yC="Cofnij",bC="Powt\xF3rz",wC="Wytnij",IC="Kopiuj",xC="Wklej",vC="Kopiuj jako",PC="Eksportuj jako",kC="Zaznacz wszystko",DC="Odznacz wszystko",EC="Usu\u0144",CC="Nowy projekt",BC="Otw\xF3rz",LC="Zapisz",AC="Zapisz jako",RC="Za\u0142aduj multimedia",HC="Utw\xF3rz stron\u0119",MC="Nowa strona",zC="Nazwa strony",FC="Powiel",OC="Anuluj",jC="Kopiuj link zaproszenia",UC="Stw\xF3rz projekt wieloosobowy",GC="Kopiuj do projektu wieloosobowego",NC="Zaznacz",KC="Gumka",VC="Rysuj",WC="Strza\u0142ka",_C="Tekst",YC="Naklejka",$C="Prostok\u0105t",XC="Elipsa",ZC="Tr\xF3jk\u0105t",qC="Linia",QC="Obr\xF3\u0107",JC="Zablokuj proporcje",eB="Odblokuj proporcje",tB="Grupuj",nB="Rozgrupuj",sB="Przenie\u015B na ty\u0142",oB="Przesu\u0144 do ty\u0142u",iB="Przesu\u0144 do przodu",rB="Przenie\u015B na prz\xF3d",aB="Resetuj k\u0105t",dB="Zablokuj",lB="Odblokuj",cB="Przenie\u015B na stron\u0119",pB="Odwr\xF3\u0107 w poziomie",uB="Odwr\xF3\u0107 w pionie",hB="Przenie\u015B",mB="Na wierzch",gB="Do przodu",fB="Do ty\u0142u",SB="Na sp\xF3d",TB="J\u0119zyk",mi={"style.menu.color":NE,"style.menu.fill":KE,"style.menu.dash":VE,"style.menu.size":WE,"style.menu.keep.open":_E,"style.menu.font":YE,"style.menu.align":$E,styles:XE,"zoom.in":ZE,"zoom.out":qE,to:QE,"menu.file":JE,"menu.edit":eC,"menu.view":tC,"menu.preferences":nC,"menu.sign.in":sC,"menu.sign.out":oC,"become.a.sponsor":iC,"zoom.to.selection":rC,"zoom.to.fit":aC,"zoom.to":dC,"preferences.dark.mode":lC,"preferences.focus.mode":cC,"preferences.debug.mode":pC,"preferences.show.grid":uC,"preferences.use.cad.selection":hC,"preferences.keep.stylemenu.open":mC,"preferences.always.show.snaps":gC,"preferences.rotate.handles":fC,"preferences.binding.handles":SC,"preferences.clone.handles":TC,undo:yC,redo:bC,cut:wC,copy:IC,paste:xC,"copy.as":vC,"export.as":PC,"select.all":kC,"select.none":DC,delete:EC,"new.project":CC,open:BC,save:LC,"save.as":AC,"upload.media":RC,"create.page":HC,"new.page":MC,"page.name":zC,duplicate:FC,cancel:OC,"copy.invite.link":jC,"create.multiplayer.project":UC,"copy.multiplayer.project":GC,select:NC,eraser:KC,draw:VC,arrow:WC,text:_C,sticky:YC,rectangle:$C,ellipse:XC,triangle:ZC,line:qC,rotate:QC,"lock.aspect.ratio":JC,"unlock.aspect.ratio":eB,group:tB,ungroup:nB,"move.to.back":sB,"move.backward":oB,"move.forward":iB,"move.to.front":rB,"reset.angle":aB,lock:dB,unlock:lB,"move.to.page":cB,"flip.horizontal":pB,"flip.vertical":uB,move:hB,"to.front":mB,forward:gB,backward:fB,back:SB,language:TB};var yB="Cor",bB="Preencher",wB="Tra\xE7o",IB="Tamanho",xB="Manter aberto",vB="Fonte",PB="Alinhamento",kB="Estilos",DB="Aumentar zoom",EB="Diminuir zoom",CB="para",BB="Arquivo",LB="Editar",AB="Visualizar",RB="Prefer\xEAncias",HB="Entrar",MB="Sair",zB="Torne-se um patrocinador",FB="Zoom para a sele\xE7\xE3o",OB="Zoom para ajuste",jB="Zoom para",UB="Modo Escuro",GB="Modo Foco",NB="Modo Debug",KB="Mostrar Grade",VB="Usar sele\xE7\xE3o CAD",WB="Manter Menu de Estilos Aberto",_B="Mostrar Pontos de Ajuste",YB="Controle de Rota\xE7\xE3o",$B="Controle de V\xEDnculos",XB="Controle de Clone",ZB="Desfazer",qB="Refazer",QB="Cortar",JB="Copiar",e1="Colar",t1="Copiar como",n1="Exportar como",s1="Selecionar todos",o1="Selecionar nenhum",i1="Deletar",r1="Novo Projeto",a1="Abrir",d1="Salvar",l1="Salvar Como",c1="Carregar M\xEDdia",p1="Criar P\xE1gina",u1="Nova P\xE1gina",h1="Nome da P\xE1gina",m1="Duplicar",g1="Cancelar",f1="Copiar Link de Convite",S1="Criar um Projeto Multijogador",T1="Copiar para Projeto Multijogador",y1="Selecionar",b1="Borracha",w1="Desenhar",I1="Seta",x1="Texto",v1="Adesivo",P1="Ret\xE2ngulo",k1="Elipse",D1="Tri\xE2ngulo",E1="Linha",C1="Rotacionar",B1="Travar Propor\xE7\xE3o da Tela",L1="Destravar Propor\xE7\xE3o da Tela",A1="Agrupar",R1="Desagrupar",H1="Recuar",M1="Enviar para Tr\xE1s",z1="Avan\xE7ar",F1="Trazer para Frente",O1="Reiniciar \xC2ngulo",j1="Travar",U1="Destravar",G1="Mover para P\xE1gina",N1="Virar Horizontalmente",K1="Virar Verticalmente",V1="Mover",W1="Para Frente",_1="Avan\xE7ar",Y1="Recuar",$1="Voltar",X1="Idioma",gi={"style.menu.color":yB,"style.menu.fill":bB,"style.menu.dash":wB,"style.menu.size":IB,"style.menu.keep.open":xB,"style.menu.font":vB,"style.menu.align":PB,styles:kB,"zoom.in":DB,"zoom.out":EB,to:CB,"menu.file":BB,"menu.edit":LB,"menu.view":AB,"menu.preferences":RB,"menu.sign.in":HB,"menu.sign.out":MB,"become.a.sponsor":zB,"zoom.to.selection":FB,"zoom.to.fit":OB,"zoom.to":jB,"preferences.dark.mode":UB,"preferences.focus.mode":GB,"preferences.debug.mode":NB,"preferences.show.grid":KB,"preferences.use.cad.selection":VB,"preferences.keep.stylemenu.open":WB,"preferences.always.show.snaps":_B,"preferences.rotate.handles":YB,"preferences.binding.handles":$B,"preferences.clone.handles":XB,undo:ZB,redo:qB,cut:QB,copy:JB,paste:e1,"copy.as":t1,"export.as":n1,"select.all":s1,"select.none":o1,delete:i1,"new.project":r1,open:a1,save:d1,"save.as":l1,"upload.media":c1,"create.page":p1,"new.page":u1,"page.name":h1,duplicate:m1,cancel:g1,"copy.invite.link":f1,"create.multiplayer.project":S1,"copy.multiplayer.project":T1,select:y1,eraser:b1,draw:w1,arrow:I1,text:x1,sticky:v1,rectangle:P1,ellipse:k1,triangle:D1,line:E1,rotate:C1,"lock.aspect.ratio":B1,"unlock.aspect.ratio":L1,group:A1,ungroup:R1,"move.to.back":H1,"move.backward":M1,"move.forward":z1,"move.to.front":F1,"reset.angle":O1,lock:j1,unlock:U1,"move.to.page":G1,"flip.horizontal":N1,"flip.vertical":K1,move:V1,"to.front":W1,forward:_1,backward:Y1,back:$1,language:X1};var Z1="Cor",q1="Preencher",Q1="Tra\xE7o",J1="Tamanho",eL="Manter aberto",tL="Fonte",nL="Alinhamento",sL="Estilos",oL="Aumentar zoom",iL="Diminuir zoom",rL="para",aL="Ficheiro",dL="Editar",lL="Visualizar",cL="Prefer\xEAncias",pL="Entrar",uL="Sair",hL="Torne-se um patrocinador",mL="Zoom na sele\xE7\xE3o",gL="Zoom para caber",fL="Zoom para",SL="Modo Escuro",TL="Modo Foco",yL="Modo Debug",bL="Mostrar Grelha",wL="Usar sele\xE7\xE3o CAD",IL="Manter Menu de Estilos Aberto",xL="Mostrar Pontos de Ajuste",vL="Controlo de Rota\xE7\xE3o",PL="Controlo de Binds",kL="Controlo de Clone",DL="Desfazer",EL="Refazer",CL="Cortar",BL="Copiar",LL="Colar",AL="Copiar como",RL="Exportar como",HL="Selecionar todos",ML="Selecionar nenhum",zL="Apagar",FL="Novo Projeto",OL="Abrir",jL="Salvar",UL="Salvar Como",GL="Upload M\xE9dia",NL="Criar P\xE1gina",KL="Nova P\xE1gina",VL="Nome da P\xE1gina",WL="Duplicar",_L="Cancelar",YL="Copiar Link de Convite",$L="Criar um Projeto Multi-Utilizador",XL="Copiar num Projeto Multi-Utilizador",ZL="Selecionar",qL="Borracha",QL="Desenhar",JL="Seta",eA="Texto",tA="Post-it",nA="Ret\xE2ngulo",sA="Elipse",oA="Tri\xE2ngulo",iA="Linha",rA="Rodar",aA="Trancar a Propor\xE7\xE3o",dA="Destrancar a Propor\xE7\xE3o",lA="Agrupar",cA="Desagrupar",pA="Colocar no Fundo",uA="Mover abaixo",hA="Mover acima",mA="Colocar \xE0 Frente",gA="Reiniciar \xC2ngulo",fA="Trancar",SA="Destrancar",TA="Mover para P\xE1gina",yA="Inverter Horizontalmente",bA="Inverter Verticalmente",wA="Mover",IA="Para Frente",xA="Avan\xE7ar",vA="Recuar",PA="Voltar",kA="L\xEDngua",fi={"style.menu.color":Z1,"style.menu.fill":q1,"style.menu.dash":Q1,"style.menu.size":J1,"style.menu.keep.open":eL,"style.menu.font":tL,"style.menu.align":nL,styles:sL,"zoom.in":oL,"zoom.out":iL,to:rL,"menu.file":aL,"menu.edit":dL,"menu.view":lL,"menu.preferences":cL,"menu.sign.in":pL,"menu.sign.out":uL,"become.a.sponsor":hL,"zoom.to.selection":mL,"zoom.to.fit":gL,"zoom.to":fL,"preferences.dark.mode":SL,"preferences.focus.mode":TL,"preferences.debug.mode":yL,"preferences.show.grid":bL,"preferences.use.cad.selection":wL,"preferences.keep.stylemenu.open":IL,"preferences.always.show.snaps":xL,"preferences.rotate.handles":vL,"preferences.binding.handles":PL,"preferences.clone.handles":kL,undo:DL,redo:EL,cut:CL,copy:BL,paste:LL,"copy.as":AL,"export.as":RL,"select.all":HL,"select.none":ML,delete:zL,"new.project":FL,open:OL,save:jL,"save.as":UL,"upload.media":GL,"create.page":NL,"new.page":KL,"page.name":VL,duplicate:WL,cancel:_L,"copy.invite.link":YL,"create.multiplayer.project":$L,"copy.multiplayer.project":XL,select:ZL,eraser:qL,draw:QL,arrow:JL,text:eA,sticky:tA,rectangle:nA,ellipse:sA,triangle:oA,line:iA,rotate:rA,"lock.aspect.ratio":aA,"unlock.aspect.ratio":dA,group:lA,ungroup:cA,"move.to.back":pA,"move.backward":uA,"move.forward":hA,"move.to.front":mA,"reset.angle":gA,lock:fA,unlock:SA,"move.to.page":TA,"flip.horizontal":yA,"flip.vertical":bA,move:wA,"to.front":IA,forward:xA,backward:vA,back:PA,language:kA};var DA="\u0426\u0432\u0435\u0442",EA="\u0417\u0430\u043F\u043E\u043B\u043D\u044F\u0442\u044C",CA="\u0428\u0442\u0440\u0438\u0445",BA="\u0420\u0430\u0437\u043C\u0435\u0440",LA="\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C",AA="\u0428\u0440\u0438\u0444\u0442",RA="\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435",HA="\u0421\u0442\u0438\u043B\u044C",MA="\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C",zA="\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C",FA="\u043A",OA="\u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B",jA="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435",UA="\u0424\u0430\u0439\u043B",GA="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",NA="\u0412\u0438\u0434",KA="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",VA="\u0412\u043E\u0439\u0442\u0438",WA="\u0412\u044B\u0439\u0442\u0438",_A="\u0421\u0442\u0430\u0442\u044C \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C",YA="\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u043C\u0443",$A="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u044E",XA="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0440\u0430\u0437\u043C\u0435\u0440\u0443 \u044D\u043A\u0440\u0430\u043D\u0430",ZA="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A",qA="\u0422\u0451\u043C\u043D\u0430\u044F \u0442\u0435\u043C\u0430",QA="\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u0438\u0441\u0442\u0438\u0447\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C",JA="\u0420\u0435\u0436\u0438\u043C \u043E\u0442\u043B\u0430\u0434\u043A\u0438",eR="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0441\u0435\u0442\u043A\u0443",tR="\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C CAD \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",nR="\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0435\u0439 \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C",sR="\u0412\u0441\u0435\u0433\u0434\u0430 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438",oR="\u0420\u0443\u0447\u043A\u0438 \u0432\u0440\u0430\u0449\u0435\u043D\u0438\u044F",iR="\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438",rR="\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",aR="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",dR="\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",lR="\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C",cR="\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",pR="\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C",uR="\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A",hR="\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A",mR="\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0441\u0451",gR="\u0421\u043D\u044F\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",fR="\u0423\u0434\u0430\u043B\u0438\u0442\u044C",SR="\u041D\u043E\u0432\u044B\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",TR="\u041E\u0442\u043A\u0440\u044B\u0442\u044C",yR="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",bR="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043A\u0430\u043A",wR="\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043C\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043B",IR="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",xR="\u041D\u043E\u0432\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",vR="\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",PR="\u0414\u0443\u0431\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C",kR="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",DR="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u044F",ER="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u0447\u0442\u0435\u043D\u0438\u044F",CR="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",BR="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432 \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",LR="\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C",AR="\u041B\u0430\u0441\u0442\u0438\u043A",RR="\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C",HR="\u0421\u0442\u0440\u0435\u043B\u043A\u0430",MR="\u0422\u0435\u043A\u0441\u0442",zR="\u0417\u0430\u043C\u0435\u0442\u043A\u0430",FR="\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",OR="\u042D\u043B\u043B\u0438\u043F\u0441",jR="\u0422\u0440\u0435\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",UR="\u041B\u0438\u043D\u0438\u044F",GR="\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u044C",NR="\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D",KR="\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D",VR="\u0421\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",WR="\u0420\u0430\u0437\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",_R="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430\u0437\u0430\u0434",YR="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",$R="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u043F\u0435\u0440\u0451\u0434",XR="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",ZR="\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0443\u0433\u043E\u043B",qR="\u0411\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",QR="\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",JR="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C / \u0440\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C",eH="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",tH="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",nH="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",sH="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C",oH="\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",iH="\u0412\u043F\u0435\u0440\u0435\u0434",rH="\u041D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",aH="\u041D\u0430\u0437\u0430\u0434",dH="\u042F\u0437\u044B\u043A",lH="\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",cH="\u0420\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043F\u0430\u043D\u0435\u043B\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u043E\u0432",pH="\u0421\u043D\u0438\u0437\u0443",uH="\u0421\u043B\u0435\u0432\u0430",hH="\u0421\u043F\u0440\u0430\u0432\u0430",mH="\u0421\u0432\u0435\u0440\u0445\u0443",gH="\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430",fH="\u0421\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u044F \u043A\u043B\u0430\u0432\u0438\u0448",SH="\u041F\u043E\u0438\u0441\u043A",TH="\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",yH="\u042D\u043A\u0441\u043F\u043E\u0440\u0442 \u0444\u043E\u043D\u0430",bH="\u041F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u044B\u0439",wH="\u0410\u0432\u0442\u043E",IH="\u0421\u0432\u0435\u0442\u043B\u044B\u0439",xH="\u0422\u0451\u043C\u043D\u044B\u0439",vH="\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",PH="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043B\u0435\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E",kH="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",DH="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043F\u0440\u0430\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E",EH="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0432\u0435\u0440\u0445\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E",CH="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",BH="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043D\u0438\u0436\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E",LH="\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",AH="\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",RH="\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",HH="\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",MH="\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F",zH="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",FH="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u043F\u0440\u043E\u0435\u043A\u0442",OH="\u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u0435\u043B\u0438\u043A\u0438, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0438\u0445 \u0432 \u0441\u0441\u044B\u043B\u043A\u0435. \u041D\u0435 \u0432\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u0432\u0438\u0434\u0435\u043E!",jH="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442?",UH="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0442\u0435\u043A\u0443\u0449\u0435\u043C \u043F\u0440\u043E\u0435\u043A\u0442\u0435?",GH="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",NH="\u041D\u0435\u0442",KH="\u0414\u0430",VH="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u0444\u0430\u0439\u043B\u0430",Si={"style.menu.color":DA,"style.menu.fill":EA,"style.menu.dash":CA,"style.menu.size":BA,"style.menu.keep.open":LA,"style.menu.font":AA,"style.menu.align":RA,styles:HA,"zoom.in":MA,"zoom.out":zA,to:FA,"menu.tools":OA,"menu.transform":jA,"menu.file":UA,"menu.edit":GA,"menu.view":NA,"menu.preferences":KA,"menu.sign.in":VA,"menu.sign.out":WA,"become.a.sponsor":_A,"zoom.to.content":YA,"zoom.to.selection":$A,"zoom.to.fit":XA,"zoom.to":ZA,"preferences.dark.mode":qA,"preferences.focus.mode":QA,"preferences.debug.mode":JA,"preferences.show.grid":eR,"preferences.use.cad.selection":tR,"preferences.keep.stylemenu.open":nR,"preferences.always.show.snaps":sR,"preferences.rotate.handles":oR,"preferences.binding.handles":iR,"preferences.clone.handles":rR,undo:aR,redo:dR,cut:lR,copy:cR,paste:pR,"copy.as":uR,"export.as":hR,"select.all":mR,"select.none":gR,delete:fR,"new.project":SR,open:TR,save:yR,"save.as":bR,"upload.media":wR,"create.page":IR,"new.page":xR,"page.name":vR,duplicate:PR,cancel:kR,"copy.invite.link":DR,"copy.readonly.link":ER,"create.multiplayer.project":CR,"copy.multiplayer.project":BR,select:LR,eraser:AR,draw:RR,arrow:HR,text:MR,sticky:zR,rectangle:FR,ellipse:OR,triangle:jR,line:UR,rotate:GR,"lock.aspect.ratio":NR,"unlock.aspect.ratio":KR,group:VR,ungroup:WR,"move.to.back":_R,"move.backward":YR,"move.forward":$R,"move.to.front":XR,"reset.angle":ZR,lock:qR,unlock:QR,"align.distribute":JR,"move.to.page":eH,"flip.horizontal":tH,"flip.vertical":nH,move:sH,"to.front":oH,forward:iH,backward:rH,back:aH,language:dH,"translation.link":lH,"dock.position":cH,bottom:pH,left:uH,right:hH,top:mH,page:gH,"keyboard.shortcuts":fH,search:SH,loading:TH,"export.background":yH,transparent:bH,auto:wH,light:IH,dark:xH,image:vH,"align.left":PH,"align.center.x":kH,"align.right":DH,"align.top":EH,"align.center.y":CH,"align.bottom":BH,"distribute.x":LH,"distribute.y":AH,"stretch.x":RH,"stretch.y":HH,share:MH,"copy.current.page.link":zH,"copy.project.link":FH,"data.too.big.encoded":OH,"dialog.save.firsttime":jH,"dialog.save.again":UH,"dialog.cancel":GH,"dialog.no":NH,"dialog.yes":KH,"enter.file.name":VH};var WH="F\xE4rg",_H="Ifylld",YH="Streck",$H="Storlek",XH="H\xE5ll stilmenyn \xF6ppen",ZH="Typsnitt",qH="Justera",QH="Utseende",JH="Zooma in",eM="Zooma ut",tM="Till",nM="Verktyg",sM="Transform",oM="Arkiv",iM="Redigera",rM="Inneh\xE5ll",aM="Inst\xE4llningar",dM="Logga in",lM="Logga ut",cM="Bli en sponsor",pM="Anpassa zoom till inneh\xE5ll",uM="Anpassa zoom till urval",hM="Anpassa zoom till sk\xE4rm",mM="Zooma till",gM="M\xF6rkt l\xE4ge",fM="Fokusl\xE4ge",SM="Debugl\xE4ge",TM="Visa rutn\xE4t",yM="V\xE4lj som i CAD-mjukvara",bM="H\xE5ll stilmenyn \xF6ppen",wM="Visa alltid f\xE4stpunkter",IM="Rotationshandtag",xM="Bindningshandtag",vM="Kloningshandtag",PM="\xC5ngra",kM="G\xF6r om",DM="Klipp ut",EM="Kopiera",CM="Klistra in",BM="Kopiera som",LM="Exportera till",AM="V\xE4lj alla",RM="V\xE4lj ingen",HM="Radera",MM="Nytt projekt",zM="\xD6ppna",FM="Spara",OM="Spara som",jM="Ladda upp media",UM="Skapa sida",GM="Ny sida",NM="Sidnamn",KM="Duplicera",VM="Avbryt",WM="Kopiera l\xE4nk med redigeringsr\xE4ttigheter",_M="Kopiera l\xE4nk med l\xE4sr\xE4ttigheter",YM="Skapa ett Multiplayer-projekt",$M="Kopiera till Multiplayer-project",XM="V\xE4lj",ZM="Radera",qM="Rita",QM="Pil",JM="Text",e2="Klisterlapp",t2="Rektangel",n2="Ellips",s2="Triangel",o2="Linje",i2="Rotera",r2="L\xE5s storleksf\xF6rh\xE5llande",a2="L\xE5s upp storleksf\xF6rh\xE5llande",d2="Gruppera",l2="Avgruppera",c2="Placera l\xE4ngst bak",p2="Flytta bak\xE5t",u2="Flytta fram\xE5t",h2="Placera l\xE4ngst fram",m2="\xC5terst\xE4ll vinkel",g2="L\xE5s",f2="L\xE5s upp",S2="Justera / Placera",T2="Flytta till sida",y2="V\xE4nd horisontellt",b2="V\xE4nd vertikalt",w2="Flytta",I2="Till l\xE4ngst fram",x2="Fram\xE5t",v2="Bak\xE5t",P2="Till l\xE4ngst bak",k2="Spr\xE5k",D2="Mer information",E2="Dockningsposition",C2="Botten",B2="V\xE4nster",L2="H\xF6ger",A2="Topp",R2="Sida",H2="Tangentbordsgenv\xE4gar",M2="S\xF6k",z2="Laddar{dots}",F2="Exportbakgrund",O2="Transparent",j2="Auto",U2="Ljus",G2="M\xF6rk",N2="Github",K2="Twitter",V2="Discord",W2="Bild",Ti={"style.menu.color":WH,"style.menu.fill":_H,"style.menu.dash":YH,"style.menu.size":$H,"style.menu.keep.open":XH,"style.menu.font":ZH,"style.menu.align":qH,styles:QH,"zoom.in":JH,"zoom.out":eM,to:tM,"menu.tools":nM,"menu.transform":sM,"menu.file":oM,"menu.edit":iM,"menu.view":rM,"menu.preferences":aM,"menu.sign.in":dM,"menu.sign.out":lM,"become.a.sponsor":cM,"zoom.to.content":pM,"zoom.to.selection":uM,"zoom.to.fit":hM,"zoom.to":mM,"preferences.dark.mode":gM,"preferences.focus.mode":fM,"preferences.debug.mode":SM,"preferences.show.grid":TM,"preferences.use.cad.selection":yM,"preferences.keep.stylemenu.open":bM,"preferences.always.show.snaps":wM,"preferences.rotate.handles":IM,"preferences.binding.handles":xM,"preferences.clone.handles":vM,undo:PM,redo:kM,cut:DM,copy:EM,paste:CM,"copy.as":BM,"export.as":LM,"select.all":AM,"select.none":RM,delete:HM,"new.project":MM,open:zM,save:FM,"save.as":OM,"upload.media":jM,"create.page":UM,"new.page":GM,"page.name":NM,duplicate:KM,cancel:VM,"copy.invite.link":WM,"copy.readonly.link":_M,"create.multiplayer.project":YM,"copy.multiplayer.project":$M,select:XM,eraser:ZM,draw:qM,arrow:QM,text:JM,sticky:e2,rectangle:t2,ellipse:n2,triangle:s2,line:o2,rotate:i2,"lock.aspect.ratio":r2,"unlock.aspect.ratio":a2,group:d2,ungroup:l2,"move.to.back":c2,"move.backward":p2,"move.forward":u2,"move.to.front":h2,"reset.angle":m2,lock:g2,unlock:f2,"align.distribute":S2,"move.to.page":T2,"flip.horizontal":y2,"flip.vertical":b2,move:w2,"to.front":I2,forward:x2,backward:v2,back:P2,language:k2,"translation.link":D2,"dock.position":E2,bottom:C2,left:B2,right:L2,top:A2,page:R2,"keyboard.shortcuts":H2,search:M2,loading:z2,"export.background":F2,transparent:O2,auto:j2,light:U2,dark:G2,github:N2,twitter:K2,discord:V2,image:W2};var _2="Renk",Y2="Doldur",$2="\xC7izgi",X2="Boyut",Z2="A\xE7\u0131k Tut",q2="Yaz\u0131 Tipi",Q2="Hizala",J2="Stiller",ez="Yak\u0131nla\u015Ft\u0131r",tz="Uzakla\u015Ft\u0131r",nz="",sz="Dosya",oz="D\xFCzenle",iz="G\xF6r\xFCnt\xFC",rz="Tercihler",az="Giri\u015F Yap",dz="Oturumu Kapat",lz="Sponsor Ol",cz="Se\xE7ime Yak\u0131nla\u015Ft\u0131r",pz="S\u0131\u011Fd\u0131rmak i\xE7in Yak\u0131nla\u015Ft\u0131r",uz="Yak\u0131nla\u015Ft\u0131r",hz="Karanl\u0131k Mod",mz="Odak Modu",gz="Debug Modu",fz="Izgaray\u0131 G\xF6ster",Sz="CAD Se\xE7imi Kullan",Tz="Stil Men\xFCs\xFCn\xFC A\xE7\u0131k Tut",yz="Hiza \xC7izgilerini Hep G\xF6ster",bz="Rotasyon Kontrolc\xFCleri",wz="Ba\u011Flama Kontrolc\xFCleri",Iz="Klon Kontrolc\xFCleri",xz="Geri Al",vz="Yinele",Pz="Kes",kz="Kopyala",Dz="Yap\u0131\u015Ft\u0131r",Ez="Olarak Kopyala",Cz="Olarak D\u0131\u015Far\u0131 Aktar",Bz="Hepsini Se\xE7",Lz="Hi\xE7birini Se\xE7me",Az="Sil",Rz="Yeni Proje",Hz="A\xE7",Mz="Kaydet",zz="Farkl\u0131 Kaydet",Fz="Medya Y\xFCkle",Oz="Sayfa Olu\u015Ftur",jz="Yeni Sayfa",Uz="Sayfa \u0130smi",Gz="Kopya Olu\u015Ftur",Nz="\u0130ptal",Kz="Davet Linkini Kopyala",Vz="\xC7ok Oyunculu Proje Olu\u015Ftur",Wz="\xC7ok Oyunculu Projeye Kopyala",_z="Se\xE7",Yz="Silgi",$z="\xC7izim",Xz="Ok",Zz="Yaz\u0131",qz="Yap\u0131\u015Fkan",Qz="Dikd\xF6rtgen",Jz="Elips",eF="\xDC\xE7gen",tF="\xC7izgi",nF="D\xF6nd\xFCr",sF="En Boy Oran\u0131n\u0131 Kilitle",oF="En Boy Oran\u0131 Kilidini A\xE7",iF="Grupla",rF="Gruplamay\u0131 Kald\u0131r",aF="Arkaya Ta\u015F\u0131",dF="En Arkaya Ta\u015F\u0131",lF="En \xD6ne Ta\u015F\u0131",cF="\xD6ne Ta\u015F\u0131",pF="A\xE7\u0131y\u0131 S\u0131f\u0131rla",uF="Kilitle",hF="Kilidini A\xE7",mF="Sayfaya Ta\u015F\u0131",gF="Yatay \xC7evir",fF="Dikey \xC7evir",SF="Ta\u015F\u0131",TF="\xD6ne",yF="En \xD6ne",bF="En Arkaya",wF="Arkaya",IF="Dil",yi={"style.menu.color":_2,"style.menu.fill":Y2,"style.menu.dash":$2,"style.menu.size":X2,"style.menu.keep.open":Z2,"style.menu.font":q2,"style.menu.align":Q2,styles:J2,"zoom.in":ez,"zoom.out":tz,to:nz,"menu.file":sz,"menu.edit":oz,"menu.view":iz,"menu.preferences":rz,"menu.sign.in":az,"menu.sign.out":dz,"become.a.sponsor":lz,"zoom.to.selection":cz,"zoom.to.fit":pz,"zoom.to":uz,"preferences.dark.mode":hz,"preferences.focus.mode":mz,"preferences.debug.mode":gz,"preferences.show.grid":fz,"preferences.use.cad.selection":Sz,"preferences.keep.stylemenu.open":Tz,"preferences.always.show.snaps":yz,"preferences.rotate.handles":bz,"preferences.binding.handles":wz,"preferences.clone.handles":Iz,undo:xz,redo:vz,cut:Pz,copy:kz,paste:Dz,"copy.as":Ez,"export.as":Cz,"select.all":Bz,"select.none":Lz,delete:Az,"new.project":Rz,open:Hz,save:Mz,"save.as":zz,"upload.media":Fz,"create.page":Oz,"new.page":jz,"page.name":Uz,duplicate:Gz,cancel:Nz,"copy.invite.link":Kz,"create.multiplayer.project":Vz,"copy.multiplayer.project":Wz,select:_z,eraser:Yz,draw:$z,arrow:Xz,text:Zz,sticky:qz,rectangle:Qz,ellipse:Jz,triangle:eF,line:tF,rotate:nF,"lock.aspect.ratio":sF,"unlock.aspect.ratio":oF,group:iF,ungroup:rF,"move.to.back":aF,"move.backward":dF,"move.forward":lF,"move.to.front":cF,"reset.angle":pF,lock:uF,unlock:hF,"move.to.page":mF,"flip.horizontal":gF,"flip.vertical":fF,move:SF,"to.front":TF,forward:yF,backward:bF,back:wF,language:IF};var xF="\u041A\u043E\u043B\u0456\u0440",vF="\u0417\u0430\u043F\u043E\u0432\u043D\u044E\u0432\u0430\u0442\u0438",PF="\u0428\u0442\u0440\u0438\u0445",kF="\u0420\u043E\u0437\u043C\u0456\u0440",DF="\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C",EF="\u0428\u0440\u0438\u0444\u0442",CF="\u0412\u0438\u0440\u0456\u0432\u043D\u044F\u0442\u0438",BF="\u0421\u0442\u0438\u043B\u044C",LF="\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438",AF="\u0417\u043C\u0435\u043D\u0448\u0438\u0442\u0438",RF="\u0434\u043E",HF="\u0424\u0430\u0439\u043B",MF="\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F",zF="\u0412\u0438\u0433\u043B\u044F\u0434",FF="\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F",OF="\u0423\u0432\u0456\u0439\u0442\u0438",jF="\u0412\u0438\u0439\u0442\u0438",UF="\u0421\u0442\u0430\u0442\u0438 \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C",GF="\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",NF="\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438 \u0437\u0430 \u0440\u043E\u0437\u043C\u0456\u0440\u043E\u043C \u0435\u043A\u0440\u0430\u043D\u0443",KF="\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E",VF="\u0422\u0435\u043C\u043D\u0430 \u0442\u0435\u043C\u0430",WF="\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u0456\u0441\u0442\u0438\u0447\u043D\u0438\u0439 \u0440\u0435\u0436\u0438\u043C",_F="\u0420\u0435\u0436\u0438\u043C \u043D\u0430\u043B\u0430\u0433\u043E\u0434\u0436\u0435\u043D\u043D\u044F",YF="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0442\u043A\u0443",$F="\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438 CAD \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",XF="\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0456\u0432 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C",ZF="\u0417\u0430\u0432\u0436\u0434\u0438 \u043F\u043E\u043A\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438",qF="\u0420\u0443\u0447\u043A\u0438 \u043E\u0431\u0435\u0440\u0442\u0430\u043D\u043D\u044F",QF="\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438",JF="\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0443\u0432\u0430\u043D\u043D\u044F",eO="\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",tO="\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438",nO="\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438",sO="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438",oO="\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438",iO="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u044F\u043A",rO="\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u044F\u043A",aO="\u041E\u0431\u0440\u0430\u0442\u0438 \u0432\u0441\u0435",dO="\u0417\u043D\u044F\u0442\u0438 \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",lO="\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438",cO="\u041D\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",pO="\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438",uO="\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",hO="\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u044F\u043A",mO="\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 \u043C\u0435\u0434\u0456\u0430",gO="\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",fO="\u041D\u043E\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",SO="\u041D\u0430\u0437\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438",TO="\u0414\u0443\u0431\u043B\u044E\u0432\u0430\u0442\u0438",yO="\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",bO="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F \u043D\u0430 \u0437\u0430\u043F\u0440\u043E\u0448\u0435\u043D\u043D\u044F",wO="\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",IO="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",xO="\u0412\u0438\u0431\u0438\u0440\u0430\u0442\u0438",vO="\u041B\u0430\u0441\u0442\u0438\u043A",PO="\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438",kO="\u0421\u0442\u0440\u0456\u043B\u043A\u0430",DO="\u0422\u0435\u043A\u0441\u0442",EO="\u041D\u043E\u0442\u0430\u0442\u043A\u0430",CO="\u041F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A",BO="\u0415\u043B\u0456\u043F\u0441",LO="\u0422\u0440\u0438\u043A\u0443\u0442\u043D\u0438\u043A",AO=" \u041B\u0456\u043D\u0456\u044F",RO="\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438",HO="\u0417\u0430\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D",MO=" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D",zO="\u0417\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",FO=" \u0420\u043E\u0437\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",OO="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430\u0437\u0430\u0434",jO="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",UO="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u0432\u043F\u0435\u0440\u0435\u0434",GO="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",NO="\u0421\u043A\u0438\u0434\u0430\u043D\u043D\u044F \u043A\u0443\u0442\u0430",KO="\u0411\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F",VO=" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F",WO="\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",_O="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",YO="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",$O="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438",XO="\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",ZO=" \u0412\u043F\u0435\u0440\u0435\u0434",qO="\u041D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",QO="\u041D\u0430\u0437\u0430\u0434",JO="\u041C\u043E\u0432\u0430",bi={"style.menu.color":xF,"style.menu.fill":vF,"style.menu.dash":PF,"style.menu.size":kF,"style.menu.keep.open":DF,"style.menu.font":EF,"style.menu.align":CF,styles:BF,"zoom.in":LF,"zoom.out":AF,to:RF,"menu.file":HF,"menu.edit":MF,"menu.view":zF,"menu.preferences":FF,"menu.sign.in":OF,"menu.sign.out":jF,"become.a.sponsor":UF,"zoom.to.selection":GF,"zoom.to.fit":NF,"zoom.to":KF,"preferences.dark.mode":VF,"preferences.focus.mode":WF,"preferences.debug.mode":_F,"preferences.show.grid":YF,"preferences.use.cad.selection":$F,"preferences.keep.stylemenu.open":XF,"preferences.always.show.snaps":ZF,"preferences.rotate.handles":qF,"preferences.binding.handles":QF,"preferences.clone.handles":JF,undo:eO,redo:tO,cut:nO,copy:sO,paste:oO,"copy.as":iO,"export.as":rO,"select.all":aO,"select.none":dO,delete:lO,"new.project":cO,open:pO,save:uO,"save.as":hO,"upload.media":mO,"create.page":gO,"new.page":fO,"page.name":SO,duplicate:TO,cancel:yO,"copy.invite.link":bO,"create.multiplayer.project":wO,"copy.multiplayer.project":IO,select:xO,eraser:vO,draw:PO,arrow:kO,text:DO,sticky:EO,rectangle:CO,ellipse:BO,triangle:LO,line:AO,rotate:RO,"lock.aspect.ratio":HO,"unlock.aspect.ratio":MO,group:zO,ungroup:FO,"move.to.back":OO,"move.backward":jO,"move.forward":UO,"move.to.front":GO,"reset.angle":NO,lock:KO,unlock:VO,"move.to.page":WO,"flip.horizontal":_O,"flip.vertical":YO,move:$O,"to.front":XO,forward:ZO,backward:qO,back:QO,language:JO};var ej="\u989C\u8272",tj="\u586B\u5145",nj="\u8FB9\u6846",sj="\u5C3A\u5BF8",oj="\u4FDD\u6301\u5E38\u5F00",ij="\u5B57\u4F53",rj="\u5BF9\u9F50",aj="\u6837\u5F0F",dj="\u653E\u5927",lj="\u7F29\u5C0F",cj="\u7F29\u653E\u81F3",pj="\u5DE5\u5177",uj="\u8F6C\u6362",hj="\u6587\u4EF6",mj="\u7F16\u8F91",gj="\u89C6\u56FE",fj="\u504F\u597D",Sj="\u767B\u5F55",Tj="\u767B\u51FA",yj="\u641C\u7D22",bj="\u6210\u4E3A\u8D5E\u52A9\u8005",wj="\u7F29\u653E\u9009\u4E2D",Ij="\u81EA\u9002\u5E94\u7F29\u653E",xj="\u7F29\u653E\u81F3",vj="\u7F29\u653E\u81F3\u5185\u5BB9",Pj="\u6697\u9ED1\u6A21\u5F0F",kj="\u4E13\u6CE8\u6A21\u5F0F",Dj="\u8C03\u8BD5\u6A21\u5F0F",Ej="\u663E\u793A\u7F51\u683C",Cj="\u4F7F\u7528 CAD \u9009\u62E9",Bj="\u4FDD\u6301\u6837\u5F0F\u83DC\u5355\u5E38\u5F00",Lj="\u603B\u662F\u5C55\u793A\u5BF9\u9F50\u7EBF",Aj="\u65CB\u8F6C\u624B\u67C4",Rj="\u6346\u7ED1\u624B\u67C4",Hj="\u514B\u9686\u624B\u67C4",Mj="\u64A4\u9500",zj="\u91CD\u505A",Fj="\u526A\u5207",Oj="\u590D\u5236",jj="\u7C98\u8D34",Uj="\u590D\u5236\u4E3A",Gj="\u5BFC\u51FA\u4E3A",Nj="\u9009\u4E2D\u5168\u90E8",Kj="\u53D6\u6D88\u9009\u4E2D",Vj="\u5220\u9664",Wj="\u65B0\u9879\u76EE",_j="\u6253\u5F00",Yj="\u4FDD\u5B58",$j="\u4FDD\u5B58\u4E3A",Xj="\u4E0A\u4F20\u5A92\u4F53\u6587\u4EF6",Zj="\u521B\u5EFA\u9875\u9762",qj="\u65B0\u9875\u9762",Qj="\u9875\u9762\u540D\u79F0",Jj="\u590D\u5236",eU="\u53D6\u6D88",tU="\u590D\u5236\u9080\u8BF7\u94FE\u63A5",nU="\u521B\u5EFA\u591A\u4EBA\u9879\u76EE",sU="\u590D\u5236\u5230\u591A\u4EBA\u9879\u76EE",oU="\u9009\u62E9",iU="\u6A61\u76AE",rU="\u753B\u7B14",aU="\u7BAD\u5934",dU="\u6587\u672C",lU="\u4FBF\u5229\u8D34",cU="\u77E9\u5F62",pU="\u692D\u5706\u5F62",uU="\u4E09\u89D2\u5F62",hU="\u76F4\u7EBF",mU="\u65CB\u8F6C",gU="\u9501\u5B9A\u5BBD\u9AD8\u6BD4",fU="\u89E3\u9501\u5BBD\u9AD8\u6BD4",SU="\u5206\u7EC4",TU="\u53D6\u6D88\u5206\u7EC4",yU="\u7F6E\u5E95",bU="\u4E0B\u79FB\u4E00\u5C42",wU="\u4E0A\u79FB\u4E00\u5C42",IU="\u7F6E\u9876",xU="\u91CD\u7F6E\u65CB\u8F6C\u89D2\u5EA6",vU="\u9501\u5B9A",PU="\u89E3\u9501",kU="\u79FB\u52A8\u5230\u9875\u9762",DU="\u6C34\u5E73\u7FFB\u8F6C",EU="\u5782\u76F4\u7FFB\u8F6C",CU="\u79FB\u52A8",BU="\u7F6E\u9876",LU="\u4E0A\u4E00\u5C42",AU="\u4E0B\u4E00\u5C42",RU="\u7F6E\u5E95",HU="\u8BED\u8A00",MU="\u952E\u76D8\u5FEB\u6377\u952E",zU="\u4E86\u89E3\u66F4\u591A",FU="\u9875\u9762",OU="\u951A\u70B9\u4F4D\u7F6E",jU="\u4E0B\u9762",UU="\u5DE6\u9762",GU="\u53F3\u9762",NU="\u4E0A\u9762",KU="\u5BFC\u51FA\u80CC\u666F\u8272",VU="\u900F\u660E",WU="\u81EA\u52A8",_U="\u660E\u4EAE",YU="\u6697\u9ED1",$U="\u590D\u5236\u53EA\u8BFB\u94FE\u63A5",XU="\u56FE\u7247",ZU="\u5BF9\u9F50 / \u5206\u6563",qU="\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5F53\u524D\u7684\u9879\u76EE\uFF1F",QU="\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5BF9\u5F53\u524D\u9879\u76EE\u7684\u66F4\u6539\uFF1F",JU="\u53D6\u6D88",eG="\u5426",tG="\u662F",wi={"style.menu.color":ej,"style.menu.fill":tj,"style.menu.dash":nj,"style.menu.size":sj,"style.menu.keep.open":oj,"style.menu.font":ij,"style.menu.align":rj,styles:aj,"zoom.in":dj,"zoom.out":lj,to:cj,"menu.tools":pj,"menu.transform":uj,"menu.file":hj,"menu.edit":mj,"menu.view":gj,"menu.preferences":fj,"menu.sign.in":Sj,"menu.sign.out":Tj,search:yj,"become.a.sponsor":bj,"zoom.to.selection":wj,"zoom.to.fit":Ij,"zoom.to":xj,"zoom.to.content":vj,"preferences.dark.mode":Pj,"preferences.focus.mode":kj,"preferences.debug.mode":Dj,"preferences.show.grid":Ej,"preferences.use.cad.selection":Cj,"preferences.keep.stylemenu.open":Bj,"preferences.always.show.snaps":Lj,"preferences.rotate.handles":Aj,"preferences.binding.handles":Rj,"preferences.clone.handles":Hj,undo:Mj,redo:zj,cut:Fj,copy:Oj,paste:jj,"copy.as":Uj,"export.as":Gj,"select.all":Nj,"select.none":Kj,delete:Vj,"new.project":Wj,open:_j,save:Yj,"save.as":$j,"upload.media":Xj,"create.page":Zj,"new.page":qj,"page.name":Qj,duplicate:Jj,cancel:eU,"copy.invite.link":tU,"create.multiplayer.project":nU,"copy.multiplayer.project":sU,select:oU,eraser:iU,draw:rU,arrow:aU,text:dU,sticky:lU,rectangle:cU,ellipse:pU,triangle:uU,line:hU,rotate:mU,"lock.aspect.ratio":gU,"unlock.aspect.ratio":fU,group:SU,ungroup:TU,"move.to.back":yU,"move.backward":bU,"move.forward":wU,"move.to.front":IU,"reset.angle":xU,lock:vU,unlock:PU,"move.to.page":kU,"flip.horizontal":DU,"flip.vertical":EU,move:CU,"to.front":BU,forward:LU,backward:AU,back:RU,language:HU,"keyboard.shortcuts":MU,"translation.link":zU,page:FU,"dock.position":OU,bottom:jU,left:UU,right:GU,top:NU,"export.background":KU,transparent:VU,auto:WU,light:_U,dark:YU,"copy.readonly.link":$U,image:XU,"align.distribute":ZU,"dialog.save.firsttime":qU,"dialog.save.again":QU,"dialog.cancel":JU,"dialog.no":eG,"dialog.yes":tG};var nG="\u984F\u8272",sG="\u586B\u5145",oG="\u865B\u7DDA",iG="\u5927\u5C0F",rG="\u4FDD\u6301\u958B\u555F",aG="\u5B57\u578B",dG="\u5C0D\u9F4A",lG="\u6A23\u5F0F",cG="\u653E\u5927",pG="\u7E2E\u5C0F",uG="\u81F3",hG="\u6A94\u6848",mG="\u7DE8\u8F2F",gG="\u6AA2\u8996",fG="\u9078\u9805",SG="\u767B\u5165",TG="\u767B\u51FA",yG="\u6210\u70BA\u8D0A\u52A9\u8005",bG="\u7E2E\u653E\u81F3\u9078\u53D6\u7BC4\u570D",wG="\u7E2E\u653E\u81F3\u9069\u7576\u5927\u5C0F",IG="\u7E2E\u653E\u81F3",xG="\u6DF1\u8272\u6A21\u5F0F",vG="\u5C08\u6CE8\u6A21\u5F0F",PG="\u9664\u932F\u6A21\u5F0F",kG="\u986F\u793A\u7DB2\u683C",DG="\u4F7F\u7528 CAD \u9078\u53D6",EG="\u6A23\u5F0F\u9078\u55AE\u4FDD\u6301\u958B\u555F",CG="\u6C38\u9060\u986F\u793A\u5C0D\u9F4A\u7DDA",BG="\u65CB\u8F49\u63A7\u9EDE",LG="\u7D81\u5B9A\u63A7\u9EDE",AG="\u8907\u88FD\u63A7\u9EDE",RG="\u5FA9\u539F",HG="\u53D6\u6D88\u5FA9\u539F",MG="\u526A\u4E0B",zG="\u8907\u88FD",FG="\u8CBC\u4E0A",OG="\u8907\u88FD\u6210",jG="\u532F\u51FA\u6210",UG="\u5168\u9078",GG="\u53D6\u6D88\u9078\u53D6",NG="\u522A\u9664",KG="\u65B0\u5C08\u6848",VG="\u958B\u555F",WG="\u5132\u5B58",_G="\u53E6\u5B58\u70BA",YG="\u4E0A\u50B3\u5A92\u9AD4",$G="\u5EFA\u7ACB\u9801\u9762",XG="\u65B0\u9801\u9762",ZG="\u9801\u9762\u540D\u7A31",qG="\u8907\u88FD",QG="\u53D6\u6D88",JG="\u8907\u88FD\u9080\u8ACB\u9023\u7D50",eN="\u8907\u88FD\u552F\u8B80\u9023\u7D50",tN="\u5EFA\u7ACB\u591A\u4EBA\u5C08\u6848",nN="\u8907\u88FD\u81F3\u591A\u4EBA\u5C08\u6848",sN="\u9078\u53D6",oN="\u6A61\u76AE\u64E6",iN="\u624B\u7E6A",rN="\u7BAD\u982D",aN="\u6587\u5B57",dN="\u4FBF\u5229\u8CBC",lN="\u9577\u65B9\u5F62",cN="\u6A62\u5713\u5F62",pN="\u4E09\u89D2\u5F62",uN="\u76F4\u7DDA",hN="\u65CB\u8F49",mN="\u9396\u5B9A\u9577\u5BEC\u6BD4",gN="\u89E3\u9396\u9577\u5BEC\u6BD4",fN="\u7D44\u6210\u7FA4\u7D44",SN="\u53D6\u6D88\u7FA4\u7D44",TN="\u79FB\u5230\u6700\u4E0B\u5C64",yN="\u4E0B\u79FB\u4E00\u5C64",bN="\u4E0A\u79FB\u4E00\u5C64",wN="\u79FB\u5230\u6700\u4E0A\u5C64",IN="\u91CD\u8A2D\u89D2\u5EA6",xN="\u9396\u5B9A",vN="\u89E3\u9396",PN="\u79FB\u81F3\u9801\u9762",kN="\u6C34\u5E73\u7FFB\u8F49",DN="\u5782\u76F4\u7FFB\u8F49",EN="\u79FB\u52D5",CN="\u5230\u6700\u4E0A\u5C64",BN="\u5230\u4E0A\u4E00\u5C64",LN="\u5230\u4E0B\u4E00\u5C64",AN="\u5230\u6700\u4E0B\u5C64",RN="\u8A9E\u8A00",HN="\u4E86\u89E3\u8A73\u60C5",MN="\u5DE5\u5177\u5217\u4F4D\u7F6E",zN="\u4E0B\u65B9",FN="\u5DE6\u5074",ON="\u53F3\u5074",jN="\u4E0A\u65B9",UN="\u9801\u9762",Ii={"style.menu.color":nG,"style.menu.fill":sG,"style.menu.dash":oG,"style.menu.size":iG,"style.menu.keep.open":rG,"style.menu.font":aG,"style.menu.align":dG,styles:lG,"zoom.in":cG,"zoom.out":pG,to:uG,"menu.file":hG,"menu.edit":mG,"menu.view":gG,"menu.preferences":fG,"menu.sign.in":SG,"menu.sign.out":TG,"become.a.sponsor":yG,"zoom.to.selection":bG,"zoom.to.fit":wG,"zoom.to":IG,"preferences.dark.mode":xG,"preferences.focus.mode":vG,"preferences.debug.mode":PG,"preferences.show.grid":kG,"preferences.use.cad.selection":DG,"preferences.keep.stylemenu.open":EG,"preferences.always.show.snaps":CG,"preferences.rotate.handles":BG,"preferences.binding.handles":LG,"preferences.clone.handles":AG,undo:RG,redo:HG,cut:MG,copy:zG,paste:FG,"copy.as":OG,"export.as":jG,"select.all":UG,"select.none":GG,delete:NG,"new.project":KG,open:VG,save:WG,"save.as":_G,"upload.media":YG,"create.page":$G,"new.page":XG,"page.name":ZG,duplicate:qG,cancel:QG,"copy.invite.link":JG,"copy.readonly.link":eN,"create.multiplayer.project":tN,"copy.multiplayer.project":nN,select:sN,eraser:oN,draw:iN,arrow:rN,text:aN,sticky:dN,rectangle:lN,ellipse:cN,triangle:pN,line:uN,rotate:hN,"lock.aspect.ratio":mN,"unlock.aspect.ratio":gN,group:fN,ungroup:SN,"move.to.back":TN,"move.backward":yN,"move.forward":bN,"move.to.front":wN,"reset.angle":IN,lock:xN,unlock:vN,"move.to.page":PN,"flip.horizontal":kN,"flip.vertical":DN,move:EN,"to.front":CN,forward:BN,backward:LN,back:AN,language:RN,"translation.link":HN,"dock.position":MN,bottom:zN,left:FN,right:ON,top:jN,page:UN};var xi=[{locale:"ar",label:"\u0639\u0631\u0628\u064A",messages:ei},{locale:"da",label:"Danish",messages:ti},{locale:"de",label:"Deutsch",messages:ni},{locale:"en",label:"English",messages:si},{locale:"es",label:"Espa\xF1ol",messages:oi},{locale:"fa",label:"\u0641\u0627\u0631\u0633\u06CC",messages:ii},{locale:"fr",label:"Fran\xE7ais",messages:ri},{locale:"he",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",messages:ai},{locale:"it",label:"Italiano",messages:di},{locale:"ja",label:"\u65E5\u672C\u8A9E",messages:li},{locale:"ko-kr",label:"\uD55C\uAD6D\uC5B4",messages:ci},{locale:"ne",label:"\u0928\u0947\u092A\u093E\u0932\u0940",messages:ui},{locale:"no",label:"Norwegian",messages:hi},{locale:"pl",label:"Polski",messages:mi},{locale:"pt",label:"Portugu\xEAs - Europeu",messages:fi},{locale:"pt-br",label:"Portugu\xEAs - Brasil",messages:gi},{locale:"ru",label:"Russian",messages:Si},{locale:"sv",label:"Svenska",messages:Ti},{locale:"tr",label:"T\xFCrk\xE7e",messages:yi},{locale:"uk",label:"Ukrainian",messages:bi},{locale:"zh-ch",label:"\u7B80\u4F53\u4E2D\u6587",messages:wi},{locale:"zh-tw",label:"\u7E41\u9AD4\u4E2D\u6587 (\u53F0\u7063)",messages:Ii}];xi.sort((c,e)=>c.locale<e.locale?-1:1);function vi(c){var t;let e=xi.find(n=>n.locale===c);return{locale:c,label:(t=e==null?void 0:e.label)!=null?t:c,messages:S(S({},pi),e==null?void 0:e.messages)}}function ki(c){return react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>vi(c!=null?c:navigator.language.split(/[-_]/)[0]),[c])}var xs=react__WEBPACK_IMPORTED_MODULE_1__.createContext({}),Vo=()=>{let c=react__WEBPACK_IMPORTED_MODULE_1__.useContext(xs);if(!c)throw new Error("useCtx must be inside a Provider with a value");return c};var{styled:he,createTheme:KN}=(0,_stitches_react__WEBPACK_IMPORTED_MODULE_3__/* .createStitches */ .Th)({themeMap:S({},_stitches_react__WEBPACK_IMPORTED_MODULE_3__/* .defaultThemeMap */ .E6),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)",canvas:"rgb(248, 249, 250)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -8px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -12px rgba(0, 0, 0, 0.12),
        0px 0px 2px 0px rgba(0, 0, 0, 0.08)`},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px",6:"32px",7:"48px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:()=>c=>Array.isArray(c)?{strokeWidth:`calc(${c[0]}px / var(--camera-zoom))`}:{strokeWidth:`calc(${c}px / var(--camera-zoom))`}}}),vs=KN({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",canvas:"#212529"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
      0px 0px 16px -8px rgba(0, 0, 0, 0.09), 
      0px 0px 16px -12px rgba(0, 0, 0, 0.2)`}});var WN=c=>c.appState.isLoading;function ks(){let e=yt().useStore(WN);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_N,{hidden:!e},react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_intl__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z,{id:"loading",values:{dots:"..."}}))}var _N=he("div",{position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",padding:"8px 16px",fontFamily:"var(--fonts-ui)",fontSize:"var(--fontSizes-1)",boxShadow:"var(--shadows-panel)",backgroundColor:"white",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{transform:{hidden:{transform:"translate(-50%, 100%)"},visible:{transform:"translate(-50%, 0%)"}}}});var Ze="-0.03em";var sn=[.5,.5],ZW=Math.PI*2,_n=".tldr",Xt={linear:c=>c,easeInQuad:c=>c*c,easeOutQuad:c=>c*(2-c),easeInOutQuad:c=>c<.5?2*c*c:-1+(4-2*c)*c,easeInCubic:c=>c*c*c,easeOutCubic:c=>--c*c*c+1,easeInOutCubic:c=>c<.5?4*c*c*c:(c-1)*(2*c-2)*(2*c-2)+1,easeInQuart:c=>c*c*c*c,easeOutQuart:c=>1- --c*c*c*c,easeInOutQuart:c=>c<.5?8*c*c*c*c:1-8*--c*c*c*c,easeInQuint:c=>c*c*c*c*c,easeOutQuint:c=>1+--c*c*c*c*c,easeInOutQuint:c=>c<.5?16*c*c*c*c*c:1+16*--c*c*c*c*c,easeInSine:c=>1-Math.cos(c*Math.PI/2),easeOutSine:c=>Math.sin(c*Math.PI/2),easeInOutSine:c=>-(Math.cos(Math.PI*c)-1)/2,easeInExpo:c=>c<=0?0:Math.pow(2,10*c-10),easeOutExpo:c=>c>=1?1:1-Math.pow(2,-10*c),easeInOutExpo:c=>c<=0?0:c>=1?1:c<.5?Math.pow(2,20*c-10)/2:(2-Math.pow(2,-20*c+10))/2};var Ds=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],YN=typeof Window=="undefined"?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Di=typeof Window=="undefined"?!1:/linux/i.test(navigator.userAgent),Yn=[".png",".svg",".jpg",".jpeg",".gif"],$n=YN?[]:[".mp4",".webm"];function Ei(c){react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{let e=!1,t=!1,n=c.current;if(!n)return;let s=o=>{o.key===" "&&!t&&(t=!0,e?n.setAttribute("style","cursor: grabbing !important"):n.setAttribute("style","cursor: grab !important"))},i=o=>{o.key===" "&&(t=!1,n.setAttribute("style","cursor: initial"))},a=o=>{e=!0,o.button===1&&n.setAttribute("style","cursor: grabbing !important"),o.button===0&&t&&n.setAttribute("style","cursor: grabbing !important")},d=()=>{e=!1,t?n.setAttribute("style","cursor: grab !important"):n.setAttribute("style","cursor: initial")};return n.addEventListener("keydown",s),n.addEventListener("keyup",i),n.addEventListener("pointerdown",a),n.addEventListener("pointerup",d),()=>{n.removeEventListener("keydown",s),n.removeEventListener("keyup",i),n.removeEventListener("pointerdown",a),n.removeEventListener("pointerup",d)}},[c.current])}var Us={};No(Us,{LabelMask:()=>As,PolygonUtils:()=>Rs,TextAreaUtils:()=>xe,TextLabel:()=>bt,clearPrevSize:()=>Ls,defaultStyle:()=>De,defaultTextStyle:()=>yn,fills:()=>Ri,getBoundsRectangle:()=>We,getFontFace:()=>Ye,getFontSize:()=>dt,getFontStyle:()=>He,getOffsetPolygon:()=>Hs,getShapeStyle:()=>oe,getStickyFontSize:()=>Zn,getStickyFontStyle:()=>Fs,getStickyShapeStyle:()=>qn,getStrokeWidth:()=>Hi,getTextAlign:()=>Es,getTextLabelSize:()=>nt,getTextSvgElement:()=>st,stickyFills:()=>Ai,strokes:()=>zs,transformRectangle:()=>wt,transformSingleRectangle:()=>It});function We(c,e){let t=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getFromCache(e,c,()=>{let[n,s]=c.size;return{minX:0,maxX:n,minY:0,maxY:s,width:n,height:s}});return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(t,c.point)}var XN={["start"]:"left",["middle"]:"center",["end"]:"right",["justify"]:"justify"};function Es(c="start"){return XN[c]}var Ot;function ZN(){var e;(e=document.getElementById("__textLabelMeasure"))==null||e.remove();let c=document.createElement("pre");return c.id="__textLabelMeasure",Object.assign(c.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Ze,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical",lineHeight:1.3}),c.tabIndex=-1,document.body.appendChild(c),c}typeof window!="undefined"&&(Ot=ZN());var Bs="",Bi="",Cs=[0,0];function Ls(){Bs=""}function nt(c,e){if(!c)return[16,32];if(!Ot)return[10,10];if(Ot.parent||document.body.appendChild(Ot),c===Bs&&e===Bi)return Cs;Bs=c,Bi=e,Ot.textContent=c,Ot.style.font=e;let t=Ot.offsetWidth||1,n=Ot.offsetHeight||1;return Cs=[t,n],Cs}var qN=new RegExp(`${[32,160,4961,65792,65793,4153,4241].map(c=>String.fromCodePoint(c)).join("|")}`);function st(c,e,t,n,s,i=!1){let a="normal",d=1.3,o=Ze,l=QN({text:c,wrap:i,width:s,fontSize:e,fontWeight:a,fontFamily:t,fontStyle:"normal",textAlign:"left",letterSpacing:Ze,lineHeight:1}),u=document.createElementNS("http://www.w3.org/2000/svg","text");u.setAttribute("font-size",e+"px"),u.setAttribute("font-family",t),u.setAttribute("font-weight",a),u.setAttribute("line-height",d*e+"px"),u.setAttribute("letter-spacing",o),u.setAttribute("text-align",n!=null?n:"left"),u.setAttribute("dominant-baseline","mathematical"),u.setAttribute("alignment-baseline","mathematical");let p=l.map((h,m)=>{let g=document.createElementNS("http://www.w3.org/2000/svg","tspan");return g.textContent=h+`
`,g.setAttribute("y",d*e*(m+.5)+"px"),u.appendChild(g),g});switch(n){case"middle":{u.setAttribute("text-align","center"),u.setAttribute("text-anchor","middle"),p.forEach(h=>h.setAttribute("x",4+s/2+""));break}case"end":{u.setAttribute("text-align","right"),u.setAttribute("text-anchor","end"),p.forEach(h=>h.setAttribute("x",4+s+""));break}default:u.setAttribute("text-align","left"),u.setAttribute("text-anchor","start"),p.forEach(h=>h.setAttribute("x","4"))}return u}function QN(c){let e=document.createElement("div");e.style.setProperty("position","absolute"),e.style.setProperty("top","-9999px"),e.style.setProperty("left","-9999px"),e.style.setProperty("width",c.width+"px"),e.style.setProperty("height","min-content"),e.style.setProperty("font-size",c.fontSize+"px"),e.style.setProperty("font-family",c.fontFamily),e.style.setProperty("font-weight",c.fontWeight),e.style.setProperty("line-height",c.lineHeight*c.fontSize+"px"),e.style.setProperty("letter-spacing",c.letterSpacing),e.style.setProperty("text-align",c.textAlign),document.body.appendChild(e);let t=c.text.split(qN).flatMap(a=>a.replaceAll(`
`,` 
`)).join(" ").split(" ");e.innerText=t[0];let n=e.offsetHeight,s=[t[0]],i=[s];for(let a=1;a<t.length;a++){let d=t[a];e.innerText+=" "+d;let o=e.offsetHeight;o>n&&(n=o,s=[],i.push(s)),s.push(d)}return e.remove(),i.map(a=>a.join(" "))}function As({id:c,bounds:e,labelSize:t,offset:n,scale:s=1}){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("mask",{id:c+"_clip"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:-100,y:-100,width:e.width+200,height:e.height+200,fill:"white"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:e.width/2-t[0]/2*s+((n==null?void 0:n[0])||0),y:e.height/2-t[1]/2*s+((n==null?void 0:n[1])||0),width:t[0]*s,height:t[1]*s,rx:4*s,ry:4*s,fill:"black",opacity:Math.max(s,.8)})))}var Xn=Math.PI*2,_e=class{static inwardEdgeNormal(e){let t=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(e[1],e[0]),n=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.len2(t);return[-t[0]/n,t[1]/n]}static outwardEdgeNormal(e){return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.neg(_e.inwardEdgeNormal(e))}static isReflexVertex(e,t){let n=e.length,s=e[(t+n-1)%n],i=e[t],a=e[(t+1)%n];return _e.leftSide(s,a,i)<0}static getEdges(e){return e.map((t,n)=>[t,e[(n+1)%e.length]])}static edgesIntersection([e,t],[n,s]){let i=(s[1]-n[1])*(t[0]-e[0])-(s[0]-n[0])*(t[1]-e[1]);if(i==0)return null;let a=((s[0]-n[0])*(e[1]-n[1])-(s[1]-n[1])*(e[0]-n[0]))/i,d=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/i;return a<0||d<0||a>1||d>1?null:[e[0]+a*(t[0]-e[0]),e[1]+a*(t[1]-e[1])]}static appendArc(e,t,n,s,i,a=!1){let d=[...e],o=Math.atan2(s[1]-t[1],s[0]-t[0]),l=Math.atan2(i[1]-t[1],i[0]-t[0]);o<0&&(o+=Xn),l<0&&(l+=Xn);let u=5,p=o>l?o-l:o+Xn-l,h=(a?-p:Xn-p)/u;d.push(s);for(let m=1;m<u;++m){let g=o+h*m;d.push([t[0]+Math.cos(g)*n,t[1]+Math.sin(g)*n])}return d.push(i),d}static createOffsetEdge(e,t){return e.map(n=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(n,t))}static getOffsetPolygon(e,t=0){let n=_e.getEdges(e),s=n.map(a=>_e.createOffsetEdge(a,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.mul(_e.outwardEdgeNormal(a),t))),i=[];for(let a=0;a<s.length;a++){let d=s[a],o=s[(a+s.length-1)%s.length],l=_e.edgesIntersection(o,d);l?i.push(l):_e.appendArc(i,n[a][0],t,o[1],d[0],!1)}return i}static createPaddingPolygon(e,t=0){let n=e.map(i=>_e.createOffsetEdge(i,_e.inwardEdgeNormal(i))),s=[];for(let i=0;i<n.length;i++){let a=n[i],d=n[(i+n.length-1)%n.length],o=_e.edgesIntersection(d,a);o?s.push(o):_e.appendArc(s,e[i][0],t,d[1],a[0],!0)}return s}},Rs=_e;r(Rs,"leftSide",_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.isLeft);function Hs(c,e){if(c.length<3)throw Error("Polygon must have at least 3 points");let t=c.length;return c.map((n,s)=>[n,c[(s+1)%t]]).map(([n,s])=>{let i=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.mul(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.per(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.uni(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(s,n))),e);return[_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(n,i),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(s,i)]}).map((n,s,i)=>{let a=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineLine */ .VB)(n,i[(s+1)%i.length]);if(a===void 0)throw Error("Expected an intersection");return a})}var Li="#fafafa",Ms="#343d45",rn={["white"]:"#f0f1f3",["lightGray"]:"#c6cbd1",["gray"]:"#788492",["black"]:"#1d1d1d",["green"]:"#36b24d",["cyan"]:"#0e98ad",["blue"]:"#1c7ed6",["indigo"]:"#4263eb",["violet"]:"#7746f1",["red"]:"#ff2133",["orange"]:"#ff9433",["yellow"]:"#ffc936"},Ai={light:I(S({},Object.fromEntries(Object.entries(rn).map(([c,e])=>[c,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.lerpColor(e,Li,.45)]))),{["white"]:"#ffffff",["black"]:"#3d3d3d"}),dark:I(S({},Object.fromEntries(Object.entries(rn).map(([c,e])=>[c,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.lerpColor(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.lerpColor(e,"#999999",.3),Ms,.4)]))),{["white"]:"#1d1d1d",["black"]:"#bbbbbb"})},zs={light:I(S({},rn),{["white"]:"#1d1d1d"}),dark:I(S({},Object.fromEntries(Object.entries(rn).map(([c,e])=>[c,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.lerpColor(e,Ms,.1)]))),{["white"]:"#cecece",["black"]:"#cecece"})},Ri={light:I(S({},Object.fromEntries(Object.entries(rn).map(([c,e])=>[c,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.lerpColor(e,Li,.82)]))),{["white"]:"#fefefe"}),dark:I(S({},Object.fromEntries(Object.entries(rn).map(([c,e])=>[c,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.lerpColor(e,Ms,.82)]))),{["white"]:"rgb(30,33,37)",["black"]:"#1e1e1f"})},eK={["small"]:2,["medium"]:3.5,["large"]:5},tK={["small"]:28,["medium"]:48,["large"]:96,auto:"auto"},nK={["script"]:'"Caveat Brush"',["sans"]:'"Source Sans Pro"',["serif"]:'"Crimson Pro"',["mono"]:'"Source Code Pro"'},sK={["script"]:1,["sans"]:1,["serif"]:1,["mono"]:1},oK={["small"]:24,["medium"]:36,["large"]:48,auto:"auto"};function Hi(c){return eK[c]}function dt(c,e="script"){return tK[c]*sK[e]}function Ye(c="script"){return nK[c]}function Zn(c){return oK[c]}function He(c){let e=dt(c.size,c.font),t=Ye(c.font),{scale:n=1}=c;return`${e*n}px/${1.3} ${t}`}function Fs(c){let e=Zn(c.size),t=Ye(c.font),{scale:n=1}=c;return`${e*n}px/1 ${t}`}function qn(c,e=!1){let{color:t}=c,n=e?"dark":"light",s=t==="white"||t==="black"?"yellow":t;return{fill:Ai[n][s],stroke:zs[n][s],color:e?"#1d1d1d":"#0d0d0d"}}function oe(c,e){let{color:t,size:n,isFilled:s}=c,i=Hi(n),a=e?"dark":"light";return{stroke:zs[a][t],fill:s?Ri[a][t]:"none",strokeWidth:i}}var De={color:"black",size:"small",isFilled:!1,dash:"draw",scale:1},yn=I(S({},De),{font:"script",textAlign:"middle"});var Mi="  ",xe=class{static insertTextFirefox(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}static insert(e,t){let n=e.ownerDocument,s=n.activeElement;s!==e&&e.focus(),n.execCommand("insertText",!1,t)||xe.insertTextFirefox(e,t),s===n.body?e.blur():s instanceof HTMLElement&&s!==e&&s.focus()}static set(e,t){e.select(),xe.insert(e,t)}static getSelection(e){let{selectionStart:t,selectionEnd:n}=e;return e.value.slice(t||void 0,n||void 0)}static wrapSelection(e,t,n){let{selectionStart:s,selectionEnd:i}=e,a=xe.getSelection(e);xe.insert(e,t+a+(n!=null?n:t)),e.selectionStart=(s||0)+t.length,e.selectionEnd=(i||0)+t.length}static replace(e,t,n){let s=0;e.value.replace(t,(...i)=>{let a=s+i[i.length-2],d=i[0].length;e.selectionStart=a,e.selectionEnd=a+d;let o=typeof n=="string"?n:n(...i);return xe.insert(e,o),e.selectionStart=a,s+=o.length-d,o})}static findLineEnd(e,t){let n=e.lastIndexOf(`
`,t-1)+1;return e.charAt(n)!=="	"?t:n+1}static indent(e){var d;let{selectionStart:t,selectionEnd:n,value:s}=e,i=s.slice(t,n),a=(d=/\n/g.exec(i))==null?void 0:d.length;if(a&&a>0){let o=s.lastIndexOf(`
`,t-1)+1,l=e.value.slice(o,n-1),u=l.replace(/^|\n/g,`$&${Mi}`),p=u.length-l.length;e.setSelectionRange(o,n-1),xe.insert(e,u),e.setSelectionRange(t+1,n+p)}else xe.insert(e,Mi)}static unindent(e){let{selectionStart:t,selectionEnd:n,value:s}=e,i=s.lastIndexOf(`
`,t-1)+1,a=xe.findLineEnd(s,n),d=e.value.slice(i,a),o=d.replace(/(^|\n)(\t| {1,2})/g,"$1"),l=d.length-o.length;e.setSelectionRange(i,a),xe.insert(e,o);let u=/\t| {1,2}/.exec(s.slice(i,t)),p=u?u[0].length:0,h=t-p;e.setSelectionRange(t-p,Math.max(h,n-l))}};var je=c=>c.stopPropagation();function Me(c){if(c===null)return c;if(c instanceof Date)return new Date(c.getTime());if(typeof c=="object")if(typeof c[Symbol.iterator]=="function"){let e=[];if(c.length>0)for(let t of c)e.push(Me(t));return e}else{let e=Object.keys(c),t={};if(e.length>0)for(let n of e)t[n]=Me(c[n]);return t}return c}function ot(c,e=0,t=0){let[n,s]=c,i=[[n/2,0],[n,s],[0,s]];return e&&(i=Hs(i,e)),t&&(i=i.map(a=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.rotWith(a,[n/2,s/2],t))),i}function Os(c){let[e,t]=c,n=[[e/2,0],[e,t],[0,t]];return[(n[0][0]+n[1][0]+n[2][0])/3,(n[0][1]+n[1][1]+n[2][1])/3]}function aK(c,e,t){let[n,s]=e,i=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.rng(c),a=Array.from(Array(3)).map(()=>[i()*t*.75,i()*t*.75]),d=[_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add([n/2,0],a[0]),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add([n,s],a[1]),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add([0,s],a[2])],o=Math.round(Math.abs(i()*2*3)),l=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.rotateArray([_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.pointsBetween(d[0],d[1],32),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.pointsBetween(d[1],d[2],32),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.pointsBetween(d[2],d[0],32)],o);return{points:[...l.flat(),...l[0]]}}function zi(c,e,t){let{strokeWidth:n}=oe(t),{points:s}=aK(c,e,n);return{points:s,options:{size:n,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function Fi(c,e,t){let{points:n,options:s}=zi(c,e,t),i=(0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .ZP)(n,s);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStroke(i)}function Oi(c,e,t){let{points:n,options:s}=zi(c,e,t);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStrokePoints((0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* .getStrokePoints */ .tt)(n,s))}var ji=!1,te=class{static getShapeUtil(e){return Ui(e)}static getSelectedShapes(e,t){let n=te.getPage(e,t);return te.getSelectedIds(e,t).map(i=>n.shapes[i])}static screenToWorld(e,t){let n=te.getPageState(e,e.appState.currentPageId).camera;return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div(t,n.zoom),n.point)}static getCameraZoom(e){return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.clamp(e,.1,5)}static getPage(e,t){return e.document.pages[t]}static getPageState(e,t){return e.document.pageStates[t]}static getSelectedIds(e,t){return te.getPageState(e,t).selectedIds}static getShapes(e,t){return Object.values(te.getPage(e,t).shapes)}static getCamera(e,t){return te.getPageState(e,t).camera}static getShape(e,t,n){return te.getPage(e,n).shapes[t]}static getCenter(e){return te.getShapeUtil(e).getCenter(e)}static getBounds(e){return te.getShapeUtil(e).getBounds(e)}static getRotatedBounds(e){return te.getShapeUtil(e).getRotatedBounds(e)}static getSelectedBounds(e){return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(te.getSelectedShapes(e,e.appState.currentPageId).map(t=>te.getShapeUtil(t).getBounds(t)))}static getParentId(e,t,n){return te.getShape(e,t,n).parentId}static getDocumentBranch(e,t,n){let s=te.getShape(e,t,n);return s.children===void 0?[t]:[t,...s.children.flatMap(i=>te.getDocumentBranch(e,i,n))]}static getSelectedBranchSnapshot(e,t,n){let s=te.getPage(e,t),i=te.getSelectedIds(e,t).flatMap(a=>te.getDocumentBranch(e,a,t).map(d=>s.shapes[d])).filter(a=>!a.isLocked).map(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepClone);return n!==void 0?i.map(a=>S({id:a.id},n(a))):i}static getSelectedShapeSnapshot(e,t,n){let s=te.getSelectedShapes(e,t).filter(i=>!i.isLocked).map(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepClone);return n!==void 0?s.map(i=>S({id:i.id},n(i))):s}static getAllEffectedShapeIds(e,t,n){let s=te.getPage(e,n),i=new Set(t);return t.forEach(a=>{let d=s.shapes[a];function o(u){u.children!==void 0&&u.children.filter(p=>!i.has(p)).forEach(p=>{i.add(p),o(s.shapes[p])})}o(d);function l(u){let p=u.parentId;p!==s.id&&(i.has(p)||(i.add(p),l(s.shapes[p])))}l(d),i.forEach(u=>{Object.values(s.bindings).filter(p=>p.fromId===u||p.toId===u).forEach(p=>i.add(p.fromId===u?p.toId:p.fromId))})}),Array.from(i.values())}static getLinkedShapeIds(e,t,n,s=!0){let i=te.getSelectedIds(e,t),a=te.getPage(e,t),d=new Set(i),o=new Set,l=[...i],u=new Set(Object.values(a.shapes).filter(p=>{var h;return p.type==="arrow"&&(p.handles.start.bindingId||((h=p.handles)==null?void 0:h.end.bindingId))}));for(;l.length;){let p=l.pop();if(!(p&&u.size))break;o.has(p)||(o.add(p),u.forEach(h=>{var T,w;let{handles:{start:{bindingId:m},end:{bindingId:g}}}=h,f=m?a.bindings[m]:null,y=g?a.bindings[g]:null,b=!1;f&&f.toId===p?(n==="center"?b=!0:((T=h.decorations)==null?void 0:T.start)&&y?b=n==="left":b=n==="right",b&&(s&&d.add(h.id),d.add(p),y&&(d.add(y.toId),l.push(y.toId)))):y&&y.toId===p&&(n==="center"?b=!0:((w=h.decorations)==null?void 0:w.end)&&f?b=n==="left":b=n==="right",b&&(s&&d.add(h.id),d.add(p),f&&(d.add(f.toId),l.push(f.toId)))),(!f||d.has(f.toId))&&(!y||d.has(y.toId))&&u.delete(h)}))}return Array.from(d.values())}static getChildIndexAbove(e,t,n){let s=e.document.pages[n],i=s.shapes[t],a;if(i.parentId===s.id)a=Object.values(s.shapes).filter(l=>l.parentId===s.id).sort((l,u)=>l.childIndex-u.childIndex);else{let l=s.shapes[i.parentId];if(!l.children)throw Error("No children in parent!");a=l.children.map(u=>s.shapes[u]).sort((u,p)=>u.childIndex-p.childIndex)}let d=a.indexOf(i),o=a[d+1];return o?o.childIndex:i.childIndex+1}static getBeforeShape(e,t){return Object.fromEntries(Object.keys(t).map(n=>[n,e[n]]))}static mutateShapes(e,t,n,s,i=!1){let a={},d={};t.forEach((l,u)=>{let p=te.getShape(e,l,s);if(p.isLocked)return;(p==null?void 0:p.type)==="group"&&(t.length===1||i)&&p.children.forEach((m,g)=>{let f=te.getShape(e,m,s);if(f.isLocked)return;let y=n(f,g);y&&(a[m]=te.getBeforeShape(f,y),d[m]=y)});let h=n(p,u);h&&(a[l]=te.getBeforeShape(p,h),d[l]=h)});let o=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge(e,{document:{pages:{[e.appState.currentPageId]:{shapes:d}}}});return{before:a,after:d,data:o}}static createShapes(e,t,n){let s={document:{pages:{[n]:{shapes:S({},Object.fromEntries(t.flatMap(a=>{let d=[[a.id,void 0]];if(a.parentId!==n){let o=te.getShape(e,a.parentId,n);if(!o.children)throw Error("No children in parent!");d.push([o.id,{children:o.children}])}return d})))}}}},i={document:{pages:{[n]:{shapes:{shapes:S({},Object.fromEntries(t.flatMap(a=>{let d=[[a.id,a]];if(a.parentId!==n){let o=te.getShape(e,a.parentId,n);if(!o.children)throw Error("No children in parent!");d.push([o.id,{children:[...o.children,a.id]}])}return d})))}}}}};return{before:s,after:i}}static deleteShapes(e,t,n){n=n||e.appState.currentPageId;let s=te.getPage(e,n),i=typeof t[0]=="string"?t:t.map(o=>o.id),a={document:{pages:{[n]:{shapes:S({},Object.fromEntries(i.flatMap(o=>{let l=s.shapes[o],u=[[l.id,l]];if(l.parentId!==n){let p=s.shapes[l.parentId];if(!p.children)throw Error("No children in parent!");u.push([p.id,{children:p.children}])}return u}))),bindings:S({},Object.fromEntries(Object.values(s.bindings).filter(o=>i.includes(o.fromId)||i.includes(o.toId)).map(o=>[o.id,o])))}}}},d={document:{pages:{[n]:{shapes:S({},Object.fromEntries(i.flatMap(o=>{let l=s.shapes[o],u=[[l.id,void 0]];if(l.parentId!==s.id){let p=s.shapes[l.parentId];if(!p.children)throw Error("No children in parent!");u.push([p.id,{children:p.children.filter(h=>h!==l.id)}])}return u})))}}}};return{before:a,after:d}}static onSessionComplete(e){var n,s;let t=(s=(n=te.getShapeUtil(e)).onSessionComplete)==null?void 0:s.call(n,e);return t?S(S({},e),t):e}static onChildrenChange(e,t,n){var i,a;if(!t.children)return;let s=(a=(i=te.getShapeUtil(t)).onChildrenChange)==null?void 0:a.call(i,t,t.children.map(d=>te.getShape(e,d,n)));return s?S(S({},t),s):t}static updateArrowBindings(e,t){var a,d,o,l,u,p;let n={start:Me(t.handles.start),end:Me(t.handles.end)},s={isBound:!1,handle:t.handles.start,point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(t.handles.start.point,t.point)},i={isBound:!1,handle:t.handles.end,point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(t.handles.end.point,t.point)};if(t.handles.start.bindingId){let h=((a=t.decorations)==null?void 0:a.start)!==void 0,m=t.handles.start,g=e.bindings[t.handles.start.bindingId];if(!g)throw Error("Could not find a binding to match the start handle's bindingId");let f=e.shapes[g.toId],y=te.getShapeUtil(f),b=y.getBounds(f),T=y.getExpandedBounds(f),w=h?_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.expandBounds(b,g.distance):b,{minX:k,minY:H,width:v,height:B}=T,P=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add([k,H],_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mulV([v,B],_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.rotWith(g.point,[.5,.5],f.rotation||0)));s={isBound:!0,hasDecoration:h,binding:g,handle:m,point:P,util:y,target:f,bounds:b,expandedBounds:T,intersectBounds:w,center:y.getCenter(f)}}if(t.handles.end.bindingId){let h=((d=t.decorations)==null?void 0:d.end)!==void 0,m=t.handles.end,g=e.bindings[t.handles.end.bindingId];if(!g)throw Error("Could not find a binding to match the end handle's bindingId");let f=e.shapes[g.toId],y=te.getShapeUtil(f),b=y.getBounds(f),T=y.getExpandedBounds(f),w=h?_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.expandBounds(b,g.distance):b,{minX:k,minY:H,width:v,height:B}=T,P=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add([k,H],_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mulV([v,B],_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.rotWith(g.point,[.5,.5],f.rotation||0)));i={isBound:!0,hasDecoration:h,binding:g,handle:m,point:P,util:y,target:f,bounds:b,expandedBounds:T,intersectBounds:w,center:y.getCenter(f)}}for(let h of["end","start"]){let m=h==="start"?s:i,g=h==="start"?i:s;if(m.isBound)if(!m.binding.distance)n[h].point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(m.point,t.point);else{let f=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.uni(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(m.point,g.point));switch(m.target.type){case"ellipse":{let y=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectRayEllipse */ .Zz)(g.point,f,m.center,m.target.radius[0]+(m.hasDecoration?m.binding.distance:0),m.target.radius[1]+(m.hasDecoration?m.binding.distance:0),m.target.rotation||0).points.sort((b,T)=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(b,g.point)-_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(T,g.point));y[0]!==void 0&&(n[h].point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(y[0],t.point)));break}case"triangle":{let y=m.target.point,b=ot(m.target.size,m.hasDecoration?16:0,m.target.rotation).map(w=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(w,y)),T=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointsToLineSegments(b,!0).map(([w,k])=>(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectRayLineSegment */ .oA)(g.point,f,w,k)).filter(w=>w.didIntersect).flatMap(w=>w.points).sort((w,k)=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(w,g.point)-_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(k,g.point));T[0]!==void 0&&(n[h].point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(T[0],t.point)));break}default:{let y=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectRayBounds */ .bW)(g.point,f,m.intersectBounds,m.target.rotation).filter(T=>T.didIntersect).map(T=>T.points[0]).sort((T,w)=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(T,g.point)-_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(w,g.point));if(!y[0])continue;let b;if(g.isBound&&(b=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectRayBounds */ .bW)(g.point,f,g.intersectBounds,g.target.rotation).filter(w=>w.didIntersect).map(w=>w.points[0]).sort((w,k)=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(w,g.point)-_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(k,g.point))[0]),g.isBound&&(y.length<2||b&&y[0]&&Math.ceil(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(y[0],b))<16*2.5||_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(m.expandedBounds,g.expandedBounds)||_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsCollide(m.expandedBounds,g.expandedBounds))){let T=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.uni(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(g.point,m.point)),w=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectRayBounds */ .bW)(m.point,T,m.bounds,m.target.rotation).filter(k=>k.didIntersect).map(k=>k.points[0]);if(!w[0])continue;n[h].point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(w[0],t.point)),n[h==="start"?"end":"start"].point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(w[0],t.point),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mul(T,Math.min(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(w[0],g.point),16*2.5*(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(g.bounds,m.intersectBounds)?-1:1)))))}else if(!g.isBound&&(y[0]&&_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(y[0],g.point)<16*2.5||_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInBounds(g.point,m.intersectBounds))){let T=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.uni(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(m.center,g.point));return(l=(o=te.getShapeUtil(t)).onHandleChange)==null?void 0:l.call(o,t,{[h]:I(S({},t.handles[h]),{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(g.point,t.point),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mul(T,16*2.5)))})})}else y[0]&&(n[h].point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(y[0],t.point)))}}}}return(p=(u=te.getShapeUtil(t)).onHandleChange)==null?void 0:p.call(u,t,n)}static transform(e,t,n){let s=te.getShapeUtil(e).transform(e,t,n);return s?S(S({},e),s):e}static transformSingle(e,t,n){let s=te.getShapeUtil(e).transformSingle(e,t,n);return s?S(S({},e),s):e}static getRotatedShapeMutation(e,t,n,s){var l,u;let i=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,e.point),a=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.rotWith(t,n,s),d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(a,i));if(e.handles!==void 0)return(u=(l=this.getShapeUtil(e)).onHandleChange)==null?void 0:u.call(l,I(S({},e),{point:d}),Object.fromEntries(Object.entries(e.handles).map(([h,m])=>{let g=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.rotWith(m.point,i,s));return[h,I(S({},m),{point:g})]})));let o=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.clampRadians((e.rotation||0)+s);return{point:d,rotation:o}}static updateParents(e,t,n){let s=te.getPage(e,t);if(n.length===0)return;let{shapes:i}=te.getPage(e,t),a=Array.from(new Set(n.map(d=>i[d].parentId).values())).filter(d=>d!==s.id);for(let d of a){let o=i[d];if(!o.children)throw Error("A shape is parented to a shape without a children array.");te.onChildrenChange(e,o,t)}te.updateParents(e,t,a)}static getBinding(e,t,n){return te.getPage(e,n).bindings[t]}static getBindings(e,t){let n=te.getPage(e,t);return Object.values(n.bindings)}static getBindableShapeIds(e){return te.getShapes(e,e.appState.currentPageId).filter(t=>te.getShapeUtil(t).canBind).sort((t,n)=>n.childIndex-t.childIndex).map(t=>t.id)}static getBindingsWithShapeIds(e,t,n){return Array.from(new Set(te.getBindings(e,n).filter(s=>t.includes(s.toId)||t.includes(s.fromId))).values())}static getRelatedBindings(e,t,n){let s=new Set(t),i=te.getPage(e,n),a=Object.values(i.bindings),d=new Set(a.filter(u=>s.has(u.toId)||s.has(u.fromId))),o=d.size,l=-1;for(;l!==0;)d.forEach(u=>{let p=u.fromId;for(let h of a)h.fromId===p&&d.add(h),h.toId===p&&d.add(h)}),l=d.size-o,o=d.size;return Array.from(d.values())}static normalizeText(e){return e.replace(te.fixNewLines,`
`).split(`
`).map(t=>t||" ").join(`
`)}static assertShapeHasProperty(e,t){if(e[t]===void 0)throw new Error}static warn(e){ji&&console.warn(e)}static error(e){ji&&console.error(e)}static getSvgString(e,t=1){let n=e.cloneNode(!0);return e.setAttribute("width",+e.getAttribute("width")*t+""),e.setAttribute("height",+e.getAttribute("height")*t+""),new XMLSerializer().serializeToString(n).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}static getSvgAsDataUrl(e,t=1){let n=te.getSvgString(e,t);return`data:image/svg+xml;base64,${window.btoa(unescape(n))}`}static getImageForSvg(s){return ie(this,arguments,function*(e,t="png",n={}){let{scale:i=2,quality:a=1}=n,d=te.getSvgString(e,i),o=+e.getAttribute("width"),l=+e.getAttribute("height");if(!d)return;let u=yield new Promise(h=>{let m=new Image;m.crossOrigin="anonymous";let f=`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(d)))}`;m.onload=()=>{let y=document.createElement("canvas"),b=y.getContext("2d");y.width=o,y.height=l,b.drawImage(m,0,0,o,l),URL.revokeObjectURL(f),h(y)},m.onerror=()=>{console.warn("Could not convert that SVG to an image.")},m.src=f});return yield new Promise(h=>u.toBlob(m=>h(m),"image/"+t,a))})}},x=te;r(x,"copyStringToClipboard",e=>{try{navigator.clipboard&&navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"})})])}catch(t){let n=document.createElement("textarea");n.setAttribute("position","fixed"),n.setAttribute("top","0"),n.setAttribute("readonly","true"),n.setAttribute("contenteditable","true"),n.style.position="fixed",n.value=e,document.body.appendChild(n),n.focus(),n.select();try{let s=document.createRange();s.selectNodeContents(n);let i=window.getSelection();i&&(i.removeAllRanges(),i.addRange(s),n.setSelectionRange(0,n.value.length)),document.execCommand("copy")}catch(s){}finally{document.body.removeChild(n)}}}),r(x,"flattenShape",(e,t)=>{var n;return[t,...((n=t.children)!=null?n:[]).map(s=>te.getShape(e,s,e.appState.currentPageId)).sort((s,i)=>s.childIndex-i.childIndex).flatMap(s=>te.flattenShape(e,s))]}),r(x,"flattenPage",(e,t)=>Object.values(e.document.pages[t].shapes).sort((n,s)=>n.childIndex-s.childIndex).reduce((n,s)=>[...n,...te.flattenShape(e,s)],[])),r(x,"getTopChildIndex",(e,t)=>{let n=te.getShapes(e,t);return n.length===0?1:n.filter(s=>s.parentId===t).sort((s,i)=>i.childIndex-s.childIndex)[0].childIndex+1}),r(x,"fixNewLines",/\r?\n|\r/g);var bt=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({font:e,text:t,color:n,offsetX:s=0,offsetY:i=0,scale:a=1,isEditing:d=!1,onBlur:o,onChange:l,shape:u}){let p=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),h=react__WEBPACK_IMPORTED_MODULE_1__.useRef(!1),m=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(w=>{l(x.normalizeText(w.currentTarget.value))},[l]),g=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(w=>{if(w.key==="Escape"){w.preventDefault(),w.stopPropagation(),o==null||o();return}if(w.key==="Tab"&&t.length===0){w.preventDefault();return}if(!(w.key==="Meta"||w.metaKey))w.stopPropagation();else if(w.key==="z"&&w.metaKey){w.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),w.stopPropagation(),w.preventDefault();return}(w.metaKey||w.ctrlKey)&&w.key==="="&&w.preventDefault(),w.key==="Tab"&&(w.preventDefault(),w.shiftKey?xe.unindent(w.currentTarget):xe.indent(w.currentTarget),l==null||l(x.normalizeText(w.currentTarget.value)))},[l]),f=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(w=>{w.currentTarget.setSelectionRange(0,0),o==null||o()},[o]),y=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(w=>{!d||!h.current||document.activeElement===w.currentTarget&&w.currentTarget.select()},[d]),b=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(w=>{d&&w.stopPropagation()},[d]);react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{d?requestAnimationFrame(()=>{h.current=!0;let w=p.current;w&&(w.focus(),w.select())}):o==null||o()},[d,o]);let T=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);return react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{let w=T.current;if(!w)return;let k=nt(t,e);w.style.transform=`scale(${a}, ${a}) translate(${s}px, ${i}px)`,w.style.width=k[0]+1+"px",w.style.height=k[1]+1+"px"},[t,e,i,s,a]),react__WEBPACK_IMPORTED_MODULE_1__.createElement(cK,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(pK,{ref:T,hasText:!!t,isEditing:d,style:{font:e,color:n},"data-color":u==null?void 0:u.style.color},d?react__WEBPACK_IMPORTED_MODULE_1__.createElement(uK,{ref:p,style:{font:e,color:n},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:t,color:n,onFocus:y,onChange:m,onKeyDown:g,onBlur:f,onPointerDown:b,onContextMenu:je,onCopy:je,onPaste:je,onCut:je}):t,"\u200B"))}),cK=he("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}}}}),Gi={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:Ze},pK=he("div",S({position:"absolute",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,outline:0,fontWeight:"500",textAlign:"center",backfaceVisibility:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",variants:{hasText:{false:{pointerEvents:"none"},true:{pointerEvents:"all"}},isEditing:{false:{userSelect:"none"},true:{background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}}},Gi)),uK=he("textarea",I(S({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text",fontSmooth:"always",WebkitFontSmoothing:"subpixel-antialiased",MozOsxFontSmoothing:"auto"},Gi),{"&:focus":{outline:"none",border:"none"}}));function wt(c,e,{initialShape:t,transformOrigin:n,scaleX:s,scaleY:i}){if(c.rotation||t.isAspectRatioLocked){let a=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.mul(t.size,Math.min(Math.abs(s),Math.abs(i)))),d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed([e.minX+(e.width-c.size[0])*(s<0?1-n[0]:n[0]),e.minY+(e.height-c.size[1])*(i<0?1-n[1]:n[1])]),o=s<0&&i>=0||i<0&&s>=0?t.rotation?-t.rotation:0:t.rotation;return{size:a,point:d,rotation:o}}else return{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed([e.minX,e.minY]),size:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed([e.width,e.height])}}function It(c,e){return{size:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed([e.width,e.height]),point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed([e.minX,e.minY])}}var de=class extends _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLShapeUtil */ .NI{constructor(){super(...arguments);r(this,"canBind",!1);r(this,"canEdit",!1);r(this,"canClone",!1);r(this,"isAspectRatioLocked",!1);r(this,"hideResizeHandles",!1);r(this,"bindingDistance",16);r(this,"hitTestPoint",(e,t)=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInBounds(t,this.getRotatedBounds(e)));r(this,"hitTestLineSegment",(e,t,n)=>{let s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints([t,n]),i=this.getBounds(e);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(i,s)||e.rotation?(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentPolyline */ .Gc)(t,n,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getRotatedCorners(this.getBounds(e))).didIntersect:(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentBounds */ .WU)(t,n,this.getBounds(e)).length>0});r(this,"create",e=>(this.refMap.set(e.id,react__WEBPACK_IMPORTED_MODULE_1__.createRef()),this.getShape(e)));r(this,"getCenter",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(this.getBounds(e)));r(this,"getExpandedBounds",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.expandBounds(this.getBounds(e),this.bindingDistance));r(this,"getBindingPoint",(e,t,n,s,i,a)=>{let d=this.getBounds(e),o=this.getExpandedBounds(e);if(!_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInBounds(n,o))return;let l=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectRayBounds */ .bW)(s,i,o).filter(y=>y.didIntersect).map(y=>y.points[0]);if(!l.length)return;let u=this.getCenter(e),p=l.sort((y,b)=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(b,s)-_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(y,s))[0],h=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(n,p),m,g;a?(m=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(n,u)<16/2?u:n,g=0):(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.distanceToLineSegment(n,h,u)<16/2?m=u:m=h,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInBounds(n,d)?g=this.bindingDistance:g=Math.max(this.bindingDistance,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsSides(d).map(y=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.distanceToLineSegment(y[1][0],y[1][1],n)).sort((y,b)=>y-b)[0]));let f=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.divV(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(m,[o.minX,o.minY]),[o.width,o.height]);return{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.clampV(f,0,1),distance:g}});r(this,"mutate",(e,t)=>t);r(this,"transform",(e,t,n)=>I(S({},e),{point:[t.minX,t.minY]}));r(this,"transformSingle",(e,t,n)=>this.transform(e,t,n));r(this,"updateChildren");r(this,"onChildrenChange");r(this,"onHandleChange");r(this,"onRightPointHandle");r(this,"onDoubleClickHandle");r(this,"onDoubleClickBoundsHandle");r(this,"onSessionComplete");r(this,"getSvgElement",(e,t)=>{var i,a,d,o,l;let n=(i=document.getElementById(e.id+"_svg"))==null?void 0:i.cloneNode(!0);if(!n)return;if((o=(d=(a=e.label)==null?void 0:a.trim())==null?void 0:d.length)!=null?o:0>0){let u=e,p=document.createElementNS("http://www.w3.org/2000/svg","g"),h=He(e.style),m=nt(e.label,h),g=dt(e.style.size,e.style.font)*((l=e.style.scale)!=null?l:1),f=Ye(e.style.font).slice(1,-1),y=st(u.label,g,f,"middle",m[0],!1),b=this.getBounds(e);return y.setAttribute("transform",`translate(${b.width/2-m[0]/2}, ${b.height/2-m[1]/2})`),y.setAttribute("fill",oe(e.style,t).stroke),y.setAttribute("data-color",e.style.color),y.setAttribute("transform-origin","center center"),p.setAttribute("text-align","center"),p.setAttribute("text-anchor","middle"),p.appendChild(n),p.appendChild(y),p}return n})}};function Yi(c,e,t,n){return["M",c[0],c[1],"A",t[2],t[2],0,0,n<0?0:1,e[0],e[1]].join(" ")}function Jn(c,e){let{start:t,end:n}=c,s=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(t.point,n.point),i=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.med(t.point,n.point),a=s/2*e,d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.uni(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.vec(t.point,n.point));return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed(Math.abs(a)<10?i:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(i,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.mul(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.per(d),a)))}function $i(c,e,t,n,s,i){let a=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.rng(c),d=oe(e).strokeWidth,o=s?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.nudge(t,n,d):t,l=i?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.nudge(n,t,d):n,u=(0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .ZP)([o,l],{size:d,thinning:.618+a()*.2,easing:Xt.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStroke(u)}function Xi(c,e,t,n,s,i,a,d,o,l){let u=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.rng(c),p=oe(e).strokeWidth,h=s?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.rotWith(t,a,p/o):t,m=i?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.rotWith(n,a,-(p/o)):n,g=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.angle(a,h),f=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.angle(a,m),y=[],b=8+Math.floor(Math.abs(o)/20*1+u()/2);for(let w=0;w<b;w++){let k=l(w/b),H=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.lerpAngles(g,f,k);y.push(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.nudgeAtAngle(a,H,d)))}let T=(0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .ZP)([h,...y,m],{size:1+p,thinning:.618+u()*.2,easing:Xt.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStroke(T)}function Pt(c,e,t){return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.circleFromThreePoints(c,t,e)}function es(c,e,t,n,s){let i=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectCircleCircle */ .bO)(c,e*.618,t,n).points;if(!i)return x.warn("Could not find an intersection for the arrow head."),{left:c,right:c};let a=s?i[0]:i[1],d=a?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.nudge(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.rotWith(a,c,Math.PI/6),c,e*-.382):c,o=a?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.nudge(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.rotWith(a,c,-Math.PI/6),c,e*-.382):c;return{left:d,right:o}}function ts(c,e,t){let n=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectCircleLineSegment */ .VC)(c,t,c,e).points;if(!n)return x.warn("Could not find an intersection for the arrow head."),{left:c,right:c};let s=n[0],i=s?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.rotWith(s,c,Math.PI/6):c,a=s?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.rotWith(s,c,-Math.PI/6):c;return{left:i,right:a}}function Vi(c,e,t,n,s){let{left:i,right:a}=es(c,e,t,n,s);return`M ${i} L ${c} ${a}`}function Wi(c,e,t){let{left:n,right:s}=ts(c,e,t);return`M ${n} L ${c} ${s}`}function Zi(c,e,t,n,s,i){let{strokeWidth:a}=oe(c,!1),d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(e,n),o=Math.min(d/3,a*8),l=[];if(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(t,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.med(e,n)))<1)l.push(`M ${e} L ${n}`),s&&l.push(Wi(e,n,o)),i&&l.push(Wi(n,e,o));else{let p=Pt(e,t,n),h=[p[0],p[1]],m=p[2],g=qt(h,m,e,n);l.push(`M ${e} A ${m} ${m} 0 0 ${g>0?"1":"0"} ${n}`),s&&l.push(Vi(e,o,h,m,g<0)),i&&l.push(Vi(n,o,h,m,g>=0))}return l.join(" ")}function wn(c,e,t){if(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist2(e,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.med(c,t))<=4)return[c,t];let n=[],s=Pt(c,e,t),i=[s[0],s[1]],a=s[2],d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.angle(i,c),o=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.angle(i,t);for(let l=1/20;l<1;l+=1/20){let u=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.lerpAngles(d,o,l);n.push(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.nudgeAtAngle(i,u,a))}return n}function qi(c,e,t){if(t===c||t===e)return!0;let n=Math.PI*2,s=(e-c+n)%n,i=(t-c+n)%n;return s<=Math.PI!=i>s}function qt(c,e,t,n){let s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSweep(c,t,n);return e*(2*Math.PI)*(s/(2*Math.PI))}function an({left:c,middle:e,right:t,stroke:n,strokeWidth:s}){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{className:"tl-stroke-hitarea",d:`M ${c} L ${e} ${t}`}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:`M ${c} L ${e} ${t}`,fill:"none",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}))}var Ji=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({id:e,style:t,start:n,bend:s,end:i,arrowBend:a,decorationStart:d,decorationEnd:o,isDraw:l,isDarkMode:u}){let p=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(n,i);if(p<2)return null;let h=oe(t,u),{strokeWidth:m}=h,g=1+m*1.618,f=Pt(n,s,i),y=[f[0],f[1]],b=f[2],T=qt(y,b,n,i),w=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.rng(e),k=Xt[w()>0?"easeInOutSine":"easeInOutCubic"],H=l?Xi(e,t,n,i,d,o,y,b,T,k):Yi(n,i,f,a),{strokeDasharray:v,strokeDashoffset:B}=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getPerfectDashProps(Math.abs(T),g,t.dash,2,!1),P=Math.min(p/3,m*8),q=d?es(n,P,y,b,T<0):null,J=o?es(i,P,y,b,T>=0):null;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{className:"tl-stroke-hitarea",d:H}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:H,fill:l?h.stroke:"none",stroke:h.stroke,strokeWidth:l?0:g,strokeDasharray:v,strokeDashoffset:B,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}),q&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(an,{left:q.left,middle:n,right:q.right,stroke:h.stroke,strokeWidth:g}),J&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(an,{left:J.left,middle:i,right:J.right,stroke:h.stroke,strokeWidth:g}))});var er=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({id:e,style:t,start:n,end:s,decorationStart:i,decorationEnd:a,isDraw:d,isDarkMode:o}){let l=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(n,s);if(l<2)return null;let u=oe(t,o),{strokeWidth:p}=u,h=1+p*1.618,m=d?$i(e,t,n,s,i,a):"M"+_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed(n)+"L"+_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.toFixed(s),{strokeDasharray:g,strokeDashoffset:f}=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getPerfectDashProps(l,p*1.618,t.dash,2,!1),y=Math.min(l/3,p*8),b=i?ts(n,s,y):null,T=a?ts(s,n,y):null;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{className:"tl-stroke-hitarea",d:m}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:m,fill:u.stroke,stroke:u.stroke,strokeWidth:d?h/2:h,strokeDasharray:g,strokeDashoffset:f,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),b&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(an,{left:b.left,middle:n,right:b.right,stroke:u.stroke,strokeWidth:h}),T&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(an,{left:T.left,middle:s,right:T.right,stroke:u.stroke,strokeWidth:h}))});var Ns=class extends de{constructor(){super(...arguments);r(this,"type","arrow");r(this,"hideBounds",!0);r(this,"canEdit",!0);r(this,"pathCache",new WeakMap);r(this,"getShape",e=>{var t,n,s,i;return S({id:"id",type:"arrow",name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:S({id:"start",index:0,point:[0,0],canBind:!0},(t=e.handles)==null?void 0:t.start),end:S({id:"end",index:1,point:[1,1],canBind:!0},(n=e.handles)==null?void 0:n.end),bend:S({id:"bend",index:2,point:[.5,.5]},(s=e.handles)==null?void 0:s.bend)},decorations:(i=e.decorations)!=null?i:{end:"arrow"},style:S(I(S({},De),{isFilled:!1}),e.style),label:"",labelPoint:[.5,.5]},e)});r(this,"Component",de.Component(({shape:e,isEditing:t,isGhost:n,meta:s,events:i,onShapeChange:a,onShapeBlur:d},o)=>{var Q,we;let{id:l,label:u="",handles:{start:p,bend:h,end:m},decorations:g={},style:f}=e,y=(we=(Q=u==null?void 0:u.trim())==null?void 0:Q.length)!=null?we:0>0,b=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(h.point,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(p.point,m.point)))<1,T=He(f),w=oe(f,s.isDarkMode),k=y||t?nt(u,T):[0,0],H=this.getBounds(e),v=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{let{start:pe,bend:ue,end:Re}=e.handles;if(b)return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(pe.point,Re.point);let Ke=Pt(pe.point,ue.point,Re.point),Tt=Ke.slice(0,2),et=Ke[2],en=qt(Tt,et,pe.point,Re.point);return Math.abs(en)},[e.handles]),B=Math.max(.5,Math.min(1,Math.max(v/(k[1]+128),v/(k[0]+128)))),P=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{let pe=this.getBounds(e);return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(e.handles.bend.point,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed([pe.width/2,pe.height/2]))},[e,B]),q=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(pe=>{a==null||a({id:l,label:pe})},[a]),J=b?er:Ji;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(PK,S({ref:o},i),react__WEBPACK_IMPORTED_MODULE_1__.createElement(bt,{font:T,text:u,color:w.stroke,offsetX:P[0],offsetY:P[1],scale:B,isEditing:t,onChange:q,onBlur:d,shape:e}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .SVGContainer */ .gk,{id:e.id+"_svg",shapeStyle:f},react__WEBPACK_IMPORTED_MODULE_1__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("mask",{id:e.id+"_clip"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:-100,y:-100,width:H.width+200,height:H.height+200,fill:"white"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:H.width/2-k[0]/2*B+P[0],y:H.height/2-k[1]/2*B+P[1],width:k[0]*B,height:k[1]*B,rx:4*B,ry:4*B,fill:"black",opacity:1}))),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{pointerEvents:"none",opacity:n?.3:1,mask:y||t?`url(#${e.id}_clip)`:""},react__WEBPACK_IMPORTED_MODULE_1__.createElement(J,{id:l,style:f,start:p.point,end:m.point,bend:h.point,arrowBend:e.bend,decorationStart:g==null?void 0:g.start,decorationEnd:g==null?void 0:g.end,isDraw:f.dash==="draw",isDarkMode:s.isDarkMode}))))}));r(this,"Indicator",de.Indicator(({shape:e,bounds:t})=>{var y,b;let{style:n,decorations:s,label:i,handles:{start:a,bend:d,end:o}}=e,l=(b=(y=i==null?void 0:i.trim())==null?void 0:y.length)!=null?b:0>0,u=He(n),p=l?nt(i,u):[0,0],h=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(d.point,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(a.point,o.point)))<1,m=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{let{start:T,bend:w,end:k}=e.handles;if(h)return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(T.point,k.point);let H=Pt(T.point,w.point,k.point),v=H.slice(0,2),B=H[2],P=qt(v,B,T.point,k.point);return Math.abs(P)},[e.handles]),g=Math.max(.5,Math.min(1,Math.max(m/(p[1]+128),m/(p[0]+128)))),f=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{let T=this.getBounds(e);return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(e.handles.bend.point,[T.width/2,T.height/2])},[e,g]);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,l&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(As,{id:e.id,scale:g,offset:f,bounds:t,labelSize:p}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:Zi(n,a.point,d.point,o.point,s==null?void 0:s.start,s==null?void 0:s.end),mask:l?`url(#${e.id}_clip)`:""}),l&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:t.width/2-p[0]/2*g+f[0],y:t.height/2-p[1]/2*g+f[1],width:p[0]*g,height:p[1]*g,rx:4*g,ry:4*g,fill:"transparent"}))}));r(this,"getBounds",e=>{let t=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getFromCache(this.boundsCache,e,()=>{let{handles:{start:n,bend:s,end:i}}=e;return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints(wn(n.point,s.point,i.point))});return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(t,e.point)});r(this,"getRotatedBounds",e=>{let{handles:{start:t,bend:n,end:s}}=e,i=wn(t.point,n.point,s.point),{minX:a,minY:d,maxX:o,maxY:l}=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints(i);return e.rotation!==0&&(i=i.map(u=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.rotWith(u,[(a+o)/2,(d+l)/2],e.rotation||0))),_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints(i),e.point)});r(this,"getCenter",e=>{let{start:t,end:n}=e.handles;return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(e.point,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(t.point,n.point))});r(this,"shouldRender",(e,t)=>t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style||t.label!==e.label);r(this,"hitTestPoint",(e,t)=>{let{handles:{start:n,bend:s,end:i}}=e,a=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,e.point),d=wn(n.point,s.point,i.point);for(let o=1;o<d.length;o++)if(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.distanceToLineSegment(d[o-1],d[o],a)<1)return!0;return!1});r(this,"hitTestLineSegment",(e,t,n)=>{let{handles:{start:s,bend:i,end:a}}=e,d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,e.point),o=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(n,e.point),l=wn(s.point,i.point,a.point);for(let u=1;u<l.length;u++)if((0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentLineSegment */ .T9)(l[u-1],l[u],d,o).didIntersect)return!0;return!1});r(this,"hitTestBounds",(e,t)=>{let{start:n,end:s,bend:i}=e.handles,a=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(e.point,n.point),d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(e.point,s.point);if(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInBounds(a,t)||_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInBounds(d,t))return!0;if(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.isEqual(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(n.point,s.point),i.point))return (0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentBounds */ .WU)(a,d,t).length>0;{let[o,l,u]=Pt(n.point,i.point,s.point),p=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(e.point,[o,l]);return (0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectArcBounds */ .Bc)(p,u,a,d,t).length>0}});r(this,"transform",(e,t,{initialShape:n,scaleX:s,scaleY:i})=>{let a=this.getBounds(n),d=["start","end"],o=S({},n.handles);d.forEach(b=>{let[T,w]=o[b].point,k=T/a.width,H=w/a.height;o[b]=I(S({},o[b]),{point:[t.width*(s<0?1-k:k),t.height*(i<0?1-H:H)]})});let{start:l,bend:u,end:p}=o,h=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(l.point,p.point),m=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(l.point,p.point),g=h/2*n.bend,f=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.uni(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.vec(l.point,p.point)),y=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(m,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mul(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.per(f),g));return o.bend=I(S({},u),{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(Math.abs(g)<10?m:y)}),{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed([t.minX,t.minY]),handles:o}});r(this,"onDoubleClickHandle",(e,t)=>{var n,s;switch(t){case"bend":return{bend:0,handles:I(S({},e.handles),{bend:I(S({},e.handles.bend),{point:Jn(e.handles,e.bend)})})};case"start":return{decorations:I(S({},e.decorations),{start:((n=e.decorations)==null?void 0:n.start)?void 0:"arrow"})};case"end":return{decorations:I(S({},e.decorations),{end:((s=e.decorations)==null?void 0:s.end)?void 0:"arrow"})}}return this});r(this,"onHandleChange",(e,t)=>{let n=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge(e.handles,t),s=e.bend;if(n=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge(n,{start:{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(n.start.point)},end:{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(n.end.point)}}),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.isEqual(n.start.point,n.end.point))return;if("bend"in t){let{start:l,end:u,bend:p}=n,h=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(l.point,u.point),m=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(l.point,u.point),g=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.angle(l.point,u.point),f=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.uni(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.vec(l.point,u.point)),y=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(m,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mul(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.per(f),h)),b=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(m,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mul(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.per(f),h)),T=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.nearestPointOnLineSegment(y,b,p.point,!0),k=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(m,T)/(h/2);s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.clamp(k,-.99,.99);let H=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.angle(l.point,T);_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.isEqual(m,Jn(n,s))?s=0:qi(g,g+Math.PI,H)&&(s*=-1)}let i={point:e.point,bend:s,handles:I(S({},n),{bend:I(S({},n.bend),{point:Jn(n,s)})})},a=e.point,d=this.getBounds(S({},i)),o=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub([d.minX,d.minY],a);return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.isEqual(o,[0,0])||(Object.values(i.handles).forEach(l=>{l.point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(l.point,o))}),i.point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(i.point,o))),i});r(this,"getSvgElement",(e,t)=>{var i,a,d,o,l;let n=(i=document.getElementById(e.id+"_svg"))==null?void 0:i.cloneNode(!0);if(!n)return;if((o=(d=(a=e.label)==null?void 0:a.trim())==null?void 0:d.length)!=null?o:0>0){let u=e,p=document.createElementNS("http://www.w3.org/2000/svg","g"),h=He(e.style),m=nt(e.label,h),g=dt(e.style.size,e.style.font)*((l=e.style.scale)!=null?l:1),f=Ye(e.style.font).slice(1,-1),y=st(u.label,g,f,"start",m[0],!1),b,{start:T,bend:w,end:k}=e.handles;if(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(w.point,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(T.point,k.point)))<1)b=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(T.point,k.point);else{let Q=Pt(T.point,w.point,k.point),we=Q.slice(0,2),pe=Q[2],ue=qt(we,pe,T.point,k.point);b=Math.abs(ue)}let v=Math.max(.5,Math.min(1,Math.max(b/(m[1]+128),b/(m[0]+128)))),B=this.getBounds(e),P=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(e.handles.bend.point,[B.width/2,B.height/2]),q=B.width/2-m[0]/2*v+P[0],J=B.height/2-m[1]/2*v+P[1];return y.setAttribute("transform",`translate(${q}, ${J})`),y.setAttribute("fill",oe(e.style,t).stroke),y.setAttribute("transform-origin","center center"),p.setAttribute("text-align","center"),p.setAttribute("text-anchor","middle"),p.appendChild(n),p.appendChild(y),p}return n})}},PK=he("div",{width:"100%",height:"100%"});var EK={easing:c=>Math.sin(c*Math.PI/2),simulatePressure:!0},CK={easing:c=>c*c,simulatePressure:!1};function Vs(c){let e=oe(c.style);return I(S({size:1+e.strokeWidth*1.5,thinning:.65,streamline:.65,smoothing:.65},c.points[1][2]===.5?EK:CK),{last:c.isComplete})}function nr(c){return c.points.length<2?"":_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStroke((0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* .getStrokePoints */ .tt)(c.points,Vs(c)).map(e=>e.point))}function sr(c,e){return (0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* .getStrokePoints */ .tt)(c.points,e)}function or(c){if(c.points.length<2)return"";let e=Vs(c),t=sr(c,e);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStroke((0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* .getStrokeOutlinePoints */ .ib)(t,e))}function Ws(c){let{points:e}=c;if(e.length<2)return"M 0 0 L 0 0";let t=Vs(c),n=sr(c,t),s=e[e.length-1];return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.isEqual(n[0].point,s)||n.push({point:s}),_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStrokePoints(n)}var Ys=class extends de{constructor(){super(...arguments);r(this,"type","draw");r(this,"pointsBoundsCache",new WeakMap([]));r(this,"shapeBoundsCache",new Map);r(this,"rotatedCache",new WeakMap([]));r(this,"pointCache",{});r(this,"canClone",!0);r(this,"getShape",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge({id:"id",type:"draw",name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:De,points:[],isComplete:!1},e));r(this,"Component",de.Component(({shape:e,meta:t,isSelected:n,isGhost:s,events:i},a)=>{let{points:d,style:o,isComplete:l}=e,u=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>nr(e),[d,o.size]),p=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>o.dash==="draw"?or(e):Ws(e),[d,o.size,o.dash,l]),h=oe(o,t.isDarkMode),{stroke:m,fill:g,strokeWidth:f}=h,y=this.getBounds(e);if(y.width<=f/2&&y.height<=f/2){let v=1+f;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .SVGContainer */ .gk,S({ref:a,id:e.id+"_svg"},i),react__WEBPACK_IMPORTED_MODULE_1__.createElement("circle",{r:v,fill:m,stroke:m,pointerEvents:"all",opacity:s?.3:1}))}let T=o.isFilled&&d.length>3&&_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(d[0],d[d.length-1])<f*2;if(e.style.dash==="draw")return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .SVGContainer */ .gk,S({ref:a,id:e.id+"_svg"},i),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{opacity:s?.3:1},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{className:T||n?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),T&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:u,stroke:"none",fill:g,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:p,fill:m,stroke:m,strokeWidth:f/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})));let w={["draw"]:"none",["solid"]:"none",["dotted"]:`0.1 ${f*4}`,["dashed"]:`${f*4} ${f*4}`}[o.dash],k={["draw"]:"none",["solid"]:"none",["dotted"]:"0",["dashed"]:"0"}[o.dash],H=1+f*1.5;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .SVGContainer */ .gk,S({ref:a,id:e.id+"_svg"},i),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{opacity:s?.3:1},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{className:T&&n?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:p,fill:T?g:"none",stroke:"none",strokeWidth:Math.min(4,f*2),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:p,fill:"none",stroke:m,strokeWidth:H,strokeDasharray:w,strokeDashoffset:k,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})))}));r(this,"Indicator",de.Indicator(({shape:e})=>{let{points:t}=e,n=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>Ws(e),[t]),s=this.getBounds(e);return s.width<4&&s.height<4?react__WEBPACK_IMPORTED_MODULE_1__.createElement("circle",{x:s.width/2,y:s.height/2,r:1}):react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:n})}));r(this,"transform",(e,t,{initialShape:n,scaleX:s,scaleY:i})=>{let a=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getFromCache(this.boundsCache,n,()=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints(n.points)),d=n.points.map(([u,p,h])=>[t.width*(s<0?1-u/a.width:u/a.width),t.height*(i<0?1-p/a.height:p/a.height),h]),o=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints(e.points),l=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub([t.minX,t.minY],[o.minX,o.minY]);return{points:d,point:l}});r(this,"getBounds",e=>{let t=!this.pointsBoundsCache.has(e.points),n=this.pointCache[e.id]!==e.point;if(t){let s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints(e.points);this.pointsBoundsCache.set(e.points,s),this.shapeBoundsCache.set(e.id,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(s,e.point)),this.pointCache[e.id]=e.point}else n&&!t&&(this.pointCache[e.id]=e.point,this.shapeBoundsCache.set(e.id,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(this.pointsBoundsCache.get(e.points),e.point)));return this.shapeBoundsCache.get(e.id)});r(this,"shouldRender",(e,t)=>t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete);r(this,"hitTestPoint",(e,t)=>{let n=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,e.point);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInPolyline(n,e.points)});r(this,"hitTestLineSegment",(e,t,n)=>{let{points:s,point:i}=e,a=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,i),d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(n,i),o=this.getBounds(e);if(o.width<8&&o.height<8)return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.distanceToLineSegment(t,n,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(o))<5;if((0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentBounds */ .WU)(a,d,o)){for(let l=1;l<s.length;l++)if((0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentLineSegment */ .T9)(s[l-1],s[l],a,d).didIntersect)return!0}return!1});r(this,"hitTestBounds",(e,t)=>{if(!e.rotation){let i=this.getBounds(e);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(t,i)||(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(i,t)||(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectBoundsBounds */ .Sn)(i,t).length>0)&&(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectBoundsPolyline */ .zb)(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(t,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.neg(e.point)),e.points).length>0}let n=this.getRotatedBounds(e),s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getFromCache(this.rotatedCache,e,()=>{let i=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints(e.points));return e.points.map(a=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.rotWith(a,i,e.rotation||0))});return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(t,n)||(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectBoundsPolyline */ .zb)(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(t,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.neg(e.point)),s).length>0})}};var ar=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({radius:e,style:t,isSelected:n,isDarkMode:s}){let{stroke:i,strokeWidth:a,fill:d}=oe(t,s),o=1+a*1.618,l=Math.max(0,e[0]-o/2),u=Math.max(0,e[1]-o/2),p=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.perimeterOfEllipse(l,u),{strokeDasharray:h,strokeDashoffset:m}=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getPerfectDashProps(p<64?p*2:p,a*1.618,t.dash,4);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("ellipse",{className:t.isFilled||n?"tl-fill-hitarea":"tl-stroke-hitarea",cx:e[0],cy:e[1],rx:e[0],ry:e[1]}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("ellipse",{cx:e[0],cy:e[1],rx:l,ry:u,fill:d,stroke:i,strokeWidth:o,strokeDasharray:h,strokeDashoffset:m,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))});function dr(c,e,t){let{strokeWidth:n}=oe(t),s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.rng(c),i=e[0]+s()*n*2,a=e[1]+s()*n*2,d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.perimeterOfEllipse(i,a),o=[],l=Math.PI+Math.PI*s(),u=Math.abs(s()),p=Math.max(16,d/10);for(let h=0;h<p;h++){let m=Xt.easeInOutSine(h/(p+1)),g=l*2+Math.PI*(2+u)*m,f=Math.cos(g),y=Math.sin(g);o.push([i*f+e[0],a*y+e[1],m+.5+s()/2])}return (0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* .getStrokePoints */ .tt)(o,{size:1+n*2,thinning:.618,end:{taper:d/8},start:{taper:d/12},streamline:0,simulatePressure:!0})}function lr(c,e,t){let{strokeWidth:n}=oe(t),s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.rng(c),i=e[0]+s()*n*2,a=e[1]+s()*n*2,d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.perimeterOfEllipse(i,a);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStroke((0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* .getStrokeOutlinePoints */ .ib)(dr(c,e,t),{size:2+n*2,thinning:.618,end:{taper:d/8},start:{taper:d/12},streamline:0,simulatePressure:!0}))}function ss(c,e,t){return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStrokePoints(dr(c,e,t))}var cr=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({id:e,radius:t,style:n,isSelected:s,isDarkMode:i}){let{stroke:a,strokeWidth:d,fill:o}=oe(n,i),l=lr(e,t,n);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("ellipse",{className:n.isFilled||s?"tl-fill-hitarea":"tl-stroke-hitarea",cx:t[0],cy:t[1],rx:t[0],ry:t[1]}),n.isFilled&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:ss(e,t,n),stroke:"none",fill:o,pointerEvents:"none"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:l,fill:a,stroke:a,strokeWidth:d,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))});var Xs=class extends de{constructor(){super(...arguments);r(this,"type","ellipse");r(this,"canBind",!0);r(this,"canClone",!0);r(this,"canEdit",!0);r(this,"getShape",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge({id:"id",type:"ellipse",name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:De,label:"",labelPoint:[.5,.5]},e));r(this,"Component",de.Component(({shape:e,isGhost:t,isSelected:n,isBinding:s,isEditing:i,meta:a,bounds:d,events:o,onShapeChange:l,onShapeBlur:u},p)=>{let{id:h,radius:m,style:g,label:f="",labelPoint:y=sn}=e,b=He(e.style),T=oe(g,a.isDarkMode),w=T.strokeWidth,k=1+w*1.618,H=Math.max(0,m[0]-k/2),v=Math.max(0,m[1]-k/2),B=g.dash==="draw"?cr:ar,P=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(q=>l==null?void 0:l({id:h,label:q}),[l]);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(OK,S({ref:p},o),react__WEBPACK_IMPORTED_MODULE_1__.createElement(bt,{isEditing:i,onChange:P,onBlur:u,font:b,text:f,color:T.stroke,offsetX:(y[0]-.5)*d.width,offsetY:(y[1]-.5)*d.height,shape:e}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .SVGContainer */ .gk,{id:e.id+"_svg",opacity:t?.3:1,shapeStyle:g},s&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("ellipse",{className:"tl-binding-indicator",cx:m[0],cy:m[1],rx:H,ry:v,strokeWidth:this.bindingDistance}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(B,{id:h,radius:m,style:g,isSelected:n,isDarkMode:a.isDarkMode})))}));r(this,"Indicator",de.Indicator(({shape:e})=>{let{id:t,radius:n,style:s}=e,a=oe(s).strokeWidth,d=1+a*1.618,o=Math.max(0,n[0]-d/2),l=Math.max(0,n[1]-d/2);return s.dash==="draw"?react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:ss(t,n,s)}):react__WEBPACK_IMPORTED_MODULE_1__.createElement("ellipse",{cx:n[0],cy:n[1],rx:o,ry:l})}));r(this,"hitTestPoint",(e,t)=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInBounds(t,this.getRotatedBounds(e))&&_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInEllipse(t,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0));r(this,"hitTestLineSegment",(e,t,n)=>(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentEllipse */ .qx)(t,n,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0).didIntersect);r(this,"getBounds",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getFromCache(this.boundsCache,e,()=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],0)));r(this,"getRotatedBounds",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation));r(this,"hitTestBounds",(e,t)=>{let n=this.getBounds(e);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContained(n,t)||(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectEllipseBounds */ .Rt)(this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0,t).length>0});r(this,"shouldRender",(e,t)=>t.radius!==e.radius||t.style!==e.style||t.label!==e.label);r(this,"getCenter",e=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(e.point,e.radius));r(this,"getBindingPoint",(e,t,n,s,i,a)=>{{let d=this.getExpandedBounds(e),o=this.getCenter(e),l,u;if(!_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInEllipse(n,o,e.radius[0]+this.bindingDistance,e.radius[1]+this.bindingDistance))return;if(a)_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(n,this.getCenter(e))<12?l=[.5,.5]:l=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.divV(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(n,[d.minX,d.minY]),[d.width,d.height]),u=0;else{let p=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectRayEllipse */ .Zz)(s,i,o,e.radius[0],e.radius[1],e.rotation||0).points.sort((m,g)=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(m,s)-_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(g,s))[0];if(p||(p=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentEllipse */ .qx)(n,o,o,e.radius[0],e.radius[1],e.rotation||0).points.sort((m,g)=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(m,n)-_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(g,n))[0]),!p)return;let h=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(n,p);if(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.distanceToLineSegment(n,h,this.getCenter(e))<12?l=[.5,.5]:l=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.divV(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(h,[d.minX,d.minY]),[d.width,d.height]),_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInEllipse(n,o,e.radius[0],e.radius[1],e.rotation||0))u=this.bindingDistance/2;else{let m=(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentEllipse */ .qx)(n,o,o,e.radius[0],e.radius[1],e.rotation||0).points[0];if(!m)return;u=Math.max(this.bindingDistance/2,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(n,m))}}return{point:l,distance:u}}});r(this,"transform",(e,t,{scaleX:n,scaleY:s,initialShape:i})=>{let{rotation:a=0}=i;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:n<0&&s>=0||s<0&&n>=0?-(a||0):a||0}});r(this,"transformSingle",(e,t)=>({point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed([t.minX,t.minY]),radius:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div([t.width,t.height],2)}))}},OK=he("div",{width:"100%",height:"100%"});var Zs=class extends de{constructor(){super(...arguments);r(this,"type","group");r(this,"canBind",!0);r(this,"getShape",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge({id:"id",type:"group",name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:De},e));r(this,"Component",de.Component(({shape:e,isBinding:t,isGhost:n,isHovered:s,isSelected:i,events:a},d)=>{let{id:o,size:l}=e,u=2,p=Math.max(0,l[0]-u/2),h=Math.max(0,l[1]-u/2),g=[[[u/2,u/2],[p,u/2],p-u/2],[[p,u/2],[p,h],h-u/2],[[p,h],[u/2,h],p-u/2],[[u/2,h],[u/2,u/2],h-u/2]].map(([f,y],b)=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("line",{key:o+"_"+b,x1:f[0],y1:f[1],x2:y[0],y2:y[1]}));return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .SVGContainer */ .gk,S({ref:d},a),t&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{className:"tl-binding-indicator",strokeWidth:this.bindingDistance}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{opacity:n?.3:1},react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:0,y:0,width:l[0],height:l[1],fill:"transparent",pointerEvents:"all"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(pr,{stroke:"black",opacity:s||i?1:0,strokeLinecap:"round",pointerEvents:"stroke"},g)))}));r(this,"Indicator",de.Indicator(({shape:e})=>{let{id:t,size:n}=e,s=2,i=Math.max(0,n[0]-s/2),a=Math.max(0,n[1]-s/2),o=[[[s/2,s/2],[i,s/2],i-s/2],[[i,s/2],[i,a],a-s/2],[[i,a],[s/2,a],i-s/2],[[s/2,a],[s/2,s/2],a-s/2]].map(([l,u],p)=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("line",{key:t+"_"+p,x1:l[0],y1:l[1],x2:u[0],y2:u[1]}));return react__WEBPACK_IMPORTED_MODULE_1__.createElement(pr,{strokeLinecap:"round",pointerEvents:"stroke"},o)}));r(this,"getBounds",e=>We(e,this.boundsCache));r(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style)}},pr=he("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"});var qs=class extends de{constructor(){super(...arguments);r(this,"type","image");r(this,"canBind",!0);r(this,"canClone",!0);r(this,"isAspectRatioLocked",!0);r(this,"showCloneHandles",!1);r(this,"getShape",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge({id:"image",type:"image",name:"Image",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:I(S({},De),{isFilled:!0}),assetId:"assetId"},e));r(this,"Component",de.Component(({shape:e,asset:t={src:""},isBinding:n,isGhost:s,meta:i,events:a,onShapeChange:d},o)=>{let{size:l,style:u}=e,{bindingDistance:p}=this,h=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),m=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);return react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{let g=m.current;if(!g)return;let[f,y]=l;g.style.width=`${f}px`,g.style.height=`${y}px`},[l]),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .HTMLContainer */ .G7,S({ref:o},a),n&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:`calc(${-p}px * var(--tl-zoom))`,left:`calc(${-p}px * var(--tl-zoom))`,width:`calc(100% + ${p*2}px * var(--tl-zoom))`,height:`calc(100% + ${p*2}px * var(--tl-zoom))`,backgroundColor:"var(--tl-selectFill)"}}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(KK,{ref:m,isDarkMode:i.isDarkMode,isFilled:u.isFilled,isGhost:s},react__WEBPACK_IMPORTED_MODULE_1__.createElement(VK,{id:e.id+"_image",ref:h,src:t.src,alt:"tl_image_asset",draggable:!1})))}));r(this,"Indicator",de.Indicator(({shape:e})=>{let{size:[t,n]}=e;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})}));r(this,"getBounds",e=>We(e,this.boundsCache));r(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style);r(this,"transform",wt);r(this,"transformSingle",It);r(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n})}},KK=(0,_stitches_react__WEBPACK_IMPORTED_MODULE_3__/* .styled */ .zo)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{}},{isFilled:!0,isDarkMode:!1,css:{}}]}),VK=(0,_stitches_react__WEBPACK_IMPORTED_MODULE_3__/* .styled */ .zo)("img",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});function mr({strokeWidth:c,size:e}){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{className:"tl-binding-indicator",x:c,y:c,width:Math.max(0,e[0]-c/2),height:Math.max(0,e[1]-c/2),strokeWidth:16*2})}var gr=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({id:e,style:t,size:n,isSelected:s,isDarkMode:i}){let{stroke:a,strokeWidth:d,fill:o}=oe(t,i),l=1+d*1.618,u=Math.max(0,n[0]-l/2),p=Math.max(0,n[1]-l/2),m=[[[l/2,l/2],[u,l/2],u-l/2],[[u,l/2],[u,p],p-l/2],[[u,p],[l/2,p],u-l/2],[[l/2,p],[l/2,l/2],p-l/2]].map(([g,f,y],b)=>{let{strokeDasharray:T,strokeDashoffset:w}=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getPerfectDashProps(y,d*1.618,t.dash);return react__WEBPACK_IMPORTED_MODULE_1__.createElement("line",{key:e+"_"+b,x1:g[0],y1:g[1],x2:f[0],y2:f[1],strokeDasharray:T,strokeDashoffset:w})});return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{className:s||t.isFilled?"tl-fill-hitarea":"tl-stroke-hitarea",x:l/2,y:l/2,width:u,height:p,strokeWidth:16}),t.isFilled&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:l/2,y:l/2,width:u,height:p,fill:o,pointerEvents:"none"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{pointerEvents:"none",stroke:a,strokeWidth:l,strokeLinecap:"round"},m))});function $K(c,e,t){let n=oe(e),s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.rng(c),i=n.strokeWidth,a=Math.max(0,t[0]),d=Math.max(0,t[1]),o=Array.from(Array(4)).map(()=>[s()*i*.75,s()*i*.75]),l=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add([i/2,i/2],o[0]),u=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add([a-i/2,i/2],o[1]),p=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add([a-i/2,d-i/2],o[2]),h=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add([i/2,d-i/2],o[3]),m=Math.round(Math.abs(s()*2*4)),g=Math.min(a/4,i*2),f=Math.min(d/4,i*2),y=Math.max(8,Math.floor(a/16)),b=Math.max(8,Math.floor(d/16)),T=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.rotateArray([_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.pointsBetween(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(l,[g,0]),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(u,[g,0]),y),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.pointsBetween(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(u,[0,f]),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(p,[0,f]),b),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.pointsBetween(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(p,[g,0]),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(h,[g,0]),y),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.pointsBetween(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(h,[0,f]),_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(l,[0,f]),b)],m);return{points:[...T.flat(),...T[0]].slice(5,Math.floor((m%2===0?y:b)/-2)+3)}}function fr(c,e,t){let{points:n}=$K(c,e,t),{strokeWidth:s}=oe(e);return{points:n,options:{size:s,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function Sr(c,e,t){let{points:n,options:s}=fr(c,e,t),i=(0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .ZP)(n,s);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStroke(i)}function is(c,e,t){let{points:n,options:s}=fr(c,e,t);return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSvgPathFromStrokePoints((0,perfect_freehand__WEBPACK_IMPORTED_MODULE_7__/* .getStrokePoints */ .tt)(n,s))}var Tr=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({id:e,style:t,size:n,isSelected:s,isDarkMode:i}){let{isFilled:a}=t,{stroke:d,strokeWidth:o,fill:l}=oe(t,i),u=Sr(e,t,n),p=is(e,t,n);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{className:t.isFilled||s?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),a&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:p,fill:l,pointerEvents:"none"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:u,fill:d,stroke:d,strokeWidth:o,pointerEvents:"none"}))});var Qs=class extends de{constructor(){super(...arguments);r(this,"type","rectangle");r(this,"canBind",!0);r(this,"canClone",!0);r(this,"canEdit",!0);r(this,"getShape",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge({id:"id",type:"rectangle",name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:De,label:"",labelPoint:[.5,.5]},e));r(this,"Component",de.Component(({shape:e,isEditing:t,isBinding:n,isSelected:s,isGhost:i,meta:a,bounds:d,events:o,onShapeBlur:l,onShapeChange:u},p)=>{let{id:h,size:m,style:g,label:f="",labelPoint:y=sn}=e,b=He(g),T=oe(g,a.isDarkMode),w=g.dash==="draw"?Tr:gr,k=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(H=>u==null?void 0:u({id:h,label:H}),[u]);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(qK,S({ref:p},o),react__WEBPACK_IMPORTED_MODULE_1__.createElement(bt,{isEditing:t,onChange:k,onBlur:l,font:b,text:f,color:T.stroke,offsetX:(y[0]-.5)*d.width,offsetY:(y[1]-.5)*d.height,shape:e}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .SVGContainer */ .gk,{id:e.id+"_svg",opacity:i?.3:1,shapeStyle:g},n&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(mr,{strokeWidth:T.strokeWidth,size:m}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(w,{id:h,style:g,size:m,isSelected:s,isDarkMode:a.isDarkMode})))}));r(this,"Indicator",de.Indicator(({shape:e})=>{let{id:t,style:n,size:s}=e,a=oe(n,!1).strokeWidth;return n.dash==="draw"?react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:is(t,n,s)}):react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:a,y:a,rx:1,ry:1,width:Math.max(1,s[0]-a*2),height:Math.max(1,s[1]-a*2)})}));r(this,"getBounds",e=>We(e,this.boundsCache));r(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label);r(this,"transform",wt);r(this,"transformSingle",It)}},qK=he("div",{width:"100%",height:"100%"});var eo=class extends de{constructor(){super(...arguments);r(this,"type","sticky");r(this,"canBind",!0);r(this,"canEdit",!0);r(this,"canClone",!0);r(this,"hideResizeHandles",!0);r(this,"showCloneHandles",!0);r(this,"getShape",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge({id:"id",type:"sticky",name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:yn},e));r(this,"Component",de.Component(({shape:e,meta:t,events:n,isGhost:s,isBinding:i,isEditing:a,onShapeBlur:d,onShapeChange:o},l)=>{let u=Fs(e.style),{color:p,fill:h}=qn(e.style,t.isDarkMode),m=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),g=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),f=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),y=react__WEBPACK_IMPORTED_MODULE_1__.useRef(!1),b=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(P=>{P.stopPropagation()},[]),T=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(P=>{o==null||o({id:e.id,type:e.type,text:x.normalizeText(P)})},[e.id]),w=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(P=>{T(P.currentTarget.value)},[o,T]),k=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(P=>{if(P.key==="Escape"){P.preventDefault(),P.stopPropagation(),d==null||d();return}if(P.key==="Tab"&&e.text.length===0){P.preventDefault();return}if(!(P.key==="Meta"||P.metaKey))P.stopPropagation();else if(P.key==="z"&&P.metaKey){P.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),P.stopPropagation(),P.preventDefault();return}(P.metaKey||P.ctrlKey)&&P.key==="="&&P.preventDefault(),P.key==="Tab"&&(P.preventDefault(),P.shiftKey?xe.unindent(P.currentTarget):xe.indent(P.currentTarget),o==null||o(I(S({},e),{text:x.normalizeText(P.currentTarget.value)})))},[e,o]),H=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(P=>{P.currentTarget.setSelectionRange(0,0),d==null||d()},[]),v=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(P=>{!a||!y.current||P.currentTarget.select()},[a]);react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{if(a){y.current=!0;let P=g.current;P.focus(),P.select()}},[a]),react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{let P=f.current,{size:q}=e,{offsetHeight:J}=P,Q=Js-mt*2,we=q[1]-mt*2;if(J===we)return;if(J>Q){o==null||o({id:e.id,size:[q[0],J+mt*2]});return}if(J<Q&&q[1]>Js){o==null||o({id:e.id,size:[q[0],Js]});return}let pe=g.current;pe==null||pe.focus()},[e.text,e.size[1],e.style]);let B={font:u,color:p,textShadow:t.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .HTMLContainer */ .G7,S({ref:l},n),react__WEBPACK_IMPORTED_MODULE_1__.createElement(tV,{ref:m,isDarkMode:t.isDarkMode,isGhost:s,style:S({backgroundColor:h},B)},i&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(nV,{ref:f,isEditing:a,alignment:e.style.textAlign},e.text,"\u200B"),a&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(sV,{ref:g,onPointerDown:b,value:e.text,onChange:w,onKeyDown:k,onFocus:v,onBlur:H,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:e.style.textAlign,onContextMenu:je,onCopy:je,onPaste:je,onCut:je})))}));r(this,"Indicator",de.Indicator(({shape:e})=>{let{size:[t,n]}=e;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,t),height:Math.max(1,n)})}));r(this,"getBounds",e=>We(e,this.boundsCache));r(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.text!==e.text);r(this,"transform",(e,t,{scaleX:n,scaleY:s,transformOrigin:i})=>({point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed([t.minX+(t.width-e.size[0])*(n<0?1-i[0]:i[0]),t.minY+(t.height-e.size[1])*(s<0?1-i[1]:i[1])])}));r(this,"transformSingle",e=>e);r(this,"getSvgElement",(e,t)=>{var p,h;let n=this.getBounds(e),s=qn(e.style,t),i=Zn(e.style.size)*((p=e.style.scale)!=null?p:1),a=Ye(e.style.font).slice(1,-1),d=(h=e.style.textAlign)!=null?h:"start",o=st(e.text,i,a,d,n.width-mt*2,!0);o.setAttribute("fill",s.color),o.setAttribute("transform",`translate(${mt}, ${mt})`);let l=document.createElementNS("http://www.w3.org/2000/svg","g"),u=document.createElementNS("http://www.w3.org/2000/svg","rect");return u.setAttribute("width",n.width+""),u.setAttribute("height",n.height+""),u.setAttribute("fill",s.fill),u.setAttribute("rx","3"),u.setAttribute("ry","3"),l.appendChild(u),l.appendChild(o),l})}},mt=16,Js=200,tV=he("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:mt+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),yr={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:Ze},nV=he("div",S({position:"absolute",top:mt,left:mt,width:`calc(100% - ${mt*2}px)`,height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:{["start"]:{textAlign:"left"},["middle"]:{textAlign:"center"},["end"]:{textAlign:"right"},["justify"]:{textAlign:"justify"}}}},yr)),sV=he("textarea",I(S({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},yr),{variants:{alignment:{["start"]:{textAlign:"left"},["middle"]:{textAlign:"center"},["end"]:{textAlign:"right"},["justify"]:{textAlign:"justify"}}},"&:focus":{outline:"none",border:"none"}}));var no=class extends de{constructor(){super(...arguments);r(this,"type","text");r(this,"isAspectRatioLocked",!0);r(this,"canEdit",!0);r(this,"canBind",!0);r(this,"canClone",!0);r(this,"bindingDistance",16/2);r(this,"getShape",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge({id:"id",type:"text",name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:yn},e));r(this,"texts",new Map);r(this,"Component",de.Component(({shape:e,isBinding:t,isGhost:n,isEditing:s,onShapeBlur:i,onShapeChange:a,meta:d,events:o},l)=>{let{text:u,style:p}=e,h=oe(p,d.isDarkMode),m=He(e.style),g=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),f=react__WEBPACK_IMPORTED_MODULE_1__.useRef(!1),y=react__WEBPACK_IMPORTED_MODULE_1__.useRef(u);react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{if(u!==y.current){let v=[0,0];this.texts.set(e.id,u);let B=this.getBounds(e),P=this.getBounds(e);switch(e.style.textAlign){case"start":break;case"middle":{v=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div([P.width-B.width,0],2);break}case"end":{v=[P.width-B.width,0];break}}y.current=u,a==null||a(I(S({},e),{id:e.id,point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(e.point,v),text:u}))}},[u]);let b=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(v=>{let B=[0,0],P=x.normalizeText(v.currentTarget.value),q=this.getBounds(e);this.texts.set(e.id,P);let J=this.getBounds(I(S({},e),{text:P}));switch(e.style.textAlign){case"start":break;case"middle":{B=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div([J.width-q.width,0],2);break}case"end":{B=[J.width-q.width,0];break}}y.current=P,a==null||a(I(S({},e),{id:e.id,point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(e.point,B),text:P}))},[e.id,e.point]),T=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(v=>{if(v.key==="Escape"){v.preventDefault(),v.stopPropagation(),i==null||i();return}if(v.key==="Tab"&&e.text.length===0){v.preventDefault();return}if(v.key==="Enter"&&(v.metaKey||v.ctrlKey)){v.preventDefault(),v.stopPropagation(),g.current.blur();return}if(!(v.key==="Meta"||v.metaKey))v.stopPropagation();else if(v.key==="z"&&v.metaKey){v.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),v.stopPropagation(),v.preventDefault();return}(v.metaKey||v.ctrlKey)&&v.key==="="&&v.preventDefault(),v.key==="Tab"&&(v.preventDefault(),v.shiftKey?xe.unindent(v.currentTarget):xe.indent(v.currentTarget),a==null||a(I(S({},e),{text:x.normalizeText(v.currentTarget.value)})))},[e,a]),w=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(v=>{v.currentTarget.setSelectionRange(0,0),i==null||i()},[]),k=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(v=>{!s||!f.current||document.activeElement===v.currentTarget&&v.currentTarget.select()},[s]),H=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(v=>{s&&v.stopPropagation()},[s]);return react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{s?(this.texts.set(e.id,u),requestAnimationFrame(()=>{f.current=!0;let v=g.current;v&&(v.focus(),v.select())})):i==null||i()},[s]),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .HTMLContainer */ .G7,S({ref:l},o),react__WEBPACK_IMPORTED_MODULE_1__.createElement(rV,{isGhost:n,isEditing:s,onPointerDown:H},react__WEBPACK_IMPORTED_MODULE_1__.createElement(aV,{style:{font:m,color:h.stroke,textAlign:Es(p.textAlign)},"data-color":e.style.color},t&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),s?react__WEBPACK_IMPORTED_MODULE_1__.createElement(dV,{ref:g,style:{font:m,color:h.stroke},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:u,color:h.stroke,onFocus:k,onChange:b,onKeyDown:T,onBlur:w,onPointerDown:H,onContextMenu:je,onCopy:je,onPaste:je,onCut:je}):u,"\u200B")))}));r(this,"Indicator",de.Indicator(({shape:e})=>{let{width:t,height:n}=this.getBounds(e);return react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:0,y:0,width:t,height:n})}));r(this,"getBounds",e=>{let t=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getFromCache(this.boundsCache,e,()=>{var i;if(!Nt)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};Nt.parentNode||document.body.appendChild(Nt),Nt.style.font=He(e.style),Nt.textContent=(i=this.texts.get(e.id))!=null?i:e.text;let n=Nt.offsetWidth||1,s=Nt.offsetHeight||1;return{minX:0,maxX:n,minY:0,maxY:s,width:n,height:s}});return _tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(t,e.point)});r(this,"shouldRender",(e,t)=>t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style);r(this,"transform",(e,t,{initialShape:n,scaleX:s,scaleY:i})=>{let{rotation:a=0,style:{scale:d=1}}=n,o=d*Math.abs(Math.min(s,i));return{point:[t.minX,t.minY],rotation:s<0&&i>=0||i<0&&s>=0?-(a||0):a,style:I(S({},n.style),{scale:o})}});r(this,"transformSingle",(e,t,{initialShape:n,scaleX:s,scaleY:i})=>{let{style:{scale:a=1}}=n;return{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed([t.minX,t.minY]),style:I(S({},n.style),{scale:a*Math.max(Math.abs(i),Math.abs(s))})}});r(this,"onDoubleClickBoundsHandle",e=>{let t=this.getCenter(e),n=this.getCenter(I(S({},e),{style:I(S({},e.style),{scale:1})}));return{style:I(S({},e.style),{scale:1}),point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(e.point,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,n)))}});r(this,"getSvgElement",(e,t)=>{var l,u;let n=this.getBounds(e),s=oe(e.style,t),i=dt(e.style.size,e.style.font)*((l=e.style.scale)!=null?l:1),a=Ye(e.style.font).slice(1,-1),d=(u=e.style.textAlign)!=null?u:"start",o=st(e.text,i,a,d,n.width,!1);return o.setAttribute("fill",s.stroke),o.setAttribute("data-color",e.style.color),o})}},Nt;function iV(){var e;(e=document.getElementById("__textMeasure"))==null||e.remove();let c=document.createElement("pre");return c.id="__textMeasure",Object.assign(c.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Ze,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),c.tabIndex=-1,document.body.appendChild(c),c}typeof window!="undefined"&&(Nt=iV());var rV=he("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),br={whiteSpace:"pre-wrap",overflowWrap:"break-word"},aV=he("div",S({position:"absolute",width:"100%",height:"100%",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:Ze,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},br)),dV=he("textarea",I(S({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},br),{"&:focus":{outline:"none",border:"none"}}));var Ir=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({id:e,size:t,style:n,isSelected:s,isDarkMode:i}){let{stroke:a,strokeWidth:d,fill:o}=oe(n,i),l=1+d*1.618,u=ot(t),h=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointsToLineSegments(u,!0).map(([g,f],y)=>{let{strokeDasharray:b,strokeDashoffset:T}=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getPerfectDashProps(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(g,f),d*1.618,n.dash);return react__WEBPACK_IMPORTED_MODULE_1__.createElement("line",{key:e+"_"+y,x1:g[0],y1:g[1],x2:f[0],y2:f[1],stroke:a,strokeWidth:l,strokeLinecap:"round",strokeDasharray:b,strokeDashoffset:T})}),m=u.join();return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("polygon",{className:n.isFilled||s?"tl-fill-hitarea":"tl-stroke-hitarea",points:m}),n.isFilled&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("polygon",{fill:o,points:m,pointerEvents:"none"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{pointerEvents:"stroke"},h))});var xr=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({id:e,size:t,style:n,isSelected:s,isDarkMode:i}){let{stroke:a,strokeWidth:d,fill:o}=oe(n,i),l=Fi(e,t,n),u=Oi(e,t,n);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{className:n.isFilled||s?"tl-fill-hitarea":"tl-stroke-hitarea",d:u}),n.isFilled&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:u,fill:o,pointerEvents:"none"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:l,fill:a,stroke:a,strokeWidth:d,pointerEvents:"none"}))});function Pr({size:c}){let e=ot(c).join();return react__WEBPACK_IMPORTED_MODULE_1__.createElement("polygon",{className:"tl-binding-indicator",points:e,strokeWidth:16*2})}var so=class extends de{constructor(){super(...arguments);r(this,"type","triangle");r(this,"canBind",!0);r(this,"canClone",!0);r(this,"canEdit",!0);r(this,"getShape",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge({id:"id",type:"triangle",name:"Triangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:De,label:"",labelPoint:[.5,.5]},e));r(this,"Component",de.Component(({shape:e,bounds:t,isBinding:n,isEditing:s,isSelected:i,isGhost:a,meta:d,events:o,onShapeChange:l,onShapeBlur:u},p)=>{let{id:h,label:m="",size:g,style:f,labelPoint:y=sn}=e,b=He(f),T=oe(f,d.isDarkMode),w=f.dash==="draw"?xr:Ir,k=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(v=>l==null?void 0:l({id:h,label:v}),[l]),H=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>this.getLabelOffsetY(e),[g]);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(mV,S({ref:p},o),react__WEBPACK_IMPORTED_MODULE_1__.createElement(bt,{font:b,text:m,color:T.stroke,offsetX:(y[0]-.5)*t.width,offsetY:H+(y[1]-.5)*t.height,isEditing:s,onChange:k,onBlur:u,shape:e}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .SVGContainer */ .gk,{id:e.id+"_svg",opacity:a?.3:1,shapeStyle:f},n&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(Pr,{size:g}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(w,{id:h,style:f,size:g,isSelected:i,isDarkMode:d.isDarkMode})))}));r(this,"Indicator",de.Indicator(({shape:e})=>{let{size:t}=e;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("polygon",{points:ot(t).join()})}));r(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label);r(this,"getBounds",e=>We(e,this.boundsCache));r(this,"getExpandedBounds",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints(ot(e.size,this.bindingDistance).map(t=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(t,e.point))));r(this,"hitTestLineSegment",(e,t,n)=>(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectLineSegmentPolyline */ .Gc)(t,n,this.getPoints(e)).didIntersect);r(this,"hitTestBounds",(e,t)=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContained(this.getBounds(e),t)||(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectBoundsPolygon */ .ou)(t,this.getPoints(e)).length>0);r(this,"getBindingPoint",(e,t,n,s,i,a)=>{let d=this.getExpandedBounds(e);if(!_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInBounds(n,d))return;let o=ot(e.size).map(T=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(T,e.point)),l=ot(e.size,this.bindingDistance).map(T=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(T,e.point)),u=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointsToLineSegments(o,!0).map(([T,w])=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.distanceToLineSegment(T,w,n)).sort((T,w)=>T-w)[0];if(!(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInPolygon(n,l)||u<this.bindingDistance))return;let p=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointsToLineSegments(l.concat([l[0]])).map(T=>(0,_tldraw_intersect__WEBPACK_IMPORTED_MODULE_6__/* .intersectRayLineSegment */ .oA)(s,i,T[0],T[1])).filter(T=>T.didIntersect).flatMap(T=>T.points);if(!p.length)return;let h=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(Os(e.size),e.point),m=p.sort((T,w)=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(w,s)-_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(T,s))[0],g=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.med(n,m),f,y;a?(f=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(n,h)<16/2?h:n,y=0):(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.distanceToLineSegment(n,g,h)<16/2?f=h:f=g,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInPolygon(n,o)?y=this.bindingDistance:y=Math.max(this.bindingDistance,u));let b=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.divV(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(f,[d.minX,d.minY]),[d.width,d.height]);return{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.clampV(b,0,1),distance:y}});r(this,"transform",wt);r(this,"transformSingle",It);r(this,"getSvgElement",e=>{var n,s;let t=(n=document.getElementById(e.id+"_svg"))==null?void 0:n.cloneNode(!0);if(!!t){if("label"in e&&e.label!==void 0){let i=e,a=document.createElementNS("http://www.w3.org/2000/svg","g"),d=this.getBounds(e),o=He(e.style),l=e.style.scale!==void 0?e.style.scale:1,u=dt(e.style.size,e.style.font)*((s=e.style.scale)!=null?s:1),p=Ye(e.style.font).slice(1,-1),h=nt(e.label,o),m=st(i.label,u,p,"middle",h[0],!1);return m.setAttribute("fill",oe(e.style).stroke),m.setAttribute("transform-origin","top left"),m.setAttribute("transform",`translate(${(d.width-h[0]*l)/2}, ${(d.height-h[1]*l)/2+this.getLabelOffsetY(e)})`),a.appendChild(t),a.appendChild(m),a}return t}});r(this,"getLabelOffsetY",e=>{let t=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.div(e.size,2);return(Os(e.size)[1]-t[1])*.72})}getPoints(e){let{rotation:t=0,point:[n,s],size:[i,a]}=e;return[[n+i/2,s],[n,s+a],[n+i,s+a]].map(d=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.rotWith(d,this.getCenter(e),t))}},mV=he("div",{width:"100%",height:"100%"});var oo=class extends de{constructor(){super(...arguments);r(this,"type","video");r(this,"canBind",!0);r(this,"canEdit",!0);r(this,"canClone",!0);r(this,"isAspectRatioLocked",!0);r(this,"showCloneHandles",!1);r(this,"isStateful",!0);r(this,"getShape",e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge({id:"video",type:"video",name:"Video",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:De,assetId:"assetId",isPlaying:!0,currentTime:0},e));r(this,"Component",de.Component(({shape:e,asset:t={src:""},isBinding:n,isEditing:s,isGhost:i,meta:a,events:d,onShapeChange:o},l)=>{let u=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),p=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),{currentTime:h=0,size:m,isPlaying:g,style:f}=e;react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{let w=p.current;if(!w)return;let[k,H]=m;w.style.width=`${k}px`,w.style.height=`${H}px`},[m]),react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{let w=u.current;!w||(g?w.play():w.pause())},[g]),react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{let w=u.current;!w||h!==w.currentTime&&(w.currentTime=h)},[h]);let y=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(()=>{o==null||o({id:e.id,isPlaying:!0})},[]),b=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(()=>{o==null||o({id:e.id,isPlaying:!1})},[]),T=react__WEBPACK_IMPORTED_MODULE_1__.useCallback(()=>{let w=u.current;!w||!s||o==null||o({id:e.id,currentTime:w.currentTime})},[s]);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .HTMLContainer */ .G7,S({ref:l},d),n&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(SV,{ref:p,isDarkMode:a.isDarkMode,isGhost:i,isFilled:f.isFilled},react__WEBPACK_IMPORTED_MODULE_1__.createElement(TV,{ref:u,id:e.id+"_video",muted:!0,loop:!0,playsInline:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:s,autoPlay:g,onPlay:y,onPause:b,onTimeUpdate:T},react__WEBPACK_IMPORTED_MODULE_1__.createElement("source",{src:t.src}))))}));r(this,"Indicator",de.Indicator(({shape:e})=>{let{size:[t,n]}=e;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})}));r(this,"getBounds",e=>We(e,this.boundsCache));r(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.isPlaying!==e.isPlaying);r(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n});r(this,"transform",wt);r(this,"transformSingle",It)}},SV=(0,_stitches_react__WEBPACK_IMPORTED_MODULE_3__/* .styled */ .zo)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),TV=(0,_stitches_react__WEBPACK_IMPORTED_MODULE_3__/* .styled */ .zo)("video",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});var io=new Qs,ro=new so,ao=new Xs,lo=new Ys,In=new Ns,yV=new no,bV=new Zs,rs=new eo,wV=new qs,IV=new oo,At={["rectangle"]:io,["triangle"]:ro,["ellipse"]:ao,["draw"]:lo,["arrow"]:In,["text"]:yV,["group"]:bV,["sticky"]:rs,["image"]:wV,["video"]:IV},Ui=c=>typeof c=="string"?At[c]:At[c.type];var Dr="tldraw_clipboard";function Er(){return ie(this,null,function*(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_8__/* .get */ .U2)(Dr)})}function Cr(c){return ie(this,null,function*(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_8__/* .set */ .t8)(Dr,c)})}var co=class{constructor(e,t,n,s){r(this,"_idbId");r(this,"initialState");r(this,"store");r(this,"pointer",-1);r(this,"_state");r(this,"_status","loading");r(this,"stack",[]);r(this,"_snapshot");r(this,"useStore");r(this,"ready");r(this,"isPaused",!1);r(this,"persist",(e,t)=>{if(this._status==="ready"&&(this.onPersist&&this.onPersist(this._state,e,t),this._idbId))return idb_keyval__WEBPACK_IMPORTED_MODULE_8__/* .set */ .t8(this._idbId,this._state).catch(n=>console.error(n))});r(this,"applyPatch",(e,t)=>{let n=this._state,s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge(this._state,e),i=this.cleanup(s,n,e,t);return this.onStateWillChange&&this.onStateWillChange(i,t),this._state=i,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,t),this});r(this,"migrate",e=>e);r(this,"cleanup",(e,t,n,s)=>e);r(this,"onStateWillChange");r(this,"onStateDidChange");r(this,"patchState",(e,t)=>(this.applyPatch(e,t),this.onPatch&&this.onPatch(this._state,e,t),this));r(this,"replaceState",(e,t)=>{let n=this.cleanup(e,this._state,e,t);return this.onStateWillChange&&this.onStateWillChange(n,"replace"),this._state=n,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,"replace"),this});r(this,"setState",(e,t=e.id)=>(this.pointer<this.stack.length-1&&(this.stack=this.stack.slice(0,this.pointer+1)),this.stack.push(I(S({},e),{id:t})),this.pointer=this.stack.length-1,this.applyPatch(e.after,t),this.onCommand&&this.onCommand(this._state,e,t),this.persist(e.after,t),this));r(this,"onReady");r(this,"onPatch");r(this,"onCommand");r(this,"onPersist");r(this,"onReplace");r(this,"onReset");r(this,"onResetHistory");r(this,"onUndo");r(this,"onRedo");r(this,"reset",()=>(this.onStateWillChange&&this.onStateWillChange(this.initialState,"reset"),this._state=this.initialState,this.store.setState(this._state,!0),this.resetHistory(),this.persist({},"reset"),this.onStateDidChange&&this.onStateDidChange(this._state,"reset"),this.onReset&&this.onReset(this._state),this));r(this,"replaceHistory",(e,t=e.length-1)=>(this.stack=e,this.pointer=t,this.onReplace&&this.onReplace(this._state),this));r(this,"resetHistory",()=>(this.stack=[],this.pointer=-1,this.onResetHistory&&this.onResetHistory(this._state),this));r(this,"undo",()=>{if(!this.isPaused){if(!this.canUndo)return this;let e=this.stack[this.pointer];this.pointer--,this.applyPatch(e.before,"undo"),this.persist(e.before,"undo")}return this.onUndo&&this.onUndo(this._state),this});r(this,"redo",()=>{if(!this.isPaused){if(!this.canRedo)return this;this.pointer++;let e=this.stack[this.pointer];this.applyPatch(e.after,"redo"),this.persist(e.after,"undo")}return this.onRedo&&this.onRedo(this._state),this});r(this,"setSnapshot",()=>(this._snapshot=S({},this._state),this));r(this,"forceUpdate",()=>{this.store.setState(this._state,!0)});this._idbId=t,this._state=Me(e),this._snapshot=Me(e),this.initialState=Me(e),this.store=(0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(()=>this._state),this.useStore=(0,zustand__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .ZP)(this.store),this.ready=new Promise(i=>{let a="none";this._idbId?(a="restored",idb_keyval__WEBPACK_IMPORTED_MODULE_8__/* .get */ .U2(this._idbId).then(d=>ie(this,null,function*(){if(d){let o=d;if(n){let u=yield idb_keyval__WEBPACK_IMPORTED_MODULE_8__/* .get */ .U2(t+"_version");u&&u<n&&(o=s?s(d,e,u):e,a="migrated")}yield idb_keyval__WEBPACK_IMPORTED_MODULE_8__/* .set */ .t8(t+"_version",n||-1);let l=this._state.appState.isEmptyCanvas;o=this.migrate(o),this._state=Me(o),this._snapshot=Me(o),this._state.appState.isEmptyCanvas=l,this.store.setState(this._state,!0)}else yield idb_keyval__WEBPACK_IMPORTED_MODULE_8__/* .set */ .t8(t+"_version",n||-1);this._status="ready",i(a)})).catch(d=>console.error(d))):(this._status="ready",i(a))}).then(i=>(this.onReady&&this.onReady(i),i))}pause(){this.isPaused=!0}resume(){this.isPaused=!1}get canUndo(){return this.pointer>-1}get canRedo(){return this.pointer<this.stack.length-1}get state(){return this._state}get status(){return this._status}get snapshot(){return this._snapshot}};function Lr(c,e,t){let{currentPageId:n}=c,s=e.map(h=>c.getShape(h)),i=s.map(h=>({id:h.id,point:[...h.point],bounds:x.getBounds(h)})),a=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(i.map(({bounds:h})=>h)),d=a.minX+a.width/2,o=a.minY+a.height/2,l=Object.fromEntries(i.map(({id:h,point:m,bounds:g})=>[h,{prev:m,next:{["top"]:[m[0],a.minY],["centerVertical"]:[m[0],o-g.height/2],["bottom"]:[m[0],a.maxY-g.height],["left"]:[a.minX,m[1]],["centerHorizontal"]:[d-g.width/2,m[1]],["right"]:[a.maxX-g.width,m[1]]}[t]}])),{before:u,after:p}=x.mutateShapes(c.state,e,h=>l[h.id]?{point:l[h.id].next}:h,n,!1);return s.forEach(h=>{if(h.type==="group"){let m=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(p[h.id].point,u[h.id].point);h.children.forEach(g=>{let f=c.getShape(g);u[f.id]={point:f.point},p[f.id]={point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(f.point,m)}}),delete u[h.id],delete p[h.id]}}),{id:"align",before:{document:{pages:{[n]:{shapes:u}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:p}},pageStates:{[n]:{selectedIds:e}}}}}}function Ar(c,e){return{id:"change_page",before:{appState:{currentPageId:c.currentPageId}},after:{appState:{currentPageId:e}}}}function Rr(c,e){var s;let t=c,n=new Set(e);for(;n.has(t);)t=((s=/^.*(\d+)$/.exec(t))==null?void 0:s[1])?t.replace(/(\d+)(?=\D?)$/,i=>(+i+1).toString()):`${t} 1`;return t}function Hr(c,e,t){let n={shapes:{},bindings:{}},s={shapes:{},bindings:{}},i=[],a=new Set,d=new Set;e.filter(l=>!x.getShape(c,l,t).isLocked).forEach(l=>{a.add(l);let u=x.getShape(c,l,t);n.shapes[l]=u,s.shapes[l]=void 0,u.children!==void 0&&u.children.forEach(p=>{a.add(p);let h=x.getShape(c,p,t);n.shapes[p]=h,s.shapes[p]=void 0}),u.parentId!==t&&i.push(x.getShape(c,u.parentId,t)),u.assetId&&d.add(u.assetId)}),i.forEach(l=>{var u;e.includes(l.id)||(a.add(l.id),n.shapes[l.id]={children:l.children},s.shapes[l.id]={children:l.children.filter(p=>!e.includes(p))},((u=s.shapes[l.id])==null?void 0:u.children.length)===0&&(s.shapes[l.id]=void 0,n.shapes[l.id]=x.getShape(c,l.id,t)))});let o=x.getPage(c,t);return Object.values(o.bindings).filter(l=>a.has(l.fromId)||a.has(l.toId)).forEach(l=>{for(let u of[l.toId,l.fromId])if(s.shapes[u]===void 0){n.bindings[l.id]=l,s.bindings[l.id]=void 0;let p=o.shapes[u];p&&p.handles&&Object.values(p.handles).filter(h=>h.bindingId===l.id).forEach(h=>{var m,g,f,y,b,T;n.shapes[u]=I(S({},n.shapes[u]),{handles:I(S({},(m=n.shapes[u])==null?void 0:m.handles),{[h.id]:I(S({},(f=(g=n.shapes[u])==null?void 0:g.handles)==null?void 0:f[h.id]),{bindingId:l.id})})}),a.has(u)||(s.shapes[u]=I(S({},s.shapes[u]),{handles:I(S({},(y=s.shapes[u])==null?void 0:y.handles),{[h.id]:I(S({},(T=(b=s.shapes[u])==null?void 0:b.handles)==null?void 0:T[h.id]),{bindingId:void 0})})}))})}}),Object.values(c.document.pages).flatMap(l=>Object.values(l.shapes)).forEach(l=>{"assetId"in l&&l.assetId&&!a.has(l.id)&&d.delete(l.assetId)}),{before:n,after:s,assetsToRemove:Array.from(d)}}function Mr(c,e,t=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),n="Page"){let{currentPageId:s}=c,i=Object.values(c.state.document.pages).sort((u,p)=>{var h,m;return((h=u.childIndex)!=null?h:0)-((m=p.childIndex)!=null?m:0)}),a=i[i.length-1],d=(a==null?void 0:a.childIndex)?(a==null?void 0:a.childIndex)+1:1,o={id:t,name:Rr(n,i.map(u=>{var p;return(p=u.name)!=null?p:""})),childIndex:d,shapes:{},bindings:{}},l={id:t,selectedIds:[],camera:{point:e,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:s},document:{pages:{[t]:void 0},pageStates:{[t]:void 0}}},after:{appState:{currentPageId:o.id},document:{pages:{[t]:o},pageStates:{[t]:l}}}}}function po(c,e,t=[]){let{currentPageId:n}=c,s={},i={};e.forEach(o=>{s[o.id]=void 0,i[o.id]=o});let a={},d={};return t.forEach(o=>{a[o.id]=void 0,d[o.id]=o}),{id:"create",before:{document:{pages:{[n]:{shapes:s,bindings:a}},pageStates:{[n]:{selectedIds:[...c.selectedIds]}}}},after:{document:{pages:{[n]:{shapes:i,bindings:d}},pageStates:{[n]:{selectedIds:e.map(o=>o.id)}}}}}}function zr(c,e){let{currentPageId:t,document:{pages:n,pageStates:s}}=c,i=Object.values(n).sort((o,l)=>(o.childIndex||0)-(l.childIndex||0)),a=i.findIndex(o=>o.id===e),d;return e===t?a===i.length-1?d=i[i.length-2].id:d=i[a+1].id:d=t,{id:"delete_page",before:{appState:{currentPageId:e},document:{pages:{[e]:S({},n[e])},pageStates:{[e]:S({},s[e])}}},after:{appState:{currentPageId:d},document:{pages:{[e]:void 0},pageStates:{[e]:void 0}}}}}var BV=(c,e)=>{let t=S({},c);return e.forEach(n=>t[n]=void 0),t};function uo(c,e,t=c.currentPageId){let{pageState:n,selectedIds:s,document:{assets:i}}=c,{before:a,after:d,assetsToRemove:o}=Hr(c.state,e,t),l=BV(i,o);return{id:"delete",before:{document:{assets:i,pages:{[t]:a},pageStates:{[t]:{selectedIds:[...c.selectedIds]}}}},after:{document:{assets:l,pages:{[t]:d},pageStates:{[t]:{selectedIds:s.filter(u=>!e.includes(u)),hoveredId:n.hoveredId&&e.includes(n.hoveredId)?void 0:n.hoveredId}}}}}}function Or(c,e,t){let{currentPageId:n}=c,s=e.map(o=>c.getShape(o)),i=Object.fromEntries(AV(s,t).map(o=>[o.id,o])),{before:a,after:d}=x.mutateShapes(c.state,e.filter(o=>i[o]!==void 0),o=>{var l;return{point:(l=i[o.id])==null?void 0:l.next}},n);return s.forEach(o=>{if(o.type==="group"){let l=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(d[o.id].point,a[o.id].point);o.children.forEach(u=>{let p=c.getShape(u);a[p.id]={point:p.point},d[p.id]={point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(p.point,l)}}),delete a[o.id],delete d[o.id]}}),{id:"distribute",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:e}}}}}}function AV(c,e){let t=c.map(a=>{let d=x.getShapeUtil(a);return{id:a.id,point:[...a.point],bounds:d.getBounds(a),center:d.getCenter(a)}}),n=t.length,s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(t.map(({bounds:a})=>a)),i=[];switch(e){case"horizontal":{let a=t.reduce((d,o)=>d+o.bounds.width,0);if(a>s.width){let d=t.sort((h,m)=>h.bounds.minX-m.bounds.minX)[0],o=t.sort((h,m)=>m.bounds.maxX-h.bounds.maxX)[0],l=t.filter(h=>h!==d&&h!==o).sort((h,m)=>h.center[0]-m.center[0]),u=(o.center[0]-d.center[0])/(n-1),p=d.center[0]+u;l.forEach(({id:h,point:m,bounds:g},f)=>{i.push({id:h,prev:m,next:[p+u*f-g.width/2,g.minY]})})}else{let d=t.sort((u,p)=>u.center[0]-p.center[0]),o=s.minX,l=(s.width-a)/(n-1);d.forEach(({id:u,point:p,bounds:h})=>{i.push({id:u,prev:p,next:[o,h.minY]}),o+=h.width+l})}break}case"vertical":{let a=t.reduce((d,o)=>d+o.bounds.height,0);if(a>s.height){let d=t.sort((h,m)=>h.bounds.minY-m.bounds.minY)[0],o=t.sort((h,m)=>m.bounds.maxY-h.bounds.maxY)[0],l=t.filter(h=>h!==d&&h!==o).sort((h,m)=>h.center[1]-m.center[1]),u=(o.center[1]-d.center[1])/(n-1),p=d.center[1]+u;l.forEach(({id:h,point:m,bounds:g},f)=>{i.push({id:h,prev:m,next:[g.minX,p+u*f-g.height/2]})})}else{let d=t.sort((u,p)=>u.center[1]-p.center[1]),o=s.minY,l=(s.height-a)/(n-1);d.forEach(({id:u,point:p,bounds:h})=>{i.push({id:u,prev:p,next:[h.minX,o]}),o+=h.height+l})}break}}return i}function jr(c,e){let{currentPageId:t,pageState:{camera:n}}=c,s=c.document.pages[e],i=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),a=I(S({},s),{id:i,name:s.name+" Copy",shapes:Object.fromEntries(Object.entries(s.shapes).map(([d,o])=>[d,I(S({},o),{parentId:o.parentId===s.id?i:o.parentId})]))});return{id:"duplicate_page",before:{appState:{currentPageId:t},document:{pages:{[i]:void 0},pageStates:{[i]:void 0}}},after:{appState:{currentPageId:i},document:{pages:{[i]:a},pageStates:{[i]:I(S({},s),{id:i,selectedIds:[],camera:S({},n),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0})}}}}}function Ur(c,e,t){let{selectedIds:n,currentPageId:s,page:i,shapes:a}=c,d={shapes:{},bindings:{}},o={shapes:{},bindings:{}},l={},u=e.map(m=>c.getShape(m)).filter(m=>!e.includes(m.parentId));u.forEach(m=>{let g=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId();if(d.shapes[g]=void 0,o.shapes[g]=I(S({},_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepClone(m)),{id:g,childIndex:x.getChildIndexAbove(c.state,m.id,s)}),m.children&&(o.shapes[g].children=[]),m.parentId!==s){let f=c.getShape(m.parentId);d.shapes[f.id]=I(S({},d.shapes[f.id]),{children:f.children}),o.shapes[f.id]=I(S({},o.shapes[f.id]),{children:[...(o.shapes[f.id]||f).children,g]})}l[m.id]=g}),u.forEach(m=>{m.children&&m.children.forEach(g=>{var T,w;let f=c.getShape(g),y=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),b=l[m.id];d.shapes[y]=void 0,o.shapes[y]=I(S({},_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepClone(f)),{id:y,parentId:b,childIndex:x.getChildIndexAbove(c.state,f.id,s)}),l[g]=y,(w=(T=o.shapes[l[m.id]])==null?void 0:T.children)==null||w.push(y)})});let p=new Set(Object.keys(l));Object.values(i.bindings).filter(m=>p.has(m.fromId)||p.has(m.toId)).forEach(m=>{if(p.has(m.fromId))if(p.has(m.toId)){let g=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),f=I(S({},_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepClone(m)),{id:g,fromId:l[m.fromId],toId:l[m.toId]});d.bindings[g]=void 0,o.bindings[g]=f;let y=o.shapes[f.fromId];Object.values(y.handles).forEach(b=>{b.bindingId===m.id&&(b.bindingId=g)})}else{let g=o.shapes[l[m.fromId]];Object.values(g.handles).forEach(f=>{f.bindingId===m.id&&(f.bindingId=void 0)})}});let h=Object.values(o.shapes);if(t){let m=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(h.map(f=>x.getBounds(f))),g=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(m);h.forEach(f=>{!f.point||(f.point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(g,f.point)))})}else{let m=[16,16];h.forEach(g=>{!g.point||(g.point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(g.point,m))})}return h.forEach(m=>{m.isLocked&&(m.isLocked=!1)}),{id:"duplicate",before:{document:{pages:{[s]:d},pageStates:{[s]:{selectedIds:n}}}},after:{document:{pages:{[s]:o},pageStates:{[s]:{selectedIds:Array.from(p.values()).map(m=>l[m])}}}}}}function mo(c,e,t){let{selectedIds:n,currentPageId:s,page:{shapes:i}}=c,a=e.map(p=>x.getBounds(i[p])),d=e.length===1&&i[e[0]].type==="group",o=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(a),{before:l,after:u}=x.mutateShapes(c.state,e,p=>{let h=x.getBounds(p),m=p.parentId!==s;switch(t){case"horizontal":{if(m&&!d){let f=x.getBounds(i[p.parentId]),b=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getRelativeTransformedBoundingBox(o,o,f,!0,!1).minX-f.minX;return x.getShapeUtil(p).transform(p,I(S({},h),{minX:h.minX+b,maxX:h.maxX+b}),{type:_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.TopLeft,scaleX:1,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}let g=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getRelativeTransformedBoundingBox(o,o,h,!0,!1);return x.getShapeUtil(p).transform(p,g,{type:_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.TopLeft,scaleX:-1,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}case"vertical":{if(m&&!d){let f=x.getBounds(i[p.parentId]),b=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getRelativeTransformedBoundingBox(o,o,f,!1,!0).minY-f.minY;return x.getShapeUtil(p).transform(p,I(S({},h),{minY:h.minY+b,maxY:h.maxY+b}),{type:_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.TopLeft,scaleX:1,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}let g=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getRelativeTransformedBoundingBox(o,o,h,!1,!0);return x.getShapeUtil(p).transform(p,g,{type:_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.TopLeft,scaleX:1,scaleY:-1,initialShape:p,transformOrigin:[.5,.5]})}}},s,!0);return{id:"flip",before:{document:{pages:{[s]:{shapes:l}},pageStates:{[s]:{selectedIds:n}}}},after:{document:{pages:{[s]:{shapes:u}},pageStates:{[s]:{selectedIds:e}}}}}}function Gr(c,e,t,n){var k,H;if(e.length<2)return;let s={},i={},a={},d={},o=[...e],l=[],u=[],p=[];for(let v of e){let B=c.getShape(v);if(!B.isLocked)if(B.children===void 0)l.push(B);else{let P=B.children.filter(q=>!c.getShape(q).isLocked);p.push(B),o.push(...P),l.push(...P.map(q=>c.getShape(q)).filter(Boolean))}}if(l.every(v=>v.parentId===l[0].parentId)&&l[0].parentId!==n&&((k=c.getShape(l[0].parentId).children)==null?void 0:k.length)===o.length)return;let h=x.flattenPage(c.state,n),m=Object.fromEntries(l.map(v=>[v.id,h.indexOf(v)])),g=l.sort((v,B)=>m[v.id]-m[B.id]),f=n,y=(g.filter(v=>v.parentId===n)[0]||g[0]).childIndex,b=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(l.map(v=>x.getBounds(v)));for(s[t]=void 0,i[t]=x.getShapeUtil("group").create({id:t,childIndex:y,parentId:f,point:[b.minX,b.minY],size:[b.width,b.height],children:g.map(v=>v.id)}),g.forEach((v,B)=>{if(v.parentId!==n){let P=c.getShape(v.parentId);p.push(P)}s[v.id]=I(S({},s[v.id]),{parentId:v.parentId,childIndex:v.childIndex}),i[v.id]=I(S({},i[v.id]),{parentId:t,childIndex:B+1})});p.length>0;){let v=p.pop();if(!v)break;let B=(((H=s[v.id])==null?void 0:H.children)||v.children).filter(P=>P&&!(o.includes(P)||u.includes(P)));B.length===0?(s[v.id]=v,i[v.id]=void 0,v.parentId!==n&&(u.push(v.id),p.push(c.getShape(v.parentId)))):(s[v.id]=I(S({},s[v.id]),{children:v.children}),i[v.id]=I(S({},i[v.id]),{children:B}))}let{bindings:T}=c,w=new Set(u);return T.forEach(v=>{for(let B of[v.toId,v.fromId])if(w.has(B)){a[v.id]=v,d[v.id]=void 0;let P=c.getShape(B);P.handles&&Object.values(P.handles).filter(q=>q.bindingId===v.id).forEach(q=>{var J,Q;s[B]=I(S({},s[B]),{handles:I(S({},(J=s[B])==null?void 0:J.handles),{[q.id]:{bindingId:v.id}})}),u.includes(B)||(i[B]=I(S({},i[B]),{handles:I(S({},(Q=i[B])==null?void 0:Q.handles),{[q.id]:{bindingId:void 0}})}))})}}),{id:"group",before:{document:{pages:{[n]:{shapes:s,bindings:a}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:i,bindings:a}},pageStates:{[n]:{selectedIds:[t]}}}}}}function Kr(c,e,t,n,s){let{page:i}=c,a={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},d={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},o=new Set,l=new Set;e.map(T=>c.getShape(T,n)).filter(T=>!T.isLocked).forEach(T=>{o.add(T.id),l.add(T),T.children!==void 0&&T.children.forEach(w=>{o.add(w),l.add(c.getShape(w,n))})});let u=x.getTopChildIndex(c.state,s),p=Array.from(l.values());p.forEach((T,w)=>{if(a.before.shapes[T.id]=T,a.after.shapes[T.id]=void 0,d.before.shapes[T.id]=void 0,d.after.shapes[T.id]=T,!o.has(T.parentId)&&(d.after.shapes[T.id]=I(S({},T),{parentId:s,childIndex:u+w}),T.parentId!==n)){let k=c.getShape(T.parentId,n);a.before.shapes[k.id]={children:k.children},a.after.shapes[k.id]={children:k.children.filter(H=>H!==T.id)}}}),Object.values(i.bindings).filter(T=>o.has(T.fromId)||o.has(T.toId)).forEach(T=>{a.before.bindings[T.id]=T,a.after.bindings[T.id]=void 0;let w=c.getShape(T.fromId,n);if(o.has(T.fromId)&&o.has(T.toId))d.before.bindings[T.id]=void 0,d.after.bindings[T.id]=T;else if(o.has(T.fromId)){let H=c.getShape(T.fromId,n),B=Object.values(w.handles).find(q=>q.bindingId===T.id).id,P=d.after.shapes[H.id];P.handles=I(S({},P.handles),{[B]:I(S({},P.handles[B]),{bindingId:void 0})})}else{let H=c.getShape(T.fromId,n),v=Object.values(w.handles).find(B=>B.bindingId===T.id);a.before.shapes[H.id]={handles:{[v.id]:{bindingId:T.id}}},a.after.shapes[H.id]={handles:{[v.id]:{bindingId:void 0}}}}});let h=c.state.document.pageStates[s],m=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(p.map(T=>x.getBounds(T))),g=x.getCameraZoom(t.width<t.height?(t.width-128)/m.width:(t.height-128)/m.height),f=(t.width-m.width*g)/2/g,y=(t.height-m.height*g)/2/g,b=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add([-m.minX,-m.minY],[f,y]));return{id:"move_to_page",before:{appState:{currentPageId:n},document:{pages:{[n]:a.before,[s]:d.before},pageStates:{[n]:{selectedIds:e},[s]:{selectedIds:h.selectedIds,camera:h.camera}}}},after:{appState:{currentPageId:s},document:{pages:{[n]:a.after,[s]:d.after},pageStates:{[n]:{selectedIds:[]},[s]:{selectedIds:e,camera:{zoom:g,point:b}}}}}}}function Vr(c,e,t){let{pages:n}=c.document,s=n[e],i=Object.values(n).sort((o,l)=>{var u,p;return((u=o.childIndex)!=null?u:0)-((p=l.childIndex)!=null?p:0)}),a=i.indexOf(s),d=[...i];return d.splice(a,1),d.splice(t>a?t-1:t,0,s),{id:"move_page",before:{document:{pages:Object.fromEntries(i.map(o=>[o.id,{childIndex:o.childIndex}]))}},after:{document:{pages:Object.fromEntries(d.map((o,l)=>[o.id,{childIndex:l}]))}}}}function vn(c,e,t){let{currentPageId:n,page:s}=c,i=new Set(e.map(u=>c.getShape(u).parentId)),a={before:{},after:{}},d,o,l;return Array.from(i.values()).forEach(u=>{let p=[];if(u===s.id)p=Object.values(s.shapes).sort((g,f)=>g.childIndex-f.childIndex);else{let g=c.getShape(u);if(!g.children)throw Error("No children in parent!");p=g.children.map(f=>c.getShape(f)).sort((f,y)=>f.childIndex-y.childIndex)}let h=p.map(g=>g.id),m=e.filter(g=>h.includes(g)).map(g=>h.indexOf(g)).sort((g,f)=>g-f);if(m.length!==h.length)switch(t){case"toBack":{for(let g=0;g<h.length;g++)if(!m.includes(g)){d=g;break}o=p[d].childIndex,l=o/(m.length+1),a=x.mutateShapes(c.state,m.map(g=>p[g].id).reverse(),(g,f)=>({childIndex:o-(f+1)*l}),n);break}case"toFront":{for(let g=h.length-1;g>=0;g--)if(!m.includes(g)){d=g;break}o=p[d].childIndex,l=1,a=x.mutateShapes(c.state,m.map(g=>p[g].id),(g,f)=>({childIndex:o+(f+1)}),n);break}case"backward":{let g={};for(let f=h.length-1;f>=0;f--)if(m.includes(f)){for(let y=f;y>=0;y--)if(!m.includes(y)){let b=p[y].childIndex,T,w;y===0?(T=b/2,w=b/2/(f-y+1)):(T=p[y-1].childIndex,w=(b-T)/(f-y+1),T+=w);for(let k=0;k<f-y;k++)g[p[y+k+1].id]=T+w*k;break}}Object.values(g).length>0&&(a=x.mutateShapes(c.state,m.map(f=>p[f].id),f=>({childIndex:g[f.id]}),n));break}case"forward":{let g={};for(let f=0;f<h.length;f++)if(m.includes(f)){for(let y=f;y<h.length;y++)if(!m.includes(y)){o=p[y].childIndex;let b=y===h.length-1?1:(p[y+1].childIndex-o)/(y-f+1);for(let T=0;T<y-f;T++)g[p[f+T].id]=o+b*(T+1);break}}Object.values(g).length>0&&(a=x.mutateShapes(c.state,m.map(f=>p[f].id),f=>({childIndex:g[f.id]}),n));break}}}),{id:"move",before:{document:{pages:{[n]:{shapes:a.before}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:a.after}},pageStates:{[n]:{selectedIds:e}}}}}}function Wr(c,e,t){let{page:n}=c;return{id:"rename_page",before:{document:{pages:{[e]:{name:n.name}}}},after:{document:{pages:{[e]:{name:t}}}}}}function go(c,e,t){let{currentPageId:n}=c,{before:s,after:i}=x.mutateShapes(c.state,e,a=>{var d,o;return(o=(d=c.getShapeUtil(a)).onDoubleClickBoundsHandle)==null?void 0:o.call(d,a)},t);return{id:"reset_bounds",before:{document:{pages:{[n]:{shapes:s}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:i}},pageStates:{[n]:{selectedIds:e}}}}}}var zV=Math.PI*2;function Yr(c,e,t=-zV/4){let{currentPageId:n}=c,s={},i={},a=e.flatMap(o=>{let l=c.getShape(o);return l.children?l.children.map(u=>c.getShape(u)):l}).filter(o=>!o.isLocked),d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(a.map(o=>x.getBounds(o))));return a.forEach(o=>{let l=x.getRotatedShapeMutation(o,x.getCenter(o),d,t);!l||(s[o.id]=x.getBeforeShape(o,l),i[o.id]=l)}),{id:"rotate",before:{document:{pages:{[n]:{shapes:s}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:i}},pageStates:{[n]:{selectedIds:e}}}}}}function Xr(c,e,t){let{currentPageId:n,selectedIds:s}=c,i=e.map(p=>c.getShape(p)),a=i.map(p=>x.getBounds(p)),d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(a),o=e.flatMap(p=>{let h=c.getShape(p);return h.children?h.children:h.id}).filter(p=>!c.getShape(p).isLocked),{before:l,after:u}=x.mutateShapes(c.state,o,p=>{let h=x.getBounds(p);switch(t){case"horizontal":{let m=I(S({},h),{minX:d.minX,maxX:d.maxX,width:d.width});return x.getShapeUtil(p).transformSingle(p,m,{type:_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.TopLeft,scaleX:m.width/h.width,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}case"vertical":{let m=I(S({},h),{minY:d.minY,maxY:d.maxY,height:d.height});return x.getShapeUtil(p).transformSingle(p,m,{type:_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.TopLeft,scaleX:1,scaleY:m.height/h.height,initialShape:p,transformOrigin:[.5,.5]})}}},n);return i.forEach(p=>{p.type==="group"&&(delete l[p.id],delete u[p.id])}),{id:"stretch",before:{document:{pages:{[n]:{shapes:l}},pageStates:{[n]:{selectedIds:s}}}},after:{document:{pages:{[n]:{shapes:u}},pageStates:{[n]:{selectedIds:e}}}}}}function Zr(c,e,t){let{currentPageId:n,selectedIds:s}=c,i=e.flatMap(o=>x.getDocumentBranch(c.state,o,n)).filter(o=>!c.getShape(o).isLocked),a={},d={};return i.map(o=>c.getShape(o)).filter(o=>!o.isLocked).forEach(o=>{a[o.id]={style:S({},Object.fromEntries(Object.keys(t).map(l=>[l,o.style[l]])))},d[o.id]={style:t},o.type==="text"&&(a[o.id].point=o.point,d[o.id].point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(o.point,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(c.getShapeUtil(o).getCenter(o),c.getShapeUtil(o).getCenter(I(S({},o),{style:S(S({},o.style),t)}))))))}),{id:"style",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:s}}},appState:{currentStyle:S({},c.appState.currentStyle)}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:e}}},appState:{currentStyle:t}}}}function qr(c,e,t){let{currentPageId:n,selectedIds:s}=c,i=Object.fromEntries(e.map(d=>{var o;return[d,{decorations:{[t]:(o=c.getShape(d).decorations)==null?void 0:o[t]}}]})),a=Object.fromEntries(e.filter(d=>!c.getShape(d).isLocked).map(d=>{var o;return[d,{decorations:{[t]:((o=c.getShape(d).decorations)==null?void 0:o[t])?void 0:"arrow"}}]}));return{id:"toggle_decorations",before:{document:{pages:{[n]:{shapes:i}},pageStates:{[n]:{selectedIds:s}}}},after:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:e}}}}}}function ds(c,e,t){let{currentPageId:n}=c,s=e.map(o=>c.getShape(o)).filter(o=>t==="isLocked"?!0:!o.isLocked),i=s.every(o=>o[t]),a={},d={};return s.forEach(o=>{a[o.id]={[t]:o[t]},d[o.id]={[t]:!i}}),{id:"toggle",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:e}}}}}}function Jr(c,e,t){let{currentPageId:n,selectedIds:s}=c;c.rotationInfo.selectedIds=[...s];let i={shapes:{},bindings:{}},a={shapes:{},bindings:{}},d=e.flatMap(u=>{let p=c.getShape(u);return p.children?p.children:p.id}).filter(u=>!c.getShape(u).isLocked),o=x.mutateShapes(c.state,d,u=>({point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(u.point,t))}),n);return i.shapes=o.before,a.shapes=o.after,x.getBindings(c.state,n).filter(u=>e.includes(u.fromId)&&!e.includes(u.toId)).forEach(u=>{i.bindings[u.id]=u,a.bindings[u.id]=void 0;for(let p of[u.toId,u.fromId]){let h=c.getShape(p);!h.handles||Object.values(h.handles).filter(m=>m.bindingId===u.id).forEach(m=>{var g,f;i.shapes[p]=I(S({},i.shapes[p]),{handles:I(S({},(g=i.shapes[p])==null?void 0:g.handles),{[m.id]:{bindingId:u.id}})}),a.shapes[p]=I(S({},a.shapes[p]),{handles:I(S({},(f=a.shapes[p])==null?void 0:f.handles),{[m.id]:{bindingId:void 0}})})})}}),{id:"translate",before:{document:{pages:{[n]:i},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:a},pageStates:{[n]:{selectedIds:e}}}}}}function ea(c,e,t,n){let{bindings:s}=c,i={},a={},d={},o={},l=e,u=e.filter(p=>!t.find(h=>h.id===p));return t.filter(p=>!p.isLocked).forEach(p=>{let h=[],m=[];i[p.id]=p,a[p.id]=void 0,p.children.forEach(T=>{u.push(T);let w=c.getShape(T,n);h.push(w)});let g=p.childIndex,y=(x.getChildIndexAbove(c.state,p.id,n)-g)/h.length;h.sort((T,w)=>T.childIndex-w.childIndex).forEach((T,w)=>{i[T.id]={parentId:T.parentId,childIndex:T.childIndex},a[T.id]={parentId:n,childIndex:g+y*w}}),s.filter(T=>T.toId===p.id||T.fromId===p.id).forEach(T=>{for(let w of[T.toId,T.fromId])if(a[w]===void 0){d[T.id]=T,o[T.id]=void 0;let k=c.getShape(w,n);k.handles&&Object.values(k.handles).filter(H=>H.bindingId===T.id).forEach(H=>{var v,B;i[w]=I(S({},i[w]),{handles:I(S({},(v=i[w])==null?void 0:v.handles),{[H.id]:{bindingId:T.id}})}),m.includes(w)||(a[w]=I(S({},a[w]),{handles:I(S({},(B=a[w])==null?void 0:B.handles),{[H.id]:{bindingId:void 0}})}))})}})}),{id:"ungroup",before:{document:{pages:{[n]:{shapes:i,bindings:d}},pageStates:{[n]:{selectedIds:l}}}},after:{document:{pages:{[n]:{shapes:a,bindings:d}},pageStates:{[n]:{selectedIds:u}}}}}}function So(c,e,t){let n=e.map(i=>i.id),s=x.mutateShapes(c.state,n.filter(i=>!c.getShape(i,t).isLocked),(i,a)=>e[a],t);return{id:"update",before:{document:{pages:{[t]:{shapes:s.before}}}},after:{document:{pages:{[t]:{shapes:s.after}}}}}}function ta(c,e,t){let{currentPageId:n,selectedIds:s}=c,i=e.map(l=>c.getShape(l)).filter(l=>t.isLocked?!0:!l.isLocked),a={},d={},o=Object.keys(t);return i.forEach(l=>{a[l.id]=Object.fromEntries(o.map(u=>[u,l[u]])),d[l.id]=t}),{id:"set_props",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:s}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:s}}}}}}function na(c,e,t={}){let{currentPageId:n}=c,{point:s,select:i,overwrite:a}=t,d=c.document.pages[n],o={shapes:{},bindings:{}},l={},u={shapes:{},bindings:{}};if(a){for(let h of e.shapes)o.shapes[h.id]=d.shapes[h.id],u.shapes[h.id]=h;if(e.bindings)for(let h of e.bindings)o.bindings[h.id]=d.bindings[h.id],u.bindings[h.id]=h;if(e.assets)for(let h of e.assets)l[h.id]=h}else{let h={},m=x.getTopChildIndex(c.state,n),g=e.shapes.sort((b,T)=>b.childIndex-T.childIndex).map(b=>{let T=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId();return h[b.id]=T,I(S({},_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepClone(b)),{id:T})}),f=new Set;for(;g.length>0;){let b=g.shift();if(!b)break;if(f.add(b.id),b.parentId==="currentPageId")b.parentId=n,b.childIndex=m++;else{b.parentId=h[b.parentId];let T=u.shapes[b.parentId];if(!T){f.has(b.id)&&(b.parentId="currentPageId"),g.push(b);continue}T.children.push(b.id)}b.children&&(b.children=[]),o.shapes[b.id]=void 0,u.shapes[b.id]=b}Object.values(u.shapes).forEach(b=>{b.children&&b.children.length===0&&(delete o.shapes[b.id],delete u.shapes[b.id])}),e.bindings&&e.bindings.forEach(b=>{let T=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId();h[b.id]=T;let w=h[b.toId],k=h[b.fromId];if(!w||!k){if(k){let P=u.shapes[k].handles;P&&Object.values(P).forEach(q=>{q.bindingId===b.id&&(q.bindingId=void 0)})}if(w){let P=u.shapes[w].handles;P&&Object.values(P).forEach(q=>{q.bindingId===b.id&&(q.bindingId=void 0)})}return}let H=u.shapes[k].handles;H&&Object.values(H).forEach(P=>{P.bindingId===b.id&&(P.bindingId=T)}),u.shapes[w].handles&&Object.values(u.shapes[w].handles).forEach(P=>{P.bindingId===b.id&&(P.bindingId=T)});let B=I(S({},_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepClone(b)),{id:T,toId:w,fromId:k});o.bindings[B.id]=void 0,u.bindings[B.id]=B});let y=Object.values(u.shapes);if(y.length>0)if(s){let b=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(y.map(w=>x.getBounds(w))),T=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(b);y.forEach(w=>{!w.point||(w.point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(s,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(T,w.point)))})}else{let b=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(y.map(x.getBounds));if(!(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(c.viewport,b)||_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsCollide(c.viewport,b))){let T=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(c.getPagePoint(c.centerPoint)),w=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.centerBounds(b,T),k=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(w),_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(b));y.forEach(H=>{H.point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(H.point,k))})}}if(e.assets)for(let b of e.assets)l[b.id]=b}let p=document.createElement("textarea");return Object.values(u.shapes).forEach(h=>{"text"in h&&(p.innerHTML=h.text,h.text=p.value),"label"in h&&(p.innerHTML=h.label,h.label=p.value)}),p.remove(),{id:"insert",before:{document:{pages:{[n]:o},pageStates:{[n]:{selectedIds:[...c.selectedIds]}}}},after:{document:{pages:{[n]:u},assets:l,pageStates:{[n]:{selectedIds:i?Object.keys(u.shapes):[...c.selectedIds]}}}}}}var cn={};No(cn,{fileToBase64:()=>Io,fileToText:()=>xo,getImageSizeFromSrc:()=>vo,getVideoSizeFromSrc:()=>Po,loadFileHandle:()=>To,migrate:()=>ft,openAssetsFromFileSystem:()=>wo,openFromFileSystem:()=>bo,saveFileHandle:()=>yo,saveToFileSystem:()=>ls});function ft(c,e){let{document:t,settings:n}=c,{version:s=0}=t;"assets"in t||(t.assets={});let i=new Set;return Object.values(t.pages).forEach(a=>Object.values(a.shapes).forEach(d=>{let{parentId:o,children:l,assetId:u}=d;u&&i.add(u),o!==a.id&&!a.shapes[o]&&(console.warn("Encountered a shape with a missing parent!"),d.parentId=a.id),d.type==="group"&&l&&l.forEach(p=>{a.shapes[p]||(console.warn("Encountered a parent with a missing child!",d.id,p),l==null||l.splice(l.indexOf(p),1))})})),Object.keys(t.assets).forEach(a=>{i.has(a)||delete t.assets[a]}),s===e||(s<14&&Object.values(t.pages).forEach(a=>{Object.values(a.shapes).filter(d=>d.type==="text").forEach(d=>d.style.font==="script")}),s<=13&&Object.values(t.pages).forEach(a=>{Object.values(a.bindings).forEach(d=>{Object.assign(d,d.meta)}),Object.values(a.shapes).forEach(d=>{Object.entries(d.style).forEach(([o,l])=>{typeof l=="string"&&(d.style[o]=l.toLowerCase())}),d.type==="arrow"&&d.decorations&&Object.entries(d.decorations).forEach(([o,l])=>{l==="Arrow"&&(d.decorations=I(S({},d.decorations),{[o]:"arrow"}))})})}),s<=13.1&&(t.name="New Document"),s<15&&(t.assets={}),Object.values(t.pages).forEach(a=>{Object.values(a.shapes).forEach(d=>{s<15.2&&(d.type==="image"||d.type==="video")&&(d.style.isFilled=!0),s<15.3&&(d.type==="rectangle"||d.type==="triangle"||d.type==="ellipse"||d.type==="arrow")&&(d.label=d.text||"",d.labelPoint=[.5,.5])})}),s<15.4&&(n.dockPosition="bottom"),s<15.5&&(n.exportBackground="transparent"),Object.values(t.pageStates).forEach(a=>{a.selectedIds=a.selectedIds.filter(d=>t.pages[a.id].shapes[d]!==void 0),a.bindingId=void 0,a.editingId=void 0,a.hoveredId=void 0,a.pointedId=void 0}),t.version=e),c}var sa={mode:"readwrite"},KV=c=>ie(void 0,null,function*(){return(yield c.queryPermission(sa))==="granted"||(yield c.requestPermission(sa))==="granted"});function To(){return ie(this,null,function*(){if(typeof Window=="undefined"||!("_location"in Window))return;let c=yield (0,idb_keyval__WEBPACK_IMPORTED_MODULE_8__/* .get */ .U2)(`Tldraw_file_handle_${window.location.origin}`);return c||null})}function yo(c){return ie(this,null,function*(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_8__/* .set */ .t8)(`Tldraw_file_handle_${window.location.origin}`,c)})}function ls(c,e,t){return ie(this,null,function*(){let n={name:c.name||"New Document",fileHandle:e!=null?e:null,document:c,assets:{}},s=JSON.stringify(n,null,2),i=new Blob([s],{type:"application/vnd.Tldraw+json"});if(e&&!(yield KV(e)))return null;let a=!browser_fs_access__WEBPACK_IMPORTED_MODULE_11__.supported&&(t==null?void 0:t.length)?t:`${n.name}`,d=yield (0,browser_fs_access__WEBPACK_IMPORTED_MODULE_11__.fileSave)(i,{fileName:`${a}${_n}`,description:"Tldraw File",extensions:[`${_n}`]},e);return yield yo(d),d})}function bo(){return ie(this,null,function*(){var s;let c=yield (0,browser_fs_access__WEBPACK_IMPORTED_MODULE_11__.fileOpen)({description:"Tldraw File",extensions:[`${_n}`],multiple:!1});if(!c)return null;let e=yield new Promise(i=>{let a=new FileReader;a.onloadend=()=>{a.readyState===FileReader.DONE&&i(a.result)},a.readAsText(c,"utf8")}),t=JSON.parse(e),n=(s=c.handle)!=null?s:null;return yield yo(n),{fileHandle:n,document:t.document}})}function wo(){return ie(this,null,function*(){return (0,browser_fs_access__WEBPACK_IMPORTED_MODULE_11__.fileOpen)({description:"Image or Video",extensions:[...Yn,...$n],multiple:!0})})}function Io(c){return new Promise((e,t)=>{if(c){let n=new FileReader;n.readAsDataURL(c),n.onload=()=>e(n.result),n.onerror=s=>t(s),n.onabort=s=>t(s)}})}function xo(c){return new Promise((e,t)=>{if(c){let n=new FileReader;n.readAsText(c),n.onload=()=>e(n.result),n.onerror=s=>t(s),n.onabort=s=>t(s)}})}function vo(c){return new Promise((e,t)=>{let n=new Image;n.onload=()=>e([n.width,n.height]),n.onerror=()=>t(new Error("Could not get image size")),n.src=c})}function Po(c){return new Promise((e,t)=>{let n=document.createElement("video");n.onloadedmetadata=()=>e([n.videoWidth,n.videoHeight]),n.onerror=()=>t(new Error("Could not get video size")),n.src=c})}Gn(cn,browser_fs_access__WEBPACK_IMPORTED_MODULE_11__);var ye=class{constructor(e){this.app=e}};var ko=class extends ye{constructor(e,t,n,s=!1){super(e);r(this,"type","arrow");r(this,"performanceMode");r(this,"status","translatingHandle");r(this,"newStartBindingId",_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId());r(this,"draggedBindingId",_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId());r(this,"didBind",!1);r(this,"initialShape");r(this,"handleId");r(this,"bindableShapeIds");r(this,"initialBinding");r(this,"startBindingShapeId");r(this,"isCreate");r(this,"start",()=>{});r(this,"update",()=>{var H,v,B;let{initialShape:e}=this,{currentPoint:t,shiftKey:n,altKey:s,metaKey:i,currentGrid:a,settings:{showGrid:d}}=this.app,o=this.app.getShape(e.id);if(o.isLocked)return;let{handles:l}=e,u=this.handleId;if(!l[u].canBind)return;let p=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(l[u].point,e.point));if(n){let P=s?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.med(l.start.point,l.end.point):l[u==="start"?"end":"start"].point,q=l[u].point,J=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(q,p),Q=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.angle(P,J),we=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.rotWith(J,P,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.snapAngleToSegments(Q,24)-Q);p=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(p,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(we,J))}let h=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(l[u].point,p),m={[u]:I(S({},l[u]),{point:d?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.snap(h,a):_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(h),bindingId:void 0})},g=At["arrow"],f=(H=g.onHandleChange)==null?void 0:H.call(g,e,m);if(!f)return;let y={shape:_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge(o,f),bindings:{}},b,T=y.shape.handles[this.handleId],w=y.shape.handles[this.handleId==="start"?"end":"start"];if(this.startBindingShapeId){let P,q=this.app.page.shapes[this.startBindingShapeId],J=x.getShapeUtil(q),Q=J.getCenter(q),we=y.shape.handles.start,pe=y.shape.handles.end,ue=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(we.point,y.shape.point);_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.isEqual(ue,Q)&&ue[1]++;let Re=Q,Ke=J.hitTestPoint(q,t),Tt=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.uni(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(ue,Re)),et=this.app.getBinding(this.newStartBindingId)!==void 0;!i&&!J.hitTestPoint(q,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(y.shape.point,pe.point))&&(P=this.findBindingPoint(o,q,"start",this.newStartBindingId,Q,Re,Tt,Ke)),P&&!et?(this.didBind=!0,y.bindings[this.newStartBindingId]=P,y.shape=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge(y.shape,{handles:{start:{bindingId:P.id}}})):!P&&et&&(this.didBind=!1,y.bindings[this.newStartBindingId]=void 0,y.shape=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge(e,{handles:{start:{bindingId:void 0}}}))}if(!i){let P=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(w.point,y.shape.point),q=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(T.point,y.shape.point),J=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.uni(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(q,P)),Q=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(y.shape.point,y.shape.handles.start.point),we=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(y.shape.point,y.shape.handles.end.point),pe=this.bindableShapeIds.map(ue=>this.app.page.shapes[ue]).sort((ue,Re)=>Re.childIndex-ue.childIndex).filter(ue=>{if(ue.isLocked)return!1;let Re=x.getShapeUtil(ue);return![Q,we].every(Ke=>Re.hitTestPoint(ue,Ke))});for(let ue of pe)if(b=this.findBindingPoint(o,ue,this.handleId,this.draggedBindingId,q,P,J,s),b)break}if(b)this.didBind=!0,y.bindings[this.draggedBindingId]=b,y.shape=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge(y.shape,{handles:{[this.handleId]:{bindingId:this.draggedBindingId}}});else{this.didBind=this.didBind||!1;let P=o.handles[this.handleId].bindingId;P!==void 0&&(y.bindings[P]=void 0,y.shape=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepMerge(y.shape,{handles:{[this.handleId]:{bindingId:void 0}}}))}let k=(B=(v=x.getShapeUtil(y.shape)).onHandleChange)==null?void 0:B.call(v,y.shape,y.shape.handles);return{document:{pages:{[this.app.currentPageId]:{shapes:{[o.id]:S(S({},y.shape),k!=null?k:{})},bindings:y.bindings}},pageStates:{[this.app.currentPageId]:{bindingId:y.shape.handles[u].bindingId}}}}});r(this,"cancel",()=>{let{initialShape:e,initialBinding:t,newStartBindingId:n,draggedBindingId:s}=this,i=x.onSessionComplete(this.app.page.shapes[e.id]),a=this.isCreate||_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(i.handles.start.point,i.handles.end.point)<4,d={};return d[s]=void 0,t&&(d[t.id]=a?void 0:t),n&&(d[n]=void 0),{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:a?void 0:e},bindings:d}},pageStates:{[this.app.currentPageId]:{selectedIds:a?[]:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}});r(this,"complete",()=>{let{initialShape:e,initialBinding:t,newStartBindingId:n,startBindingShapeId:s,handleId:i}=this,a=x.onSessionComplete(this.app.page.shapes[e.id]),d=a.handles[i].bindingId,o=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(a.handles.start.point,a.handles.end.point);if(!(d||t)&&o<4)return this.cancel();let l={},u={};return t&&(l[t.id]=this.isCreate?void 0:t,u[t.id]=void 0),d&&(l[d]=void 0,u[d]=this.app.page.bindings[d]),s&&(l[n]=void 0,u[n]=this.app.page.bindings[n]),{id:"arrow",before:{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:this.isCreate?void 0:e},bindings:l}},pageStates:{[this.app.currentPageId]:{selectedIds:this.isCreate?[]:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}},after:{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:a},bindings:u}},pageStates:{[this.app.currentPageId]:{selectedIds:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}}});r(this,"findBindingPoint",(e,t,n,s,i,a,d,o)=>{let u=x.getShapeUtil(t.type).getBindingPoint(t,e,i,a,d,o);if(!!u)return{id:s,type:"arrow",fromId:e.id,toId:t.id,handleId:n,point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(u.point),distance:u.distance}});var l,u,p;this.isCreate=s;let{currentPageId:i}=e.state.appState,a=e.state.document.pages[i];this.handleId=n,this.initialShape=Me(a.shapes[t]),this.bindableShapeIds=x.getBindableShapeIds(e.state).filter(h=>!(h===this.initialShape.id||h===this.initialShape.parentId));let d=(l=this.initialShape.handles[n==="start"?"end":"start"])==null?void 0:l.bindingId;if(d){let h=(u=a.bindings[d])==null?void 0:u.toId;h&&(this.bindableShapeIds=this.bindableShapeIds.filter(m=>m!==h))}let{originPoint:o}=this.app;if(this.isCreate)this.startBindingShapeId=(p=this.bindableShapeIds.map(h=>a.shapes[h]).filter(h=>!h.isLocked&&_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.pointInBounds(o,x.getShapeUtil(h).getBounds(h))).sort((h,m)=>m.childIndex-h.childIndex)[0])==null?void 0:p.id,this.startBindingShapeId&&this.bindableShapeIds.splice(this.bindableShapeIds.indexOf(this.startBindingShapeId),1);else{let h=this.initialShape.handles[this.handleId].bindingId;h?this.initialBinding=a.bindings[h]:this.initialShape.handles[this.handleId].bindingId=void 0}}};var Do=class extends ye{constructor(e){super(e);r(this,"type","brush");r(this,"performanceMode");r(this,"status","brushing");r(this,"initialSelectedIds");r(this,"shapesToTest");r(this,"start",()=>{});r(this,"update",()=>{let{initialSelectedIds:e,shapesToTest:t,app:{metaKey:n,settings:s,originPoint:i,currentPoint:a}}=this,d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints([i,a]),o=s.isCadSelectMode?!n&&i[0]<a[0]:n,l=new Set,u=new Set(e);t.forEach(({id:g,selectId:f})=>{let y=this.app.getShape(g);if(!l.has(f)){let b=this.app.getShapeUtil(y);(o?_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(d,b.getBounds(y)):b.hitTestBounds(y,d))?(l.add(f),u.has(f)||u.add(f)):u.has(f)&&u.delete(f)}});let p=this.app.selectedIds,h=u.size!==p.length||p.some(g=>!u.has(g)),m=h?Array.from(u.values()):p;return h?{appState:{selectByContain:o},document:{pageStates:{[this.app.currentPageId]:{brush:d,selectedIds:m}}}}:{appState:{selectByContain:o},document:{pageStates:{[this.app.currentPageId]:{brush:d}}}}});r(this,"cancel",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:Array.from(this.initialSelectedIds.values())}}}}));r(this,"complete",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:[...this.app.selectedIds]}}}}));let{currentPageId:t}=e;this.initialSelectedIds=new Set(this.app.selectedIds),this.shapesToTest=this.app.shapes.filter(n=>!(n.isLocked||n.isHidden||n.parentId!==t||this.initialSelectedIds.has(n.id)||this.initialSelectedIds.has(n.parentId))).map(n=>({id:n.id,bounds:this.app.getShapeUtil(n).getBounds(n),selectId:n.id})),this.update()}};var Eo=class extends ye{constructor(e,t){super(e);r(this,"type","draw");r(this,"performanceMode");r(this,"status","creating");r(this,"topLeft");r(this,"points");r(this,"initialShape");r(this,"lastAdjustedPoint");r(this,"shiftedPoints",[]);r(this,"shapeId");r(this,"isLocked");r(this,"isExtending");r(this,"lockedDirection");r(this,"start",()=>{var i;let e=this.app.originPoint,t=[0,0,(i=e[2])!=null?i:.5];this.points.push(t);let n=[Math.min(this.topLeft[0],e[0]),Math.min(this.topLeft[1],e[1])],s=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(n,e);return this.topLeft=n,this.shiftedPoints=this.points.map(a=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(a,s)).concat(a[2])),{document:{pages:{[this.app.currentPageId]:{shapes:{[this.shapeId]:{point:this.topLeft,points:this.shiftedPoints}}}},pageStates:{[this.app.currentPageId]:{selectedIds:[this.shapeId]}}}}});r(this,"update",()=>{let{shapeId:e}=this,{currentPoint:t,originPoint:n,shiftKey:s,zoom:i}=this.app;if(!this.lockedDirection&&this.points.length>1){let d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,n);_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.len(d)>3/i&&(this.lockedDirection=Math.abs(d[0])>Math.abs(d[1])?"horizontal":"vertical")}if(s){if(!this.isLocked&&this.points.length>2){if(!this.lockedDirection){let o=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t,n);_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.len(o)>3/i&&(this.lockedDirection=Math.abs(o[0])>Math.abs(o[1])?"horizontal":"vertical")}this.isLocked=!0;let d=[...this.lastAdjustedPoint];this.lockedDirection==="vertical"?d[0]=0:d[1]=0,this.points.push(d.concat(t[2]))}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?t[0]=n[0]:t[1]=n[1]);let a=this.addPoint(t);if(!!a)return{document:{pages:{[this.app.currentPageId]:{shapes:{[e]:a}}},pageStates:{[this.app.currentPageId]:{selectedIds:[e]}}}}});r(this,"cancel",()=>{let{shapeId:e}=this,t=this.app.currentPageId;return{document:{pages:{[t]:{shapes:{[e]:this.isExtending?this.initialShape:void 0}}},pageStates:{[t]:{selectedIds:[]}}}}});r(this,"complete",()=>{let{shapeId:e}=this,t=this.app.currentPageId,n=this.app.getShape(e);return{id:"create_draw",before:{document:{pages:{[t]:{shapes:{[e]:this.isExtending?this.initialShape:void 0}}},pageStates:{[t]:{selectedIds:[]}}}},after:{document:{pages:{[t]:{shapes:{[e]:I(S({},n),{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(n.point),points:n.points.map(s=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(s)),isComplete:!0})}}},pageStates:{[this.app.currentPageId]:{selectedIds:[]}}}}}});r(this,"addPoint",e=>{let{originPoint:t}=this.app,n=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(e,t)).concat(e[2]);if(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.isEqual(this.lastAdjustedPoint,n))return;this.points.push(n),this.lastAdjustedPoint=n;let s=[...this.topLeft],i=[Math.min(this.topLeft[0],e[0]),Math.min(this.topLeft[1],e[1])],a=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(i,t),d;return s[0]!==i[0]||s[1]!==i[1]?(this.topLeft=i,d=this.points.map(o=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(o,a)).concat(o[2]))):d=[...this.shiftedPoints,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(n,a).concat(n[2])],this.shiftedPoints=d,{point:this.topLeft,points:d}});var o;let{originPoint:n}=this.app;this.shapeId=t,this.initialShape=this.app.getShape(t),this.topLeft=[...this.initialShape.point];let s=[0,0,(o=n[2])!=null?o:.5],i=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(n,this.topLeft),a=this.initialShape.points.map(l=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(l,i).concat(l[2]));this.isExtending=a.length>0;let d=[];if(this.isExtending){let l=a[a.length-1];if(l){d.push(l,l);let u=Math.floor(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(l,s)/16);if(u>1)for(let p=0;p<u;p++){let h=p/(u-1);d.push(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.lrp(l,s,h).concat(l[2]))}else d.push(s,s)}}else d.push(s);this.points=[...a,...d],this.shiftedPoints=this.points.map(l=>_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(l,i).concat(l[2])),this.lastAdjustedPoint=this.points[this.points.length-1]}};var Co=class extends ye{constructor(e,t,n){super(e);r(this,"type","edit");r(this,"performanceMode");r(this,"initialShape");r(this,"initialSelectedIds");r(this,"currentPageId");r(this,"isCreating");r(this,"start",()=>{});r(this,"update",()=>{});r(this,"cancel",()=>({document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}}));r(this,"complete",()=>{let e=this.app.getShape(this.initialShape.id);return{id:"edit",before:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}},after:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:e}}},pageStates:{[this.currentPageId]:{selectedIds:[e.id],editingId:void 0}}}}}});this.initialShape=e.getShape(t,e.currentPageId),this.currentPageId=e.currentPageId,this.isCreating=n,this.initialSelectedIds=[...e.selectedIds]}};var Bo=class extends ye{constructor(e){super(e);r(this,"type","draw");r(this,"performanceMode");r(this,"status","creating");r(this,"isLocked");r(this,"lockedDirection");r(this,"erasedShapes",new Set);r(this,"erasedBindings",new Set);r(this,"initialSelectedShapes");r(this,"erasableShapes");r(this,"prevPoint");r(this,"prevEraseShapesSize",0);r(this,"interval");r(this,"timestamp1",0);r(this,"timestamp2",0);r(this,"prevErasePoint",[]);r(this,"loop",()=>{let e=Date.now(),t=e-this.timestamp1,n=e-this.timestamp2,{eraseLine:s}=this.app.appState,i=[...s],a=!1;t>16&&this.prevErasePoint!==this.prevPoint&&(a=!0,i=[...s,this.prevPoint],this.prevErasePoint=this.prevPoint),n>32&&i.length>1&&(a=!0,i.splice(0,Math.ceil(i.length*.1)),this.timestamp2=e),a&&this.app.patchState({appState:{eraseLine:i}},"eraseline"),this.interval=requestAnimationFrame(this.loop)});r(this,"start",()=>{});r(this,"update",()=>{let{page:e,shiftKey:t,originPoint:n,currentPoint:s,zoom:i}=this.app;if(t){let l=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(s,n);if(!this.isLocked&&_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.len(l)>3/i){if(!this.lockedDirection){let u=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(s,n);this.lockedDirection=Math.abs(u[0])>Math.abs(u[1])?"horizontal":"vertical"}this.isLocked=!0}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?s[0]=n[0]:s[1]=n[1]);let a=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(n,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(s,n))),d=new Set([]);this.erasableShapes.forEach(l=>{if(!this.erasedShapes.has(l)&&this.app.getShapeUtil(l).hitTestLineSegment(l,this.prevPoint,a)&&(this.erasedShapes.add(l),d.add(l.id),l.children!==void 0))for(let u of l.children)this.erasedShapes.add(this.app.getShape(u)),d.add(u)}),Object.values(e.bindings).forEach(l=>{for(let u of[l.toId,l.fromId])d.has(u)&&this.erasedBindings.add(l)}),this.erasedShapes.forEach(l=>{this.app.getShape(l.id)||(this.erasedShapes.delete(l),this.erasableShapes.delete(l),d.delete(l.id))});let o=Array.from(this.erasedShapes.values());if(this.prevPoint=a,o.length!==this.prevEraseShapesSize)return this.prevEraseShapesSize=o.length,{document:{pages:{[e.id]:{shapes:Object.fromEntries(o.map(l=>[l.id,{isGhost:!0}]))}}}}});r(this,"cancel",()=>{let{page:e}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(n=>{this.app.getShape(n.id)||(this.erasedShapes.delete(n),this.erasableShapes.delete(n))});let t=Array.from(this.erasedShapes.values());return{document:{pages:{[e.id]:{shapes:Object.fromEntries(t.map(n=>[n.id,{isGhost:!1}]))}},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.map(n=>n.id)}}},appState:{eraseLine:[]}}});r(this,"complete",()=>{let{page:e}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(o=>{this.app.getShape(o.id)||(this.erasedShapes.delete(o),this.erasableShapes.delete(o))}),this.erasedBindings.forEach(o=>{this.app.getBinding(o.id)||this.erasedBindings.delete(o)});let t=Array.from(this.erasedShapes.values()),n=Array.from(this.erasedBindings.values()),s=t.map(o=>o.id),i=n.map(o=>o.id),a={shapes:Object.fromEntries(t.map(o=>[o.id,o])),bindings:Object.fromEntries(n.map(o=>[o.id,o]))},d={shapes:Object.fromEntries(t.map(o=>[o.id,void 0])),bindings:Object.fromEntries(n.map(o=>[o.id,void 0]))};return this.app.shapes.forEach(o=>{o.handles&&!d.shapes[o.id]&&Object.values(o.handles).forEach(l=>{var u,p;l.bindingId&&i.includes(l.bindingId)&&(a.shapes[o.id]=I(S({},a.shapes[o.id]),{handles:I(S({},(u=a.shapes[o.id])==null?void 0:u.handles),{[l.id]:l})}),s.includes(o.id)||(d.shapes[o.id]=I(S({},d.shapes[o.id]),{handles:I(S({},(p=d.shapes[o.id])==null?void 0:p.handles),{[l.id]:I(S({},l),{bindingId:void 0})})})))})}),{id:"erase",before:{document:{pages:{[e.id]:a},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.filter(o=>!!this.app.getShape(o.id)).map(o=>o.id)}}},appState:{eraseLine:[]}},after:{document:{pages:{[e.id]:d},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.filter(o=>!!this.app.getShape(o.id)).filter(o=>!s.includes(o.id)).map(o=>o.id)}}},appState:{eraseLine:[]}}}});this.prevPoint=[...e.originPoint],this.initialSelectedShapes=this.app.selectedIds.map(t=>this.app.getShape(t)),this.erasableShapes=new Set(this.app.shapes.filter(t=>!t.isLocked)),this.interval=this.loop()}};var Lo=class extends ye{constructor(e,t){super(e);r(this,"type","grid");r(this,"performanceMode");r(this,"status","translating");r(this,"shape");r(this,"bounds");r(this,"initialSelectedIds");r(this,"initialSiblings");r(this,"grid",{});r(this,"columns",1);r(this,"rows",1);r(this,"isCopying",!1);r(this,"start",()=>{});r(this,"update",()=>{let{currentPageId:e,altKey:t,shiftKey:n,currentPoint:s}=this.app,i={},a={},d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(this.bounds),o=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(s,d);n&&(Math.abs(o[0])<Math.abs(o[1])?o[0]=0:o[1]=0);let l=this.bounds.width+32,u=this.bounds.height+32,p=Math.ceil(o[0]/l),h=Math.ceil(o[1]/u),m=Math.min(p,0),g=Math.min(h,0),f=Math.max(p,1),y=Math.max(h,1),b=new Set,T=t;T!==this.isCopying&&(Object.values(this.grid).filter(w=>w!==this.shape.id).forEach(w=>i[w]=void 0),this.grid={"0_0":this.shape.id},this.isCopying=T);for(let w=m;w<f;w++)for(let k=g;k<y;k++){let H=`${w}_${k}`;if(b.add(H),this.grid[H]||w===0&&k===0)continue;let v=this.getClone(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(this.shape.point,[w*l,k*u]),T);i[v.id]=v,this.grid[H]=v.id}if(Object.entries(this.grid).forEach(([w,k])=>{b.has(w)||(i[k]=void 0,delete this.grid[w])}),Object.values(i).length!==0)return this.initialSiblings&&(i[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),{document:{pages:{[e]:{shapes:i}},pageStates:{[e]:a}}}});r(this,"cancel",()=>{let{currentPageId:e}=this.app,t={};return Object.values(this.grid).forEach(n=>{t[n]=void 0}),t[this.shape.id]=I(S({},t[this.shape.id]),{point:this.shape.point}),this.initialSiblings&&(t[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]}),{document:{pages:{[e]:{shapes:t}},pageStates:{[e]:{selectedIds:[this.shape.id]}}}}});r(this,"complete",()=>{let{currentPageId:e}=this.app,t={},n={},s=[];if(Object.values(this.grid).forEach(i=>{t[i]=void 0,n[i]=this.app.getShape(i),s.push(i)}),t[this.shape.id]=this.shape,this.initialSiblings&&(t[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]},n[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),s.length!==1)return{id:"grid",before:{document:{pages:{[e]:{shapes:t}},pageStates:{[e]:{selectedIds:[],hoveredId:void 0}}}},after:{document:{pages:{[e]:{shapes:n}},pageStates:{[e]:{selectedIds:s,hoveredId:void 0}}}}}});r(this,"getClone",(e,t)=>{let n=I(S({},this.shape),{id:_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),point:e});return t||n.type==="sticky"&&(n.text=""),n});var n;this.shape=this.app.getShape(t),this.grid["0_0"]=this.shape.id,this.bounds=this.app.getShapeBounds(t),this.initialSelectedIds=[...this.app.selectedIds],this.shape.parentId!==this.app.currentPageId&&(this.initialSiblings=(n=this.app.getShape(this.shape.parentId).children)==null?void 0:n.filter(s=>s!==this.shape.id))}};var Ro=class extends ye{constructor(e,t,n,s="move_handle"){super(e);r(this,"type","handle");r(this,"performanceMode");r(this,"status","translatingHandle");r(this,"commandId");r(this,"topLeft");r(this,"shiftKey",!1);r(this,"initialShape");r(this,"handleId");r(this,"start",()=>{});r(this,"update",()=>{var u,p;let{initialShape:e,app:{currentPageId:t,currentPoint:n}}=this,s=this.app.getShape(e.id);if(s.isLocked)return;let i=s.handles,a=this.handleId,d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(n,i[a].point),o={[a]:I(S({},i[a]),{point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(i[a].point,d),s.point)})},l=(p=(u=x.getShapeUtil(s)).onHandleChange)==null?void 0:p.call(u,s,o);if(!!l)return{document:{pages:{[t]:{shapes:{[s.id]:l}}}}}});r(this,"cancel",()=>{let{initialShape:e,app:{currentPageId:t}}=this;return{document:{pages:{[t]:{shapes:{[e.id]:e}}}}}});r(this,"complete",()=>{let{initialShape:e,app:{currentPageId:t}}=this;return{id:this.commandId,before:{document:{pages:{[t]:{shapes:{[e.id]:e}}}}},after:{document:{pages:{[t]:{shapes:{[e.id]:x.onSessionComplete(this.app.getShape(this.initialShape.id))}}}}}}});let{originPoint:i}=e;this.topLeft=[...i],this.handleId=n,this.initialShape=this.app.getShape(t),this.commandId=s}};var Ho=class extends ye{constructor(e){super(e);r(this,"type","rotate");r(this,"status","transforming");r(this,"performanceMode");r(this,"delta",[0,0]);r(this,"commonBoundsCenter");r(this,"initialAngle");r(this,"initialShapes");r(this,"changes",{});r(this,"start",()=>{});r(this,"update",()=>{let{commonBoundsCenter:e,initialShapes:t,app:{currentPageId:n,currentPoint:s,shiftKey:i}}=this,a={},d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.angle(e,s)-this.initialAngle;return i&&(d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.snapAngleToSegments(d,24)),t.forEach(({center:o,shape:l})=>{let{rotation:u=0}=l,p=0;i&&(p=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.snapAngleToSegments(u,24)-u);let h=x.getRotatedShapeMutation(l,o,e,i?d+p:d);h&&(a[l.id]=h)}),this.changes=a,{document:{pages:{[n]:{shapes:a}}}}});r(this,"cancel",()=>{let{initialShapes:e,app:{currentPageId:t}}=this,n={};return e.forEach(({shape:s})=>n[s.id]=s),{document:{pages:{[t]:{shapes:n}}}}});r(this,"complete",()=>{let{initialShapes:e,app:{currentPageId:t}}=this,n={},s=this.changes;return e.forEach(({shape:{id:i,point:a,rotation:d,handles:o}})=>{n[i]={point:a,rotation:d,handles:o}}),{id:"rotate",before:{document:{pages:{[t]:{shapes:n}}}},after:{document:{pages:{[t]:{shapes:s}}}}}});let{app:{currentPageId:t,pageState:n,originPoint:s}}=this,i=x.getSelectedBranchSnapshot(e.state,t).filter(a=>!a.isLocked);if(i.length===0)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===n.selectedIds){if(e.rotationInfo.center===void 0)throw Error("We should have a center for rotation!");this.commonBoundsCenter=e.rotationInfo.center}else this.commonBoundsCenter=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(i.map(x.getBounds))),e.rotationInfo.selectedIds=n.selectedIds,e.rotationInfo.center=this.commonBoundsCenter;this.initialShapes=i.filter(a=>a.children===void 0).map(a=>({shape:a,center:this.app.getShapeUtil(a).getCenter(a)})),this.initialAngle=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.angle(this.commonBoundsCenter,s)}};var Mo=class extends ye{constructor(e,t=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.BottomRight,n=!1){super(e);this.transformType=t;this.isCreate=n;r(this,"type","transform");r(this,"performanceMode");r(this,"status","transforming");r(this,"scaleX",1);r(this,"scaleY",1);r(this,"initialShapes");r(this,"initialShapeIds");r(this,"initialSelectedIds");r(this,"shapeBounds");r(this,"hasUnlockedShapes");r(this,"isAllAspectRatioLocked");r(this,"initialCommonBounds");r(this,"snapInfo",{state:"empty"});r(this,"prevPoint",[0,0]);r(this,"speed",1);r(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(e=>!this.initialShapeIds.includes(e.id)).map(e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsWithCenter(x.getRotatedBounds(e)))}});r(this,"update",()=>{let{transformType:e,shapeBounds:t,initialCommonBounds:n,isAllAspectRatioLocked:s,app:{currentPageId:i,pageState:{camera:a},viewport:d,currentPoint:o,previousPoint:l,originPoint:u,shiftKey:p,altKey:h,metaKey:m,currentGrid:g,settings:{isSnapping:f,showGrid:y}}}=this,b={},T=h?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mul(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(o,u),2):_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(o,u),w=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getTransformedBoundingBox(n,e,T,0,p||s);h&&(w=S(S({},w),_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.centerBounds(w,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(n)))),y&&(w=S(S({},w),_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.snapBoundsToGrid(w,g)));let H=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(o,l)-this.speed;this.speed=this.speed+H*(H>1?.5:.15);let v=[];if((f&&!m||!f&&m)&&this.speed*a.zoom<10&&this.snapInfo.state==="ready"){let B=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSnapPoints(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsWithCenter(w),this.snapInfo.bounds.filter(P=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(d,P)||_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsCollide(d,P)),5/a.zoom);B&&(v=B.snapLines,w=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getTransformedBoundingBox(n,e,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(T,B.offset),0,p||s))}return this.scaleX=w.scaleX,this.scaleY=w.scaleY,t.forEach(({initialShape:B,initialShapeBounds:P,transformOrigin:q})=>{let J=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getRelativeTransformedBoundingBox(w,n,P,this.scaleX<0,this.scaleY<0);y&&(J=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.snapBoundsToGrid(J,g));let Q=x.transform(this.app.getShape(B.id),J,{type:this.transformType,initialShape:B,scaleX:this.scaleX,scaleY:this.scaleY,transformOrigin:q});b[B.id]=Q}),{appState:{snapLines:v},document:{pages:{[i]:{shapes:b}}}}});r(this,"cancel",()=>{let{shapeBounds:e,app:{currentPageId:t}}=this,n={};return this.isCreate?e.forEach(s=>n[s.initialShape.id]=void 0):e.forEach(s=>n[s.initialShape.id]=s.initialShape),{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:e.map(s=>s.initialShape.id)}}}}});r(this,"complete",()=>{let{isCreate:e,shapeBounds:t,hasUnlockedShapes:n,app:{currentPageId:s}}=this;if(!n)return;if(this.isCreate&&_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let i={},a={},d,o;return e?(d=[],o=[],t.forEach(({initialShape:l})=>{i[l.id]=void 0,a[l.id]=this.app.getShape(l.id)})):(d=this.initialSelectedIds,o=this.initialSelectedIds,t.forEach(({initialShape:l})=>{i[l.id]=l,a[l.id]=this.app.getShape(l.id)})),{id:"transform",before:{appState:{snapLines:[]},document:{pages:{[s]:{shapes:i}},pageStates:{[s]:{selectedIds:d,hoveredId:void 0,editingId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[s]:{shapes:a}},pageStates:{[s]:{selectedIds:o,hoveredId:void 0,editingId:void 0}}}}}});this.initialSelectedIds=[...this.app.selectedIds],this.app.rotationInfo.selectedIds=[...this.initialSelectedIds],this.initialShapes=x.getSelectedBranchSnapshot(this.app.state,this.app.currentPageId).filter(d=>!d.isLocked),this.initialShapeIds=this.initialShapes.map(d=>d.id),this.hasUnlockedShapes=this.initialShapes.length>0,this.isAllAspectRatioLocked=this.initialShapes.every(d=>d.isAspectRatioLocked||x.getShapeUtil(d).isAspectRatioLocked);let s=Object.fromEntries(this.initialShapes.map(d=>[d.id,x.getBounds(d)])),i=Object.values(s);this.initialCommonBounds=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(i);let a=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints(i.map(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter));this.shapeBounds=this.initialShapes.map(d=>{let o=s[d.id],l=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(o),u=(l[0]-a.minX)/a.width,p=(l[1]-a.minY)/a.height;return{initialShape:d,initialShapeBounds:o,transformOrigin:[u,p]}})}};var zo=class extends ye{constructor(e,t,n,s=!1){super(e);r(this,"type","transformSingle");r(this,"status","transforming");r(this,"performanceMode");r(this,"transformType");r(this,"scaleX",1);r(this,"scaleY",1);r(this,"isCreate");r(this,"initialShape");r(this,"initialShapeBounds");r(this,"initialCommonBounds");r(this,"snapInfo",{state:"empty"});r(this,"prevPoint",[0,0]);r(this,"speed",1);r(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(e=>e.id!==this.initialShape.id).map(e=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsWithCenter(x.getRotatedBounds(e)))}});r(this,"update",()=>{let{transformType:e,initialShape:t,initialShapeBounds:n,app:{settings:{isSnapping:s,showGrid:i},currentPageId:a,pageState:{camera:d},viewport:o,currentPoint:l,previousPoint:u,originPoint:p,currentGrid:h,shiftKey:m,altKey:g,metaKey:f}}=this;if(t.isLocked)return;let y={},b=g?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mul(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(l,p),2):_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(l,p),T=this.app.getShape(t.id),w=x.getShapeUtil(T),k=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getTransformedBoundingBox(n,e,b,T.rotation,m||T.isAspectRatioLocked||w.isAspectRatioLocked);g&&(k=S(S({},k),_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.centerBounds(k,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(n)))),i&&(k=S(S({},k),_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.snapBoundsToGrid(k,h)));let v=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(l,u)-this.speed;this.speed=this.speed+v*(v>1?.5:.15);let B=[];if((s&&!f||!s&&f)&&!t.rotation&&this.speed*d.zoom<10&&this.snapInfo.state==="ready"){let q=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSnapPoints(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsWithCenter(k),this.snapInfo.bounds.filter(J=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(o,J)||_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsCollide(o,J)),5/d.zoom);q&&(B=q.snapLines,k=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getTransformedBoundingBox(n,e,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(b,q.offset),T.rotation,m||T.isAspectRatioLocked||w.isAspectRatioLocked))}let P=x.getShapeUtil(T).transformSingle(T,k,{initialShape:t,type:this.transformType,scaleX:k.scaleX,scaleY:k.scaleY,transformOrigin:[.5,.5]});return P&&(y[T.id]=P),i&&P&&P.point&&(P.point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.snap(P.point,h)),{appState:{snapLines:B},document:{pages:{[a]:{shapes:y}}}}});r(this,"cancel",()=>{let{initialShape:e,app:{currentPageId:t}}=this,n={};return this.isCreate?n[e.id]=void 0:n[e.id]=e,{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:[e.id]}}}}});r(this,"complete",()=>{let{initialShape:e,app:{currentPageId:t}}=this;if(e.isLocked)return;if(this.isCreate&&_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let n={},s={};return n[e.id]=this.isCreate?void 0:e,s[e.id]=x.onSessionComplete(this.app.getShape(e.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:[e.id],editingId:void 0,hoveredId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[t]:{shapes:s}},pageStates:{[t]:{selectedIds:[e.id],editingId:void 0,hoveredId:void 0}}}}}});this.isCreate=s,this.transformType=n;let i=this.app.getShape(t);this.initialShape=i,this.initialShapeBounds=x.getBounds(i),this.initialCommonBounds=x.getRotatedBounds(i),this.app.rotationInfo.selectedIds=[i.id]}};var Fo=class extends ye{constructor(e,t=!1,n=!1){super(e);r(this,"performanceMode");r(this,"type","translate");r(this,"status","translating");r(this,"delta",[0,0]);r(this,"prev",[0,0]);r(this,"prevPoint",[0,0]);r(this,"speed",1);r(this,"cloneInfo",{state:"empty"});r(this,"snapInfo",{state:"empty"});r(this,"snapLines",[]);r(this,"isCloning",!1);r(this,"isCreate");r(this,"link");r(this,"initialIds");r(this,"hasUnlockedShapes");r(this,"initialSelectedIds");r(this,"initialCommonBounds");r(this,"initialShapes");r(this,"initialParentChildren");r(this,"bindingsToDelete");r(this,"start",()=>{let{bindingsToDelete:e,initialIds:t,app:{currentPageId:n,page:s}}=this,i=[],a=[];if(Object.values(s.shapes).forEach(o=>{let l=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsWithCenter(x.getRotatedBounds(o));i.push(l),t.has(o.id)||a.push(l)}),this.snapInfo={state:"ready",bounds:i,others:a},e.length===0)return;let d={};return e.forEach(o=>d[o.id]=void 0),{document:{pages:{[n]:{bindings:d}}}}});r(this,"update",()=>{let{initialParentChildren:e,initialShapes:t,initialCommonBounds:n,bindingsToDelete:s,app:{pageState:{camera:i},settings:{isSnapping:a,showGrid:d},currentPageId:o,viewport:l,selectedIds:u,currentPoint:p,previousPoint:h,originPoint:m,altKey:g,shiftKey:f,metaKey:y,currentGrid:b}}=this,T={},w={},k={},H=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(p,m),v=!1;this.isCreate||(g&&!this.isCloning?(this.isCloning=!0,v=!0):!g&&this.isCloning&&(this.isCloning=!1,v=!0)),f&&(Math.abs(H[0])<Math.abs(H[1])?H[0]=0:H[1]=0);let P=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.dist(p,h)-this.speed;if(this.speed=this.speed+P*(P>1?.5:.15),this.snapLines=[],(a&&!y||!a&&y)&&this.speed*i.zoom<10&&this.snapInfo.state==="ready"){let q=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getSnapPoints(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsWithCenter(d?_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.snapBoundsToGrid(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(n,H),b):_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.translateBounds(n,H)),(this.isCloning?this.snapInfo.bounds:this.snapInfo.others).filter(J=>_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(l,J)||_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsCollide(l,J)),5/i.zoom);q&&(this.snapLines=q.snapLines,H=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(H,q.offset))}if(this.prev=H,this.isCloning)if(v){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state==="empty")throw Error;let{clones:q,clonedBindings:J}=this.cloneInfo;this.isCloning=!0,s.forEach(Q=>T[Q.id]=Q),t.forEach(Q=>w[Q.id]={point:Q.point}),q.forEach(Q=>{var we;if(w[Q.id]=S({},Q),Q.parentId!==o&&!u.includes(Q.parentId)){let pe=((we=w[Q.parentId])==null?void 0:we.children)||e[Q.parentId];pe.includes(Q.id)||(w[Q.parentId]=I(S({},w[Q.parentId]),{children:[...pe,Q.id]}))}});for(let Q of J)T[Q.id]=Q;k.selectedIds=q.map(Q=>Q.id),q.forEach(Q=>{w[Q.id]=I(S({},Q),{point:d?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.snap(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(Q.point,H)),b):_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(Q.point,H))})})}else{if(this.cloneInfo.state==="empty")throw Error;let{clones:q}=this.cloneInfo;q.forEach(J=>{w[J.id]={point:d?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.snap(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(J.point,H)),b):_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(J.point,H))}})}else if(v){if(this.cloneInfo.state==="empty")throw Error;let{clones:q,clonedBindings:J}=this.cloneInfo;this.isCloning=!1,s.forEach(Q=>T[Q.id]=void 0),q.forEach(Q=>{Q.parentId!==o&&(w[Q.parentId]=I(S({},w[Q.parentId]),{children:e[Q.parentId]}))}),q.forEach(Q=>w[Q.id]=void 0),t.forEach(Q=>{w[Q.id]={point:d?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.snap(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(Q.point,H)),b):_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(Q.point,H))}});for(let Q of J)T[Q.id]=void 0;k.selectedIds=t.map(Q=>Q.id)}else t.forEach(q=>{w[q.id]={point:d?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.snap(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(q.point,H)),b):_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(q.point,H))}});return{appState:{snapLines:this.snapLines},document:{pages:{[o]:{shapes:w,bindings:T}},pageStates:{[o]:k}}}});r(this,"cancel",()=>{let{initialShapes:e,initialSelectedIds:t,bindingsToDelete:n,app:{currentPageId:s}}=this,i={},a={},d={editingId:void 0,hoveredId:void 0};if(n.forEach(o=>i[o.id]=o),this.isCreate?(e.forEach(({id:o})=>a[o]=void 0),d.selectedIds=[]):(e.forEach(({id:o,point:l})=>a[o]=I(S({},a[o]),{point:l})),d.selectedIds=t),this.cloneInfo.state==="ready"){let{clones:o,clonedBindings:l}=this.cloneInfo;o.forEach(u=>a[u.id]=void 0),l.forEach(u=>i[u.id]=void 0)}return{appState:{snapLines:[]},document:{pages:{[s]:{shapes:a,bindings:i}},pageStates:{[s]:d}}}});r(this,"complete",()=>{let{initialShapes:e,initialParentChildren:t,bindingsToDelete:n,app:{currentPageId:s}}=this,i={},a={},d={},o={};if(this.isCloning){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state!=="ready")throw Error;let{clones:l,clonedBindings:u}=this.cloneInfo;l.forEach(p=>{a[p.id]=void 0,o[p.id]=this.app.getShape(p.id),p.parentId!==s&&(a[p.parentId]=I(S({},a[p.parentId]),{children:t[p.parentId]}),o[p.parentId]=I(S({},o[p.parentId]),{children:this.app.getShape(p.parentId).children}))}),u.forEach(p=>{i[p.id]=void 0,d[p.id]=this.app.getBinding(p.id)})}else e.forEach(l=>{a[l.id]=this.isCreate?void 0:I(S({},a[l.id]),{point:l.point}),o[l.id]=S(S({},o[l.id]),this.isCreate?this.app.getShape(l.id):{point:this.app.getShape(l.id).point})});return n.forEach(l=>{i[l.id]=l;for(let u of[l.toId,l.fromId]){let p=this.app.getShape(u);!p.handles||Object.values(p.handles).filter(h=>h.bindingId===l.id).forEach(h=>{a[u]=I(S({},a[u]),{handles:{}}),o[u]=I(S({},o[u]),{handles:{}}),a[u].handles[h.id]={bindingId:l.id},o[u].handles[h.id]={bindingId:void 0}})}}),{id:"translate",before:{appState:{snapLines:[]},document:{pages:{[s]:{shapes:a,bindings:i}},pageStates:{[s]:{selectedIds:this.isCreate?[]:[...this.initialSelectedIds]}}}},after:{appState:{snapLines:[]},document:{pages:{[s]:{shapes:o,bindings:d}},pageStates:{[s]:{selectedIds:[...this.app.selectedIds]}}}}}});r(this,"createCloneInfo",()=>{let{initialShapes:e,initialParentChildren:t,app:{selectedIds:n,currentPageId:s,page:i}}=this,a={},d={},o=[],l=[];e.forEach(p=>{let h=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId();t[h]=t[p.id],a[p.id]=h;let m=I(S({},_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepClone(p)),{id:h,parentId:p.parentId,childIndex:x.getChildIndexAbove(this.app.state,p.id,s)});if(m.type==="video"){let g=document.getElementById(p.id+"_video");g&&(m.currentTime=(g.currentTime+16)%g.duration)}l.push(m)}),l.forEach(p=>{p.children!==void 0&&(p.children=p.children.map(h=>a[h]))}),l.forEach(p=>{n.includes(p.parentId)&&(p.parentId=a[p.parentId])});let u=new Set(Object.keys(a));Object.values(i.bindings).filter(p=>u.has(p.fromId)||u.has(p.toId)).forEach(p=>{if(u.has(p.fromId)&&u.has(p.toId)){let h=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),m=I(S({},_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.deepClone(p)),{id:h,fromId:a[p.fromId]||p.fromId,toId:a[p.toId]||p.toId});d[p.id]=h,o.push(m)}}),l.forEach(p=>{if(p.handles&&p.handles)for(let h in p.handles){let m=p.handles[h];m.bindingId=m.bindingId?d[m.bindingId]:void 0}}),l.forEach(p=>{if(i.shapes[p.id])throw Error("uh oh, we didn't clone correctly")}),this.cloneInfo={state:"ready",clones:l,cloneMap:a,clonedBindings:o}});this.isCreate=t,this.link=n;let{currentPageId:s,selectedIds:i,page:a}=this.app;this.initialSelectedIds=[...i];let d=(n?x.getLinkedShapeIds(this.app.state,s,n,!1):i).map(l=>this.app.getShape(l)).filter(l=>!l.isLocked),o=new Set(d.map(l=>l.id));this.hasUnlockedShapes=d.length>0,this.initialShapes=Array.from(new Set(d.filter(l=>!o.has(l.parentId)).flatMap(l=>l.children?[l,...l.children.map(u=>this.app.getShape(u))]:[l])).values()),this.initialIds=new Set(this.initialShapes.map(l=>l.id)),this.bindingsToDelete=[],Object.values(a.bindings).filter(l=>this.initialIds.has(l.fromId)||this.initialIds.has(l.toId)).forEach(l=>{this.initialIds.has(l.fromId)&&(this.initialIds.has(l.toId)||this.bindingsToDelete.push(l))}),this.initialParentChildren={},this.initialShapes.map(l=>l.parentId).filter(l=>l!==a.id).forEach(l=>{this.initialParentChildren[l]=this.app.getShape(l).children}),this.initialCommonBounds=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(this.initialShapes.map(x.getRotatedBounds)),this.app.rotationInfo.selectedIds=[...this.app.selectedIds]}};var WV={["arrow"]:ko,["brush"]:Do,["draw"]:Eo,["erase"]:Bo,["handle"]:Ro,["rotate"]:Ho,["transform"]:Mo,["transformSingle"]:zo,["translate"]:Fo,["grid"]:Lo,["edit"]:Co},la=c=>WV[c];var ke=class extends ms{constructor(e){super();this.app=e;r(this,"type","select");r(this,"previous");r(this,"status","idle");r(this,"setStatus",e=>{this.status=e,this.app.setStatus(this.status)});r(this,"onEnter",()=>{this.setStatus("idle")});r(this,"onExit",()=>{this.setStatus("idle")});r(this,"onCancel",()=>{this.status==="idle"?this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()});r(this,"getNextChildIndex",()=>{let{shapes:e,appState:{currentPageId:t}}=this.app;return e.length===0?1:e.filter(n=>n.parentId===t).sort((n,s)=>s.childIndex-n.childIndex)[0].childIndex+1});r(this,"onPinchStart",()=>{this.app.cancelSession(),this.setStatus("pinching")});r(this,"onPinchEnd",()=>{_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.isMobileSafari()&&this.app.undoSelect(),this.setStatus("idle")});r(this,"onPinch",(e,t)=>{var n;this.status==="pinching"&&(isNaN(e.delta[0])||isNaN(e.delta[1])||(this.app.pinchZoom(e.point,e.delta,e.delta[2]),(n=this.onPointerMove)==null||n.call(this,e,t)))});r(this,"onKeyDown",e=>{if(e==="Escape"){this.onCancel();return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});r(this,"onKeyUp",e=>{if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});r(this,"onPointerMove",()=>{this.status==="creating"&&this.app.updateSession()});r(this,"onPointerUp",()=>{if(this.status==="creating"){this.app.completeSession();let{isToolLocked:e}=this.app.appState;e||this.app.selectTool("select")}this.setStatus("idle")})}};var Dn=class extends ke{constructor(){super(...arguments);r(this,"type","arrow");r(this,"onPointerDown",()=>{if(this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:s,currentStyle:i}}=this.app,a=this.getNextChildIndex(),d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),o=In.create({id:d,parentId:s,childIndex:a,point:n?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.snap(e,t):e,style:S({},i)});this.app.patchCreate([o]),this.app.startSession("arrow",o.id,"end",!0),this.setStatus("creating")})}};var En=class extends ke{constructor(){super(...arguments);r(this,"type","draw");r(this,"lastShapeId");r(this,"onEnter",()=>{this.lastShapeId=void 0});r(this,"onCancel",()=>{switch(this.status){case"idle":{this.app.selectTool("select");break}default:{this.setStatus("idle");break}}this.app.cancelSession()});r(this,"onPointerDown",e=>{if(this.status!=="idle"||this.app.readOnly)return;let{currentPoint:t,appState:{currentPageId:n,currentStyle:s}}=this.app,i=this.lastShapeId&&this.app.getShape(this.lastShapeId);if(e.shiftKey&&i)this.app.startSession("draw",i.id),this.setStatus("extending");else{let a=this.getNextChildIndex(),d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),o=lo.create({id:d,parentId:n,childIndex:a,point:t,style:S({},s)});this.lastShapeId=d,this.app.patchCreate([o]),this.app.startSession("draw",d),this.setStatus("creating")}});r(this,"onPointerMove",()=>{if(!this.app.readOnly)switch(this.status){case"extending":case"creating":this.app.updateSession()}});r(this,"onPointerUp",()=>{this.app.completeSession(),this.setStatus("idle")})}};var Cn=class extends ke{constructor(){super(...arguments);r(this,"type","ellipse");r(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:s,currentStyle:i}}=this.app,a=this.getNextChildIndex(),d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),o=ao.create({id:d,parentId:s,childIndex:a,point:n?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.snap(e,t):e,style:S({},i)});this.app.patchCreate([o]),this.app.startSession("transformSingle",o.id,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.BottomRight,!0),this.setStatus("creating")})}};var Bn=class extends ke{constructor(){super(...arguments);r(this,"type","erase");r(this,"status","idle");r(this,"onPointerDown",()=>{this.app.readOnly||this.status==="idle"&&this.setStatus("pointing")});r(this,"onPointerMove",e=>{if(!this.app.readOnly)switch(this.status){case"pointing":{_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(e.origin,e.point)>3&&(this.app.startSession("erase"),this.app.updateSession(),this.setStatus("erasing"));break}case"erasing":this.app.updateSession()}});r(this,"onPointerUp",()=>{if(!this.app.readOnly){switch(this.status){case"pointing":{let e=this.app.shapes.filter(t=>!t.isLocked).filter(t=>this.app.getShapeUtil(t).hitTestPoint(t,this.app.currentPoint)).flatMap(t=>t.children?[t.id,...t.children]:t.id);this.app.delete(e);break}case"erasing":this.app.completeSession()}this.setStatus("idle")}});r(this,"onCancel",()=>{this.status==="idle"?this.previous?this.app.selectTool(this.previous):this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()})}};var Ln=class extends ke{constructor(){super(...arguments);r(this,"type","line");r(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:s,currentStyle:i}}=this.app,a=this.getNextChildIndex(),d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),o=In.create({id:d,parentId:s,childIndex:a,point:n?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.snap(e,t):e,decorations:{start:void 0,end:void 0},style:S({},i)});this.app.patchCreate([o]),this.app.startSession("arrow",o.id,"end",!0),this.setStatus("creating")})}};var An=class extends ke{constructor(){super(...arguments);r(this,"type","rectangle");r(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:s,currentStyle:i}}=this.app,a=this.getNextChildIndex(),d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),o=io.create({id:d,parentId:s,childIndex:a,point:n?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.snap(e,t):e,style:S({},i)});this.app.patchCreate([o]),this.app.startSession("transformSingle",o.id,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.BottomRight,!0),this.setStatus("creating")})}};var Hn=class extends ke{constructor(){super(...arguments);r(this,"type","select");r(this,"pointedId");r(this,"selectedGroupId");r(this,"pointedHandleId");r(this,"pointedBoundsHandle");r(this,"pointedLinkHandleId");r(this,"onEnter",()=>{this.setStatus("idle")});r(this,"onExit",()=>{this.setStatus("idle")});r(this,"clonePaint",e=>{if(this.app.selectedIds.length===0)return;let t=this.app.selectedIds.map(l=>this.app.getShape(l)),n=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.expandBounds(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(t.map(x.getBounds)),16),s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsCenter(n),i=[n.width,n.height],a=[s[0]+i[0]*Math.floor((e[0]+i[0]/2-s[0])/i[0]),s[1]+i[1]*Math.floor((e[1]+i[1]/2-s[1])/i[1])],d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.centerBounds(n,a);this.app.shapes.some(l=>x.getShapeUtil(l).hitTestBounds(l,d))||this.app.duplicate(this.app.selectedIds,a)});r(this,"getShapeClone",(e,t)=>{let n=this.app.getShape(e),s=x.getShapeUtil(n);if(s.canClone){let i=s.getBounds(n),a=s.getCenter(n),d={top:[i.minX,i.minY-(i.height+32)],right:[i.maxX+32,i.minY],bottom:[i.minX,i.maxY+32],left:[i.minX-(i.width+32),i.minY],topLeft:[i.minX-(i.width+32),i.minY-(i.height+32)],topRight:[i.maxX+32,i.minY-(i.height+32)],bottomLeft:[i.minX-(i.width+32),i.maxY+32],bottomRight:[i.maxX+32,i.maxY+32]}[t];if(n.rotation!==0){let u=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.add(d,[i.width/2,i.height/2]),p=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.rotWith(u,a,n.rotation||0);d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(p,[i.width/2,i.height/2])}let o=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),l=I(S({},n),{id:o,point:d});return l.type==="sticky"&&(l.text=""),l}});r(this,"onCancel",()=>{this.app.session?this.app.cancelSession():this.selectNone(),this.setStatus("idle")});r(this,"onKeyDown",(e,t,n)=>{switch(e){case"Escape":{this.onCancel();break}case"Tab":{if(this.app.readOnly)return;if(!this.app.pageState.editingId&&this.status==="idle"&&this.app.selectedIds.length===1){let[s]=this.app.selectedIds,i=this.getShapeClone(s,"right");i&&(this.app.createShapes(i),this.setStatus("idle"),i.type==="sticky"&&(this.app.select(i.id),this.app.setEditingId(i.id)))}break}case"Meta":case"Control":case"Alt":{this.app.updateSession();break}case"Enter":{if(this.app.readOnly)return;let{pageState:s}=this.app;s.selectedIds.length===1&&!s.editingId&&(this.app.setEditingId(s.selectedIds[0]),n.preventDefault())}}});r(this,"onKeyUp",(e,t)=>{if(this.status==="clonePainting"&&!(t.altKey&&t.shiftKey)){this.setStatus("idle");return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});r(this,"onPointerMove",()=>{let{originPoint:e,currentPoint:t}=this.app;if(this.app.readOnly&&this.app.isPointing){this.app.session?this.app.updateSession():_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));return}switch(this.status){case"pointingBoundsHandle":{if(!this.pointedBoundsHandle)throw Error("No pointed bounds handle");if(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(e,t)>3){if(this.pointedBoundsHandle==="rotate")this.setStatus("rotating"),this.app.startSession("rotate");else if(this.pointedBoundsHandle==="center"||this.pointedBoundsHandle==="left"||this.pointedBoundsHandle==="right")this.setStatus("translating"),this.app.startSession("translate",!1,this.pointedBoundsHandle);else{this.setStatus("transforming");let n=this.app.selectedIds.flatMap(s=>x.getDocumentBranch(this.app.state,s,this.app.currentPageId));n.length===1?this.app.startSession("transformSingle",n[0],this.pointedBoundsHandle):this.app.startSession("transform",this.pointedBoundsHandle)}this.app.updateSession()}break}case"pointingCanvas":{_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));break}case"pointingClone":{_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(e,t)>3&&(this.setStatus("translatingClone"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingBounds":{_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(e,t)>3&&(this.setStatus("translating"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingHandle":{if(!this.pointedHandleId)throw Error("No pointed handle");if(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.dist(e,t)>3){this.setStatus("translatingHandle");let n=this.app.getShape(this.app.selectedIds[0]);n&&(this.pointedHandleId==="bend"?(this.app.startSession("handle",n.id,this.pointedHandleId),this.app.updateSession()):(this.app.startSession("arrow",n.id,this.pointedHandleId,!1),this.app.updateSession()))}break}case"clonePainting":{this.clonePaint(t);break}default:if(this.app.session){this.app.updateSession();break}}});r(this,"onPointerDown",(e,t)=>{if(e.target==="canvas"&&this.status==="idle"){let{currentPoint:n}=this.app;if(e.spaceKey&&t.buttons===1)return;if(this.status==="idle"&&e.altKey&&e.shiftKey){this.setStatus("clonePainting"),this.clonePaint(n);return}if(!e.shiftKey){if(this.app.onShapeBlur(),e.altKey&&this.app.selectedIds.length>0){this.app.duplicate(this.app.selectedIds,n);return}this.selectNone()}this.setStatus("pointingCanvas")}});r(this,"onPointerUp",e=>{var t;if(this.status==="translatingClone"||this.status==="pointingClone"){this.pointedId&&(this.app.completeSession(),this.app.setEditingId(this.pointedId)),this.setStatus("idle"),this.pointedId=void 0;return}if(this.status==="pointingBounds"){if(e.target==="bounds")this.selectNone();else if(this.app.isSelected(e.target))e.shiftKey?this.pointedId!==e.target&&this.deselect(e.target):this.pointedId!==e.target&&this.app.selectedIds.length>1&&this.select(e.target);else if(this.pointedId===e.target){if(this.app.getShape(e.target).isLocked)return;e.shiftKey?this.pushSelect(e.target):this.select(e.target)}}this.setStatus("idle"),this.pointedBoundsHandle=void 0,this.pointedHandleId=void 0,this.pointedId=void 0,((t=this.app.session)==null?void 0:t.type)!=="edit"&&this.app.completeSession()});r(this,"onDoubleClickCanvas",()=>{!this.app.readOnly});r(this,"onPointShape",(e,t)=>{if(e.spaceKey&&t.buttons===1||this.app.getShape(e.target).isLocked)return;let{editingId:n,hoveredId:s}=this.app.pageState;if(n&&e.target!==n&&this.app.onShapeBlur(),(this.status==="idle"||this.status==="pointingBounds")&&e.metaKey&&e.shiftKey&&s){this.pointedId=s,this.app.isSelected(s)?this.deselect(s):(this.pushSelect(s),this.setStatus("pointingBounds"));return}if(this.status==="pointingBounds"){let{parentId:i}=this.app.getShape(e.target);this.pointedId=i===this.app.currentPageId?e.target:i;return}if(this.status==="idle"){if(this.setStatus("pointingBounds"),e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}let i,{parentId:a}=this.app.getShape(e.target);a===this.app.currentPageId?(i=e.target,this.selectedGroupId=void 0):a===this.selectedGroupId?i=e.target:(i=a,this.selectedGroupId=void 0),this.app.isSelected(i)||(this.pointedId=i,e.shiftKey?this.pushSelect(i):this.select(i))}});r(this,"onDoubleClickShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);if(t.isLocked){this.app.select(e.target);return}x.getShapeUtil(t.type).canEdit&&(t.parentId===this.app.currentPageId||t.parentId===this.selectedGroupId)&&this.app.setEditingId(e.target),t.parentId!==this.app.currentPageId&&(this.selectedGroupId=t.parentId),this.app.select(e.target)});r(this,"onRightPointShape",e=>{this.app.isSelected(e.target)||this.app.select(e.target)});r(this,"onHoverShape",e=>{this.app.setHoveredId(e.target)});r(this,"onUnhoverShape",e=>{let{currentPageId:t}=this.app;requestAnimationFrame(()=>{t===this.app.currentPageId&&this.app.pageState.hoveredId===e.target&&this.app.setHoveredId(void 0)})});r(this,"onPointBounds",e=>{if(e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}this.setStatus("pointingBounds")});r(this,"onRightPointBounds",(e,t)=>{t.stopPropagation()});r(this,"onReleaseBounds",()=>{(this.status==="translating"||this.status==="brushing")&&this.app.completeSession(),this.setStatus("idle")});r(this,"onPointBoundsHandle",e=>{this.pointedBoundsHandle=e.target,this.setStatus("pointingBoundsHandle")});r(this,"onDoubleClickBoundsHandle",e=>{switch(e.target){case"center":case"left":case"right":{this.app.select(...x.getLinkedShapeIds(this.app.state,this.app.currentPageId,e.target,e.shiftKey));break}default:if(this.app.selectedIds.length===1){this.app.resetBounds(this.app.selectedIds);let t=this.app.getShape(this.app.selectedIds[0]);"label"in t&&this.app.setEditingId(t.id)}}});r(this,"onReleaseBoundsHandle",()=>{this.setStatus("idle")});r(this,"onPointHandle",e=>{this.pointedHandleId=e.target,this.setStatus("pointingHandle")});r(this,"onDoubleClickHandle",e=>{if(e.target==="bend"){let{selectedIds:t}=this.app;if(t.length!==1)return;let n=this.app.getShape(t[0]);x.getShapeUtil(n.type).canEdit&&(n.parentId===this.app.currentPageId||n.parentId===this.selectedGroupId)&&this.app.setEditingId(n.id);return}this.app.toggleDecoration(e.target)});r(this,"onReleaseHandle",()=>{this.setStatus("idle")});r(this,"onShapeClone",e=>{let t=this.app.selectedIds[0],n=this.getShapeClone(t,e.target);e.target==="left"||e.target==="right"||e.target==="top"||e.target==="bottom"?n&&(this.app.createShapes(n),this.pointedId=n.id,this.setStatus("pointingClone")):(this.setStatus("gridCloning"),this.app.startSession("grid",t))})}deselect(e){this.app.select(...this.app.selectedIds.filter(t=>t!==e))}select(e){this.app.select(e)}pushSelect(e){let t=this.app.getShape(e);this.app.select(...this.app.selectedIds.filter(n=>n!==t.parentId),e)}selectNone(){this.app.selectNone()}};var Mn=class extends ke{constructor(){super(...arguments);r(this,"type","sticky");r(this,"shapeId");r(this,"onPointerDown",()=>{if(!this.app.readOnly){if(this.status==="creating"){this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select");return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:s,currentStyle:i}}=this.app,a=this.getNextChildIndex(),d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId();this.shapeId=d;let o=rs.create({id:d,parentId:s,childIndex:a,point:n?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.snap(e,t):e,style:S({},i)}),l=rs.getBounds(o);o.point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.sub(o.point,[l.width/2,l.height/2]),this.app.patchCreate([o]),this.app.startSession("translate"),this.setStatus("creating")}}});r(this,"onPointerUp",()=>{this.app.readOnly||this.status==="creating"&&(this.setStatus("idle"),this.app.completeSession(),this.app.selectTool("select"),this.app.setEditingId(this.shapeId))})}};var zn=class extends ke{constructor(){super(...arguments);r(this,"type","text");r(this,"stopEditingShape",()=>{this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select")});r(this,"onKeyUp",()=>{});r(this,"onKeyDown",()=>{});r(this,"onPointerDown",()=>{if(this.status==="creating"){this.stopEditingShape();return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n}}=this.app;this.app.createTextShapeAtPoint(n?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.snap(e,t):e,void 0,!0),this.setStatus("creating");return}});r(this,"onPointerUp",()=>{});r(this,"onPointShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);t.type==="text"&&(this.setStatus("idle"),this.app.setEditingId(t.id))});r(this,"onShapeBlur",()=>{this.app.readOnly||this.stopEditingShape()})}};var Fn=class extends ke{constructor(){super(...arguments);r(this,"type","triangle");r(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:s,currentStyle:i}}=this.app,a=this.getNextChildIndex(),d=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),o=ro.create({id:d,parentId:s,childIndex:a,point:n?_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z.snap(e,t):e,style:S({},i)});this.app.patchCreate([o]),this.app.startSession("transformSingle",o.id,_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .TLBoundsCorner */ .P0.BottomRight,!0),this.setStatus("creating")})}};var Oo=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),Be=class extends co{constructor(e,t={}){super(Be.defaultState,e,Be.version,(n,s,i)=>ft(I(S({},s),{document:I(S(S({},s.document),n.document),{version:i})}),Be.version));r(this,"callbacks",{});r(this,"tools",{select:new Hn(this),erase:new Bn(this),["text"]:new zn(this),["draw"]:new En(this),["ellipse"]:new Cn(this),["rectangle"]:new An(this),["triangle"]:new Fn(this),["line"]:new Ln(this),["arrow"]:new Dn(this),["sticky"]:new Mn(this)});r(this,"currentTool",this.tools.select);r(this,"session");r(this,"readOnly",!1);r(this,"isDirty",!1);r(this,"isCreating",!1);r(this,"originPoint",[0,0]);r(this,"currentPoint",[0,0]);r(this,"previousPoint",[0,0]);r(this,"shiftKey",!1);r(this,"altKey",!1);r(this,"metaKey",!1);r(this,"ctrlKey",!1);r(this,"spaceKey",!1);r(this,"isPointing",!1);r(this,"isForcePanning",!1);r(this,"isPastePrevented",!1);r(this,"editingStartTime",-1);r(this,"fileSystemHandle",null);r(this,"viewport",_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints([[0,0],[100,100]]));r(this,"rendererBounds",_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getBoundsFromPoints([[0,0],[100,100]]));r(this,"selectHistory",{stack:[[]],pointer:0});r(this,"clipboard");r(this,"rotationInfo",{selectedIds:[],center:[0,0]});r(this,"migrate",e=>ft(e,Be.version));r(this,"onReady",()=>{var e,t;this.loadDocument(this.document),To().then(n=>{this.fileSystemHandle=n});try{this.patchState(I(S({},ft(this.state,Be.version)),{appState:{status:"idle"}}))}catch(n){console.error("The data appears to be corrupted. Resetting!",n),localStorage.setItem(this.document.id+"_corrupted",JSON.stringify(this.document)),this.patchState(I(S({},Be.defaultState),{appState:I(S({},Be.defaultState.appState),{status:"idle"})}))}(t=(e=this.callbacks).onMount)==null||t.call(e,this)});r(this,"cleanup",(e,t)=>{var a;let n=S({},e);n.document!==t.document&&Object.entries(n.document.pages).forEach(([d,o])=>{if(o===void 0){delete n.document.pages[d],delete n.document.pageStates[d];return}let l=t.document.pages[d],u={};if(!l||o.shapes!==l.shapes||o.bindings!==l.bindings){o.shapes=S({},o.shapes),o.bindings=S({},o.bindings);let h=new Set;Object.entries(o.shapes).forEach(([f,y])=>{var T;let b;y?b=y.parentId:(b=(T=l==null?void 0:l.shapes[f])==null?void 0:T.parentId,delete o.shapes[f]),o.id===n.appState.currentPageId&&(l==null?void 0:l.shapes[f])!==y&&(u[f]=y),b&&b!==d&&o.shapes[b]!==void 0&&h.add(o.shapes[b])}),Object.keys(o.bindings).forEach(f=>{o.bindings[f]||delete o.bindings[f]}),n.document.pages[d]=o;let m=x.getRelatedBindings(n,Object.keys(u),d),g=new Set;m.forEach(f=>{if(!o.bindings[f.id])return;let y=o.shapes[f.toId],b=o.shapes[f.fromId];if(!(y&&b)){delete n.document.pages[d].bindings[f.id];return}if(g.has(b))return;let T=x.updateArrowBindings(o,b);if(g.add(b),T){let w=S(S({},b),T);o.shapes[b.id]=w}}),h.forEach(f=>{if(!f)throw Error("no group!");let y=f.children.filter(T=>o.shapes[T]!==void 0),b=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(y.map(T=>o.shapes[T]).filter(Boolean).map(T=>x.getRotatedBounds(T)));o.shapes[f.id]=I(S({},f),{point:[b.minX,b.minY],size:[b.width,b.height],children:y})})}let p=S({},n.document.pageStates[d]);p.brush||delete p.brush,p.hoveredId&&!o.shapes[p.hoveredId]&&delete p.hoveredId,p.bindingId&&!o.bindings[p.bindingId]&&(x.warn(`Could not find the binding of ${d}`),delete p.bindingId),p.editingId&&!o.shapes[p.editingId]&&(x.warn("Could not find the editing shape!"),delete p.editingId),n.document.pageStates[d]=p}),Object.keys((a=n.document.assets)!=null?a:{}).forEach(d=>{var o,l;((o=n.document.assets)==null?void 0:o[d])||(l=n.document.assets)==null||delete l[d]});let s=n.appState.currentPageId,i=n.document.pageStates[s];if(n.room&&n.room!==t.room){let d=I(S({},n.room),{users:S({},n.room.users)});t.room&&Object.values(t.room.users).filter(Boolean).forEach(o=>{d.users[o.id]===void 0&&delete d.users[o.id]}),n.room=d}return n.room&&(n.room.users[n.room.userId]=I(S({},n.room.users[n.room.userId]),{point:this.currentPoint,selectedIds:i.selectedIds})),this.readOnly&&(n.document.pages=t.document.pages),n});r(this,"broadcastPatch",(e,t)=>{var l,u,p,h,m,g,f,y,b;let n={},s={},i={},a=(p=(u=(l=e==null?void 0:e.document)==null?void 0:l.pages)==null?void 0:u[this.currentPageId])==null?void 0:p.shapes,d=(g=(m=(h=e==null?void 0:e.document)==null?void 0:h.pages)==null?void 0:m[this.currentPageId])==null?void 0:g.bindings,o=(f=e==null?void 0:e.document)==null?void 0:f.assets;a&&Object.keys(a).forEach(T=>{n[T]=this.getShape(T,this.currentPageId)}),d&&Object.keys(d).forEach(T=>{s[T]=this.getBinding(T,this.currentPageId)}),o&&Object.keys(o).forEach(T=>{i[T]=this.document.assets[T]}),(b=(y=this.callbacks).onChangePage)==null||b.call(y,this,n,s,i,t)});r(this,"onPatch",(e,t,n)=>{var s,i,a,d,o,l;(this.callbacks.onChangePage&&((i=(s=t==null?void 0:t.document)==null?void 0:s.pages)==null?void 0:i[this.currentPageId])||((a=t==null?void 0:t.document)==null?void 0:a.assets))&&(((d=t==null?void 0:t.document)==null?void 0:d.assets)||this.session&&this.session.type!=="brush"&&this.session.type!=="erase"&&this.session.type!=="draw")&&this.broadcastPatch(t,!1),(l=(o=this.callbacks).onPatch)==null||l.call(o,this,t,n)});r(this,"onCommand",(e,t,n)=>{var s,i;this.clearSelectHistory(),this.isDirty=!0,(i=(s=this.callbacks).onCommand)==null||i.call(s,this,t,n)});r(this,"onReplace",()=>{this.clearSelectHistory(),this.isDirty=!1});r(this,"onUndo",()=>{var e,t;this.rotationInfo.selectedIds=[...this.selectedIds],(t=(e=this.callbacks).onUndo)==null||t.call(e,this)});r(this,"onRedo",()=>{var e,t;this.rotationInfo.selectedIds=[...this.selectedIds],(t=(e=this.callbacks).onRedo)==null||t.call(e,this)});r(this,"onPersist",(e,t)=>{var n,s;(s=(n=this.callbacks).onPersist)==null||s.call(n,this),this.broadcastPatch(t,!0)});r(this,"prevSelectedIds",this.selectedIds);r(this,"onStateDidChange",(e,t)=>{var n,s,i,a;(s=(n=this.callbacks).onChange)==null||s.call(n,this,t),this.room&&this.selectedIds!==this.prevSelectedIds&&((a=(i=this.callbacks).onChangePresence)==null||a.call(i,this,I(S({},this.room.users[this.room.userId]),{selectedIds:this.selectedIds,session:!!this.session})),this.prevSelectedIds=this.selectedIds)});r(this,"preventPaste",()=>{if(this.isPastePrevented)return;let e=n=>n.stopImmediatePropagation(),t=()=>{setTimeout(()=>{document.removeEventListener("paste",e,{capture:!0}),this.isPastePrevented=!1},50)};document.addEventListener("paste",e,{capture:!0}),window.addEventListener("pointerup",t,{once:!0}),this.isPastePrevented=!0});r(this,"justSent",!1);r(this,"getReservedContent",(e,t=this.currentPageId)=>{let{bindings:n}=this.document.pages[t],s={},i={},a=Object.values(n),d=new Map(a.map(m=>[m.toId,m])),o=new Map(a.map(m=>[m.fromId,m])),l=[d,o],u=[];this.session&&e.forEach(m=>u.push(m)),this.pageState.editingId&&u.push(this.pageState.editingId);let p=new Set(u),h=new Set;for(;u.length>0;){let m=u.pop();if(!m)break;if(h.has(m))continue;h.add(m);let g=this.getShape(m);s[m]=g,g.parentId!==t&&u.push(g.parentId),g.children&&u.push(...g.children),l.map(f=>f.get(g.id)).filter(Boolean).forEach(f=>{i[f.id]=f,u.push(f.toId,f.fromId)})}return{reservedShapes:s,reservedBindings:i,strongReservedShapeIds:p}});r(this,"replacePageContent",(e,t,n,s=this.currentPageId)=>{if(this.justSent)return this.justSent=!1,this;let i=this.document.pages[this.currentPageId];return Object.values(e).forEach(a=>{a.parentId!==s&&!(i.shapes[a.parentId]||e[a.parentId])&&(console.warn("Added a shape without a parent on the page"),a.parentId=s)}),this.useStore.setState(a=>{let{hoveredId:d,editingId:o,bindingId:l,selectedIds:u}=a.document.pageStates[s],p=[...u],h=o&&a.document.pages[this.currentPageId].shapes[o];h&&p.push(h.id);let{reservedShapes:m,reservedBindings:g,strongReservedShapeIds:f}=this.getReservedContent(p,this.currentPageId);Object.values(m).filter(B=>!("text"in B)).forEach(B=>{let P=e[B.id];if(!!P){if(!(B.type==="arrow"||f.has(B.id))){e[B.id]=P;return}"decorations"in P&&"decorations"in B&&(e[B.id]=I(S({},B),{decorations:P.decorations})),B.style=P.style}});let y=S(S({},e),m);h&&(y[h.id]=h);let b=S(S({},t),g),T=S({},n),w=I(S({},a),{document:I(S({},a.document),{pages:{[s]:I(S({},a.document.pages[s]),{shapes:y,bindings:b})},assets:T,pageStates:I(S({},a.document.pageStates),{[s]:I(S({},a.document.pageStates[s]),{selectedIds:u.filter(B=>y[B]!==void 0),hoveredId:d?y[d]===void 0?void 0:d:void 0,editingId:o,bindingId:l?b[l]===void 0?void 0:l:void 0})})})}),k=w.document.pages[s],H=x.getRelatedBindings(w,Object.keys(y),s),v=new Set;return H.forEach(B=>{if(!k.bindings[B.id])return;let P=k.shapes[B.fromId];if(v.has(P))return;let q=x.updateArrowBindings(k,P);if(v.add(P),q){let J=S(S({},P),q);k.shapes[P.id]=J}}),Object.values(y).forEach(B=>{if(B.type!=="group")return;let P=B.children.filter(J=>k.shapes[J]!==void 0),q=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(P.map(J=>k.shapes[J]).filter(Boolean).map(J=>x.getRotatedBounds(J)));k.shapes[B.id]=I(S({},B),{point:[q.minX,q.minY],size:[q.width,q.height],children:P})}),this.state.document=w.document,w},!0),this});r(this,"updateBounds",e=>{this.rendererBounds=e;let{point:t,zoom:n}=this.camera;this.updateViewport(t,n),!this.readOnly&&this.session&&this.session.update()});r(this,"updateViewport",(e,t)=>{let{width:n,height:s}=this.rendererBounds,[i,a]=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div([0,0],t),e),[d,o]=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div([n,s],t),e);this.viewport={minX:i,minY:a,maxX:d,maxY:o,height:d-i,width:o-a}});r(this,"setEditingId",(e,t=!1)=>{if(!this.readOnly){if(e)this.startSession("edit",e,t);else{if(!this.pageState.editingId)return;this.completeSession()}this.editingStartTime=performance.now(),this.patchState({document:{pageStates:{[this.currentPageId]:{editingId:e}}}},"set_editing_id")}});r(this,"setHoveredId",e=>{this.patchState({document:{pageStates:{[this.currentPageId]:{hoveredId:e}}}},"set_hovered_id")});r(this,"setSetting",(e,t)=>{if(this.session)return this;let n={settings:{[e]:typeof t=="function"?t(this.settings[e]):t}};return this.patchState(n,`settings:${e}`),this.persist(n),this});r(this,"toggleFocusMode",()=>{if(this.session)return this;let e={settings:{isFocusMode:!this.settings.isFocusMode}};return this.patchState(e,"settings:toggled_focus_mode"),this.persist(e),this});r(this,"togglePenMode",()=>{if(this.session)return this;let e={settings:{isPenMode:!this.settings.isPenMode}};return this.patchState(e,"settings:toggled_pen_mode"),this.persist(e),this});r(this,"toggleDarkMode",()=>{if(this.session)return this;let e={settings:{isDarkMode:!this.settings.isDarkMode}};return this.patchState(e,"settings:toggled_dark_mode"),this.persist(e),this});r(this,"toggleZoomSnap",()=>{if(this.session)return this;let e={settings:{isZoomSnap:!this.settings.isZoomSnap}};return this.patchState(e,"settings:toggled_zoom_snap"),this.persist(e),this});r(this,"toggleDebugMode",()=>{if(this.session)return this;let e={settings:{isDebugMode:!this.settings.isDebugMode}};return this.patchState(e,"settings:toggled_debug"),this.persist(e),this});r(this,"setMenuOpen",e=>{let t={appState:{isMenuOpen:e}};return this.patchState(t,"ui:toggled_menu_opened"),this.persist(t),this});r(this,"setIsLoading",e=>{let t={appState:{isLoading:e}};return this.patchState(t,"ui:toggled_is_loading"),this.persist(t),this});r(this,"setDisableAssets",e=>(this.patchState({appState:{disableAssets:e}},"ui:toggled_disable_images"),this));r(this,"toggleGrid",()=>{if(this.session)return this;let e={settings:{showGrid:!this.settings.showGrid}};return this.patchState(e,"settings:toggled_grid"),this.persist(e),this});r(this,"selectTool",e=>{if(this.readOnly||this.session)return this;this.isPointing=!1;let t=this.tools[e];return t===this.currentTool?(this.patchState({appState:{isToolLocked:!1}}),this):(this.currentTool.onExit(),t.previous=this.currentTool.type,this.currentTool=t,this.currentTool.onEnter(),this.patchState({appState:{activeTool:e,isToolLocked:!1}},`selected_tool:${e}`))});r(this,"toggleToolLock",()=>this.session?this:this.patchState({appState:{isToolLocked:!this.appState.isToolLocked}},"toggled_tool_lock"));r(this,"resetDocument",()=>{if(this.session)return this;this.session=void 0,this.currentTool=this.tools.select;let e=Be.defaultDocument;return e.pages.page.name="Page 1",this.resetHistory().clearSelectHistory().loadDocument(Be.defaultDocument).persist({}),this});r(this,"updateUsers",(e,t=!1)=>{this.patchState({room:{users:Object.fromEntries(e.map(n=>[n.id,n]))}},t?"room:self:update":"room:user:update")});r(this,"removeUser",e=>{this.patchState({room:{users:{[e]:void 0}}})});r(this,"mergeDocument",e=>{if(this.document.id!==e.id)return this.replaceState(I(S({},ft(I(S({},this.state),{document:e}),Be.version)),{appState:I(S({},this.appState),{currentPageId:Object.keys(e.pages)[0]})})),this;let t=S({},this.document.pageStates),n=I(S({},this.appState),{currentPageId:e.pages[this.currentPageId]?this.currentPageId:Object.keys(e.pages)[0],pages:Object.values(e.pages).map((i,a)=>({id:i.id,name:i.name,childIndex:i.childIndex||a}))});this.resetHistory(),Object.keys(this.document.pages).forEach(i=>{e.pages[i]||(i===this.appState.currentPageId&&(this.cancelSession(),this.selectNone()),t[i]=void 0)}),this.session&&this.selectedIds.filter(i=>!e.pages[this.currentPageId].shapes[i]).forEach(i=>e.pages[this.currentPageId].shapes[i]=this.page.shapes[i]),Object.entries(t).forEach(([i,a])=>{a.selectedIds=a.selectedIds.filter(d=>!!e.pages[i].shapes[d])});let{editingId:s}=this.pageState;return s&&(e.pages[this.currentPageId].shapes[s]=this.page.shapes[s],t[this.currentPageId].selectedIds=[s]),this.replaceState(I(S({},ft(I(S({},this.state),{document:I(S({},e),{pageStates:t})}),Be.version)),{appState:n}),"merge")});r(this,"updateDocument",(e,t="updated_document")=>{let n=this.state,s=I(S({},n),{document:I(S({},n.document),{assets:e.assets})});e.pages[this.currentPageId]||(s.appState=I(S({},n.appState),{currentPageId:Object.keys(e.pages)[0]}));let i=1;for(let a of Object.values(e.pages))a!==n.document.pages[a.id]&&(s.document.pages[a.id]=a,a.name||(s.document.pages[a.id].name=`Page ${i+1}`,i++));for(let a of Object.values(e.pageStates))if(a!==n.document.pageStates[a.id]){s.document.pageStates[a.id]=a;let d=e.pages[a.id],o=["bindingId","editingId","hoveredId","pointedId"];for(let l of o)d.shapes[l]||(a[l]=void 0);a.selectedIds=a.selectedIds.filter(l=>!!e.pages[d.id].shapes[l])}return this.replaceState(ft(s,s.document.version||0),`${t}:${e.id}`)});r(this,"loadRoom",e=>(this.patchState({room:{id:e,userId:Oo,users:{[Oo]:{id:Oo,color:Ds[Math.floor(Math.random()*Ds.length)],point:[100,100],selectedIds:[],activeShapes:[]}}}}),this));r(this,"loadDocument",e=>{this.setIsLoading(!0),this.selectNone(),this.resetHistory(),this.clearSelectHistory(),this.session=void 0;let t=I(S({},Be.defaultState),{settings:S({},this.state.settings),document:e,appState:I(S(S({},Be.defaultState.appState),this.state.appState),{currentPageId:Object.keys(e.pages)[0],disableAssets:this.disableAssets})});this.replaceState(ft(t,Be.version),"loaded_document");let{point:n,zoom:s}=this.camera;return this.updateViewport(n,s),this.setIsLoading(!1),this});r(this,"loadPageFromURL",(e,t)=>{let n=e.id,s=I(S({},this.state.document),{pageStates:I(S({},this.state.document.pageStates),{[n]:t}),pages:I(S({},this.document.pages),{[n]:e})});this.loadDocument(s),this.persist({})});r(this,"newProject",()=>{!this.isLocal||(this.fileSystemHandle=null,this.resetDocument())});r(this,"saveProject",()=>ie(this,null,function*(){if(this.readOnly)return;let e=yield ls(ft(this.state,Be.version).document,this.fileSystemHandle);return this.fileSystemHandle=e,this.persist({}),this.isDirty=!1,this}));r(this,"saveProjectAs",e=>ie(this,null,function*(){try{let t=yield ls(this.document,null,e);this.fileSystemHandle=t,this.persist({}),this.isDirty=!1}catch(t){console.error(t.message)}return this}));r(this,"openProject",()=>ie(this,null,function*(){if(!!this.isLocal)try{let e=yield bo();if(!e)throw Error();let{fileHandle:t,document:n}=e;this.loadDocument(n),this.fileSystemHandle=t,this.zoomToFit(),this.persist({})}catch(e){console.error(e)}finally{this.persist({})}}));r(this,"openAsset",()=>ie(this,null,function*(){if(!this.disableAssets)try{let e=yield wo();if(Array.isArray(e))this.addMediaFromFiles(e,this.centerPoint);else{if(!e)return;this.addMediaFromFiles([e])}}catch(e){console.error(e)}finally{this.persist({})}}));r(this,"signOut",()=>{});r(this,"getAppState",()=>this.appState);r(this,"getPage",(e=this.currentPageId)=>x.getPage(this.state,e||this.currentPageId));r(this,"getShapes",(e=this.currentPageId)=>x.getShapes(this.state,e||this.currentPageId));r(this,"getBindings",(e=this.currentPageId)=>x.getBindings(this.state,e||this.currentPageId));r(this,"getShape",(e,t=this.currentPageId)=>x.getShape(this.state,e,t));r(this,"getShapeBounds",(e,t=this.currentPageId)=>x.getBounds(this.getShape(e,t)));r(this,"getBinding",(e,t=this.currentPageId)=>x.getBinding(this.state,e,t));r(this,"getPageState",(e=this.currentPageId)=>x.getPageState(this.state,e||this.currentPageId));r(this,"getPagePoint",(e,t=this.currentPageId)=>{let{camera:n}=this.getPageState(t);return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div(e,n.zoom),n.point)});r(this,"createPage",(e,t)=>{if(this.readOnly)return this;let{width:n,height:s}=this.rendererBounds;return this.setState(Mr(this,[-n/2,-s/2],e,t))});r(this,"changePage",e=>this.setState(Ar(this,e)));r(this,"movePage",(e,t)=>this.readOnly?this:this.setState(Vr(this,e,t)));r(this,"renamePage",(e,t)=>this.readOnly?this:this.setState(Wr(this,e,t)));r(this,"duplicatePage",e=>this.readOnly?this:this.setState(jr(this,e)));r(this,"deletePage",e=>this.readOnly?this:Object.values(this.document.pages).length<=1?this:this.setState(zr(this,e||this.currentPageId)));r(this,"cut",(e=this.selectedIds,t)=>(t==null||t.preventDefault(),this.copy(e,t),this.readOnly||this.delete(e),this));r(this,"copy",(e=this.selectedIds,t)=>{var i;t==null||t.preventDefault(),this.clipboard=this.getContent(e);let s=`<tldraw>${JSON.stringify(S({type:"tldr/clipboard"},this.clipboard))}</tldraw>`;return Cr(s),t&&((i=t.clipboardData)==null||i.setData("text/html",s)),navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([s],{type:"text/html"})})]),this});r(this,"paste",(e,t)=>ie(this,null,function*(){var l,u;if(this.readOnly)return;let n=[],s=[],i,a=p=>ie(this,null,function*(){let h=document.createElement("div");h.innerHTML=p;let m=h.firstChild;m.style.setProperty("background-color","transparent");let g=yield x.getImageForSvg(m,"svg",{scale:1,quality:1});if(g){let f=new File([g],"image.svg");n.push(f)}else d(p)}),d=p=>{let h=this.getPagePoint(e!=null?e:this.centerPoint,this.currentPageId),m=p.includes(`
`);s.push(x.getShapeUtil("text").getShape({id:_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),type:"text",parentId:this.appState.currentPageId,text:x.normalizeText(p.trim()),point:h,style:I(S({},this.appState.currentStyle),{textAlign:m?"start":this.appState.currentStyle.textAlign})}))},o=p=>{var h;try{let m=(h=p.match(/<tldraw>(.*)<\/tldraw>/))==null?void 0:h[1];if(!m)return;let g=JSON.parse(m);if(g.type==="tldr/clipboard"){i=g;return}else throw Error("Not tldraw data!")}catch(m){d(p)}};if(t!==void 0){let p=Array.from((u=(l=t.clipboardData)==null?void 0:l.items)!=null?u:[]);yield Promise.all(p.map(h=>ie(this,null,function*(){var f;let{type:m,kind:g}=h;switch(g){case"string":{let y=yield new Promise(b=>h.getAsString(b));switch(m){case"text/html":{if((f=y.match(/<tldraw>(.*)<\/tldraw>/))==null?void 0:f[1]){o(y);return}break}case"text/plain":{y.startsWith("<svg")?yield a(y):d(y);break}}break}case"file":{let y=h.getAsFile();y&&n.push(y);break}}})))}if(i)return this.insertContent(i,{point:e,select:!0}),this;if(n.length)return this.addMediaFromFiles(n,e),this;if(s.length){let p=this.getPagePoint(e!=null?e:this.centerPoint,this.currentPageId),h=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(p,[0,0]);return s.forEach((m,g)=>{let f=x.getBounds(m);g===0&&(h[0]-=f.width/2,h[1]-=f.height/2),m.point=[...h],h[0]+=f.width}),this.createShapes(...s),this}return this.clipboard?this.insertContent(this.clipboard):Er().then(p=>{p&&o(p)}),this}));r(this,"getSvg",(...n)=>ie(this,[...n],function*(e=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes),t={}){if(e.length===0)return;let s=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","defs"),a=document.createElementNS("http://www.w3.org/2000/svg","style");if(typeof window!="undefined"&&window.focus(),t.includeFonts)try{let{fonts:g}=yield fetch(Be.assetSrc,{mode:"no-cors"}).then(f=>f.json());a.textContent=`
          @font-face {
            font-family: 'Caveat Brush';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${g.caveat}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Code Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${g.source_code_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Sans Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${g.source_sans_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Crimson Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${g.crimson_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          `}catch(g){x.warn("Could not find tldraw-assets.json file.")}else a.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');";i.append(a),s.append(i);let d=e.map(g=>this.getShape(g,this.currentPageId)).sort((g,f)=>g.childIndex-f.childIndex),o=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(d.map(x.getRotatedBounds)),l=t.padding||16,u=g=>{let f=x.getShapeUtil(g),y=f.getBounds(g),b=f.getSvgElement(g,this.settings.isDarkMode);if(!!b)return g.type==="image"?b.setAttribute("xlink:href",this.document.assets[g.assetId].src):g.type==="video"&&b.setAttribute("xlink:href",this.serializeVideo(g.id)),b.setAttribute("transform",`translate(${(l+g.point[0]-o.minX).toFixed(2)}, ${(l+g.point[1]-o.minY).toFixed(2)}) rotate(${((g.rotation||0)*180/Math.PI).toFixed(2)}, ${(y.width/2).toFixed(2)}, ${(y.height/2).toFixed(2)})`),b};d.forEach(g=>{var y;if((y=g.children)==null?void 0:y.length){let b=document.createElementNS("http://www.w3.org/2000/svg","g");g.children.forEach(T=>{let w=this.getShape(T,this.currentPageId),k=u(w);k&&b.append(k)}),s.append(b);return}let f=u(g);f&&s.append(f)}),s.setAttribute("viewBox",[0,0,o.width+l*2,o.height+l*2].join(" ")),s.setAttribute("width",(o.width+l*2).toString()),s.setAttribute("height",(o.height+l*2).toString());let p=this.settings.exportBackground,h="#212529",m="rgb(248, 249, 250)";switch(p){case"auto":{s.style.setProperty("background-color",this.settings.isDarkMode?h:m);break}case"dark":{s.style.setProperty("background-color",h);break}case"light":{s.style.setProperty("background-color",m);break}case"transparent":default:{s.style.setProperty("background-color","transparent");break}}return s.querySelectorAll(".tl-fill-hitarea, .tl-stroke-hitarea, .tl-binding-indicator").forEach(g=>g.remove()),s}));r(this,"copySvg",(...t)=>ie(this,[...t],function*(e=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)){if(e.length===0)return;let n=yield this.getSvg(e);if(!n)return;let s=x.getSvgString(n,1);this.clipboard=this.getContent(e);let i=JSON.stringify(S({type:"tldr/clipboard"},this.clipboard));return navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([i],{type:"text/html"}),"text/plain":new Blob([s],{type:"text/plain"})})]),s}));r(this,"getContent",e=>{let t=this.getPage(this.currentPageId);if(e&&e.length===0||(e||(e=this.selectedIds),e.length===0&&(e=Object.keys(t.shapes)),e.length===0))return;let n=e.map(d=>t.shapes[d]).flatMap(d=>{var o;return[d,...((o=d.children)!=null?o:[]).map(l=>t.shapes[l])]}).map(Me),s=new Set(n.map(d=>d.id));n.forEach(d=>{d.parentId===this.currentPageId&&(d.parentId="currentPageId")});let i=Object.values(t.bindings).filter(d=>{if(s.has(d.fromId)||s.has(d.toId))return!0;if(s.has(d.fromId)){let l=n.find(u=>u.id===d.fromId).handles;l&&Object.values(l).forEach(u=>{u.bindingId===d.id&&(u.bindingId=void 0)})}if(s.has(d.toId)){let l=n.find(u=>u.id===d.toId).handles;l&&Object.values(l).forEach(u=>{u.bindingId===d.id&&(u.bindingId=void 0)})}return!1}).map(Me),a=[...new Set(n.map(d=>{if(!!d.assetId)return this.document.assets[d.assetId]}).filter(Boolean).map(Me))];return{shapes:n,bindings:i,assets:a}});r(this,"copyJson",(e=this.selectedIds)=>{let t=this.getContent(e);return t&&x.copyStringToClipboard(JSON.stringify(t)),this});r(this,"exportJson",(e=this.selectedIds)=>{let t=this.getContent(e);if(t){let n=new Blob([JSON.stringify(t)],{type:"application/json"}),s=URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download="export.json",i.click()}return this});r(this,"insertContent",(e,t={})=>this.setState(na(this,e,t),"insert_content"));r(this,"getImage",(...n)=>ie(this,[...n],function*(e="png",t={}){let{ids:s=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)}=t,i=yield this.getSvg(s,{includeFonts:e!=="svg"});if(!i)return;if(e==="svg"){let d=x.getSvgString(i,1);return new Blob([d],{type:"image/svg+xml"})}let a=yield x.getImageForSvg(i,e,t);if(!!a)return a}));r(this,"copyImage",(...n)=>ie(this,[...n],function*(e="png",t={}){if(e==="svg"){this.copySvg(t.ids);return}if(!(navigator.clipboard&&window.ClipboardItem)){console.warn("Sorry, your browser does not support copying images.");return}let s=yield this.getImage(e,t);!s||navigator.clipboard.write([new ClipboardItem({[s.type]:s})])}));r(this,"exportImage",(...n)=>ie(this,[...n],function*(e="png",t={}){var d;let{pageId:s=this.currentPageId}=t,i=yield this.getImage(e,t);if(!i)return;let a=(d=this.document.pages[s].name)!=null?d:"export";if(this.callbacks.onExport)this.callbacks.onExport(this,{name:a,type:e,blob:i});else{let o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=`${a}.${e}`,l.click()}}));r(this,"setCamera",(e,t,n)=>(this.updateViewport(e,t),this.patchState({document:{pageStates:{[this.currentPageId]:{camera:{point:e,zoom:t}}}}},n),this));r(this,"resetCamera",()=>this.setCamera(this.centerPoint,1,"reset_camera"));r(this,"pan",e=>{let{camera:t}=this.pageState;return this.setCamera(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(t.point,e)),t.zoom,"panned")});r(this,"pinchZoom",(e,t,n)=>{let{camera:s}=this.pageState,i=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(s.point,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div(t,s.zoom)),a=n,d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div(e,s.zoom),i),o=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div(e,a),i);return this.setCamera(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(i,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(o,d))),a,"pinch_zoomed")});r(this,"zoomTo",(e,t=this.centerPoint)=>{let{zoom:n,point:s}=this.camera,i=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div(t,n),s),a=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div(t,e),s);return this.setCamera(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(s,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(a,i))),e,"zoomed_camera")});r(this,"zoomIn",()=>{let e=Math.round(this.camera.zoom*100/25),t=x.getCameraZoom((e+1)*.25);return this.zoomTo(t)});r(this,"zoomOut",()=>{let e=Math.round(this.camera.zoom*100/25),t=x.getCameraZoom((e-1)*.25);return this.zoomTo(t)});r(this,"zoomToFit",()=>{let{shapes:e,pageState:{camera:t}}=this;if(e.length===0)return this;let{rendererBounds:n}=this,s=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(e.map(x.getBounds)),i=x.getCameraZoom(Math.min((n.width-128)/s.width,(n.height-128)/s.height));i=t.zoom===i||t.zoom<1?Math.min(1,i):i;let a=(n.width-s.width*i)/2/i,d=(n.height-s.height*i)/2/i;return this.setCamera(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub([a,d],[s.minX,s.minY])),i,"zoomed_to_fit")});r(this,"zoomToSelection",()=>{if(this.selectedIds.length===0)return this;let{rendererBounds:e}=this,t=x.getSelectedBounds(this.state),n=x.getCameraZoom(Math.min((e.width-128)/t.width,(e.height-128)/t.height));n=this.camera.zoom===n||this.camera.zoom<1?Math.min(1,n):n;let s=(e.width-t.width*n)/2/n,i=(e.height-t.height*n)/2/n;return this.setCamera(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub([s,i],[t.minX,t.minY])),n,"zoomed_to_selection")});r(this,"zoomToContent",()=>{let e=this.shapes,t=this.pageState;if(e.length===0)return this;let{rendererBounds:n}=this,{zoom:s}=t.camera,i=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(e.map(x.getBounds)),a=(n.width-i.width*s)/2/s,d=(n.height-i.height*s)/2/s;return this.setCamera(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed(_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub([a,d],[i.minX,i.minY])),this.camera.zoom,"zoomed_to_content")});r(this,"resetZoom",()=>this.zoomTo(1));r(this,"zoomBy",_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.throttle((e,t)=>{let{zoom:n}=this.camera,s=x.getCameraZoom(n-e*n);return this.zoomTo(s,t)},16));r(this,"clearSelectHistory",()=>(this.selectHistory.pointer=0,this.selectHistory.stack=[this.selectedIds],this));r(this,"addToSelectHistory",e=>(this.selectHistory.pointer<this.selectHistory.stack.length&&(this.selectHistory.stack=this.selectHistory.stack.slice(0,this.selectHistory.pointer+1)),this.selectHistory.pointer++,this.selectHistory.stack.push(e),this));r(this,"setSelectedIds",(e,t=!1)=>{let n=t?[...this.pageState.selectedIds,...e]:[...e];return this.patchState({appState:{activeTool:"select"},document:{pageStates:{[this.currentPageId]:{selectedIds:n}}}},"selected")});r(this,"undoSelect",()=>(this.selectHistory.pointer>0&&(this.selectHistory.pointer--,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this));r(this,"redoSelect",()=>(this.selectHistory.pointer<this.selectHistory.stack.length-1&&(this.selectHistory.pointer++,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this));r(this,"select",(...e)=>(e.forEach(t=>{if(!this.page.shapes[t])throw Error(`That shape does not exist on page ${this.currentPageId}`)}),this.setSelectedIds(e),this.addToSelectHistory(e),this));r(this,"selectAll",(e=this.currentPageId)=>this.session?this:(this.setSelectedIds(Object.values(this.document.pages[e].shapes).filter(t=>t.parentId===e).map(t=>t.id)),this.addToSelectHistory(this.selectedIds),this.selectTool("select"),this));r(this,"selectNone",()=>(this.setSelectedIds([]),this.addToSelectHistory(this.selectedIds),this));r(this,"startSession",(e,...t)=>{var i,a;if(this.readOnly&&e!=="brush")return this;this.session&&(x.warn(`Already in a session! (${this.session.constructor.name})`),this.cancelSession());let n=la(e);this.session=new n(this,...t);let s=this.session.start();return s&&this.patchState(s,`session:start_${this.session.constructor.name}`),(a=(i=this.callbacks).onSessionStart)==null||a.call(i,this,this.session.constructor.name),this});r(this,"updateSession",()=>{let{session:e}=this;if(!e)return this;let t=e.update();return t?this.patchState(t,`session:${e==null?void 0:e.constructor.name}`):this});r(this,"cancelSession",()=>{var n,s;let{session:e}=this;if(!e)return this;this.session=void 0;let t=e.cancel();return t&&this.patchState(t,`session:cancel:${e.constructor.name}`),this.setEditingId(),(s=(n=this.callbacks).onSessionEnd)==null||s.call(n,this,e.constructor.name),this});r(this,"completeSession",()=>{var n,s,i,a,d,o,l,u,p;let{session:e}=this;if(!e)return this;this.session=void 0;let t=e.complete();if(t===void 0)this.isCreating=!1,this.patchState({appState:{status:"idle"},document:{pageStates:{[this.currentPageId]:{editingId:void 0,bindingId:void 0,hoveredId:void 0}}}},`session:complete:${e.constructor.name}`);else if("after"in t){if(this.isCreating){if(t.before={appState:I(S({},t.before.appState),{status:"idle"}),document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(this.selectedIds.map(h=>[h,void 0]))}},pageStates:{[this.currentPageId]:{selectedIds:[],editingId:null,bindingId:null,hoveredId:null}}}},this.appState.isToolLocked){let h=((i=(s=(n=t.after)==null?void 0:n.document)==null?void 0:s.pageStates)==null?void 0:i[this.currentPageId])||{};h.selectedIds=[]}this.isCreating=!1}t.after.appState=I(S({},t.after.appState),{status:"idle"}),t.after.document=I(S({},t.after.document),{pageStates:I(S({},(a=t.after.document)==null?void 0:a.pageStates),{[this.currentPageId]:I(S({},(((d=t.after.document)==null?void 0:d.pageStates)||{})[this.currentPageId]),{editingId:null})})}),this.setState(t,`session:complete:${e.constructor.name}`)}else this.patchState(I(S({},t),{appState:I(S({},t.appState),{status:"idle"}),document:I(S({},t.document),{pageStates:{[this.currentPageId]:I(S({},(l=(o=t.document)==null?void 0:o.pageStates)==null?void 0:l[this.currentPageId]),{editingId:null})}})}),`session:complete:${e.constructor.name}`);return(p=(u=this.callbacks).onSessionEnd)==null||p.call(u,this,e.constructor.name),this});r(this,"createShapes",(...e)=>e.length===0?this:this.create(e.map(t=>x.getShapeUtil(t.type).create(S({parentId:this.currentPageId},t)))));r(this,"updateShapes",(...e)=>{let t=this.document.pages[this.currentPageId].shapes,n=e.filter(s=>t[s.id]);return n.length===0?this:this.setState(So(this,n,this.currentPageId),"updated_shapes")});r(this,"create",(e=[],t=[])=>e.length===0?this:this.setState(po(this,e,t)));r(this,"patchCreate",(e=[],t=[])=>e.length===0?this:this.patchState(po(this,e,t).after));r(this,"delete",(e=this.selectedIds)=>{var n,s;if(e.length===0)return this;if(this.session)return this;let t=uo(this,e);if(this.callbacks.onAssetDelete&&((n=t.before.document)==null?void 0:n.assets)&&((s=t.after.document)==null?void 0:s.assets)){let i=Object.keys(t.before.document.assets).filter(o=>!!t.before.document.assets[o]),a=Object.keys(t.after.document.assets).filter(o=>!!t.after.document.assets[o]);i.filter(o=>!a.includes(o)).forEach(o=>this.callbacks.onAssetDelete(this,o))}return this.setState(t)});r(this,"deleteAll",()=>(this.selectAll(),this.delete(),this));r(this,"style",(e,t=this.selectedIds)=>this.setState(Zr(this,t,e)));r(this,"align",(e,t=this.selectedIds)=>t.length<2?this:this.setState(Lr(this,t,e)));r(this,"distribute",(e,t=this.selectedIds)=>t.length<3?this:this.setState(Or(this,t,e)));r(this,"stretch",(e,t=this.selectedIds)=>t.length<2?this:this.setState(Xr(this,t,e)));r(this,"flipHorizontal",(e=this.selectedIds)=>e.length===0?this:this.setState(mo(this,e,"horizontal")));r(this,"flipVertical",(e=this.selectedIds)=>e.length===0?this:this.setState(mo(this,e,"vertical")));r(this,"moveToPage",(e,t=this.currentPageId,n=this.selectedIds)=>{if(n.length===0)return this;let{rendererBounds:s}=this;return this.setState(Kr(this,n,s,t,e)),this});r(this,"moveToBack",(e=this.selectedIds)=>e.length===0?this:this.setState(vn(this,e,"toBack")));r(this,"moveBackward",(e=this.selectedIds)=>e.length===0?this:this.setState(vn(this,e,"backward")));r(this,"moveForward",(e=this.selectedIds)=>e.length===0?this:this.setState(vn(this,e,"forward")));r(this,"moveToFront",(e=this.selectedIds)=>e.length===0?this:this.setState(vn(this,e,"toFront")));r(this,"nudge",(e,t=!1,n=this.selectedIds)=>{if(n.length===0)return this;let s=t?this.settings.showGrid?this.currentGrid*4:10:this.settings.showGrid?this.currentGrid:1;return this.setState(Jr(this,n,_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.mul(e,s)))});r(this,"duplicate",(e=this.selectedIds,t)=>this.readOnly?this:e.length===0?this:this.setState(Ur(this,e,t)));r(this,"resetBounds",(e=this.selectedIds)=>{let t=go(this,e,this.currentPageId);return this.setState(go(this,e,this.currentPageId),t.id)});r(this,"toggleHidden",(e=this.selectedIds)=>e.length===0?this:this.setState(ds(this,e,"isHidden")));r(this,"toggleLocked",(e=this.selectedIds)=>e.length===0?this:this.setState(ds(this,e,"isLocked")));r(this,"toggleAspectRatioLocked",(e=this.selectedIds)=>e.length===0?this:this.setState(ds(this,e,"isAspectRatioLocked")));r(this,"toggleDecoration",(e,t=this.selectedIds)=>t.length===0||!(e==="start"||e==="end")?this:this.setState(qr(this,t,e)));r(this,"setShapeProps",(e,t=this.selectedIds)=>this.setState(ta(this,t,e)));r(this,"rotate",(e=Math.PI*-.5,t=this.selectedIds)=>{if(t.length===0)return this;let n=Yr(this,t,e);return n?this.setState(n):this});r(this,"group",(e=this.selectedIds,t=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),n=this.currentPageId)=>{if(this.readOnly)return this;if(e.length===1&&this.getShape(e[0],n).type==="group")return this.ungroup(e,n);if(e.length<2)return this;let s=Gr(this,e,t,n);return s?this.setState(s):this});r(this,"ungroup",(e=this.selectedIds,t=this.currentPageId)=>{if(this.readOnly)return this;let n=e.map(i=>this.getShape(i,t)).filter(i=>i.type==="group");if(n.length===0)return this;let s=ea(this,e,n,t);return s?this.setState(s):this});r(this,"cancel",()=>{var e,t;return(t=(e=this.currentTool).onCancel)==null||t.call(e),this});r(this,"addMediaFromFiles",(n,...s)=>ie(this,[n,...s],function*(e,t=this.centerPoint){this.setIsLoading(!0);let i=[],a=this.getPagePoint(t);for(let d of e){let o=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),l=d.name.match(/\.[0-9a-z]+$/i);if(!l)throw Error("No extension");let u=Yn.includes(l[0].toLowerCase()),p=$n.includes(l[0].toLowerCase());if(!(u||p))throw Error("Wrong extension");let h=u?"image":"video",m=u?"image":"video",g;try{if(this.callbacks.onAssetCreate){let f=yield this.callbacks.onAssetCreate(this,d,o);if(!f)throw Error("Asset creation callback returned false");g=f}else g=yield Io(d);if(typeof g=="string"){let f=[0,0];if(u){if(l[0]==".svg"){let T,w=yield xo(d),k=this.getViewboxFromSVG(w);k&&(T=k.split(" "),f[0]=parseFloat(T[2]),f[1]=parseFloat(T[3]))}_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.isEqual(f,[0,0])&&(f=yield vo(g))}else f=yield Po(g);let y=Object.values(this.document.assets).find(T=>T.type===m&&T.src===g),b;if(y)b=y.id;else{b=o;let T={id:b,type:m,name:d.name,src:g,size:f};this.patchState({document:{assets:{[b]:T}}})}i.push(this.getImageOrVideoShapeAtPoint(o,h,t,f,b))}}catch(f){console.warn(f)}}if(i.length){let d=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.add(a,[0,0]);i.forEach((l,u)=>{let p=x.getBounds(l);u===0&&(d[0]-=p.width/2,d[1]-=p.height/2),l.point=[...d],d[0]+=p.width});let o=_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.getCommonBounds(i.map(x.getBounds));this.createShapes(...i),_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.boundsContain(this.viewport,o)||(this.zoomToSelection(),this.zoom>1&&this.resetZoom())}return this.setIsLoading(!1),this}));r(this,"getViewboxFromSVG",e=>{let t=/.*?viewBox=["'](-?[\d.]+[, ]+-?[\d.]+[, ][\d.]+[, ][\d.]+)["']/;if(typeof e=="string"){let n=e.match(t);return n&&n.length>=2?n[1]:null}return this.setIsLoading(!1),null});r(this,"onKeyDown",(e,t,n)=>{var s,i;switch(n.key){case"/":{if(this.status==="idle"&&!this.pageState.editingId){let{shiftKey:a,metaKey:d,altKey:o,ctrlKey:l,spaceKey:u}=this;this.onPointerDown({target:"canvas",pointerId:0,origin:t.point,point:t.point,delta:[0,0],pressure:.5,shiftKey:a,ctrlKey:l,metaKey:d,altKey:o,spaceKey:u},{shiftKey:a,altKey:o,ctrlKey:l,pointerId:0,clientX:t.point[0],clientY:t.point[1]})}break}case"Escape":{this.cancel();break}case"Meta":{this.metaKey=!0;break}case"Alt":{this.altKey=!0;break}case"Control":{this.ctrlKey=!0;break}case" ":{this.isForcePanning=!0,this.spaceKey=!0;break}}return(i=(s=this.currentTool).onKeyDown)==null||i.call(s,e,t,n),this});r(this,"onKeyUp",(e,t,n)=>{var s,i;if(!!t){switch(n.key){case"/":{let{currentPoint:a,shiftKey:d,metaKey:o,altKey:l,ctrlKey:u,spaceKey:p}=this;this.onPointerUp({target:"canvas",pointerId:0,origin:a,point:a,delta:[0,0],pressure:.5,shiftKey:d,ctrlKey:u,metaKey:o,altKey:l,spaceKey:p},{shiftKey:d,altKey:l,ctrlKey:u,pointerId:0,clientX:a[0],clientY:a[1]});break}case"Meta":{this.metaKey=!1;break}case"Alt":{this.altKey=!1;break}case"Control":{this.ctrlKey=!1;break}case" ":{this.isForcePanning=!1,this.spaceKey=!1;break}}(i=(s=this.currentTool).onKeyUp)==null||i.call(s,e,t,n)}});r(this,"refreshBoundingBoxes",()=>{let e=this.shapes.map(n=>[n.id,S({point:[...n.point]},"label"in n&&{label:""})]),t=this.shapes.map(n=>[n.id,S({point:[...n.point]},"label"in n&&{label:n.label})]);Ls(),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(e)}}}}),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(t)}}}})});r(this,"onDragOver",e=>{e.preventDefault()});r(this,"onDrop",e=>ie(this,null,function*(){var t;return e.preventDefault(),this.disableAssets?this:(((t=e.dataTransfer.files)==null?void 0:t.length)&&this.addMediaFromFiles(Object.values(e.dataTransfer.files),[e.clientX,e.clientY]),this)}));r(this,"onPinchStart",(e,t)=>{var n,s;(s=(n=this.currentTool).onPinchStart)==null||s.call(n,e,t)});r(this,"onPinchEnd",(e,t)=>{var n,s;return(s=(n=this.currentTool).onPinchEnd)==null?void 0:s.call(n,e,t)});r(this,"onPinch",(e,t)=>{var n,s;return(s=(n=this.currentTool).onPinch)==null?void 0:s.call(n,e,t)});r(this,"onPan",(e,t)=>{if(this.appState.status==="pinching")return;let n=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.div(e.delta,this.camera.zoom),s=this.camera.point,i=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(s,n);_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.isEqual(i,s)||(this.pan(n),this.isForcePanning||this.onPointerMove(e,t),Di&&this.isForcePanning&&this.preventPaste())});r(this,"onZoom",(e,t)=>{if(this.state.appState.status!=="idle")return;let n=e.delta[2]/50;this.zoomBy(n,e.point),this.onPointerMove(e,t)});r(this,"updateInputs",e=>{this.currentPoint=this.getPagePoint(e.point).concat(e.pressure),this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey});r(this,"onPointerMove",(e,t)=>{var n,s,i,a,d;if(this.previousPoint=this.currentPoint,this.updateInputs(e,t),this.isForcePanning&&this.isPointing){(n=this.onPan)==null||n.call(this,I(S({},e),{delta:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.neg(e.delta)}),t);return}if((i=(s=this.currentTool).onPointerMove)==null||i.call(s,e,t),this.state.room){let{users:o,userId:l}=this.state.room;(d=(a=this.callbacks).onChangePresence)==null||d.call(a,this,I(S({},o[l]),{point:this.getPagePoint(e.point),session:!!this.session}))}});r(this,"onPointerDown",(e,t)=>{var n,s;if(t.buttons===4)this.isForcePanning=!0;else if(this.isPointing)return;this.isPointing=!0,this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),!this.isForcePanning&&((s=(n=this.currentTool).onPointerDown)==null||s.call(n,e,t))});r(this,"onPointerUp",(e,t)=>{var n,s;this.isPointing=!1,this.shiftKey||(this.isForcePanning=!1),this.updateInputs(e,t),(s=(n=this.currentTool).onPointerUp)==null||s.call(n,e,t)});r(this,"onPointCanvas",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onPointCanvas)==null||s.call(n,e,t)});r(this,"onDoubleClickCanvas",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onDoubleClickCanvas)==null||s.call(n,e,t)});r(this,"onRightPointCanvas",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onRightPointCanvas)==null||s.call(n,e,t)});r(this,"onDragCanvas",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onDragCanvas)==null||s.call(n,e,t)});r(this,"onReleaseCanvas",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onReleaseCanvas)==null||s.call(n,e,t)});r(this,"onPointShape",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onPointShape)==null||s.call(n,e,t)});r(this,"onReleaseShape",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onReleaseShape)==null||s.call(n,e,t)});r(this,"onDoubleClickShape",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onDoubleClickShape)==null||s.call(n,e,t)});r(this,"onRightPointShape",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onRightPointShape)==null||s.call(n,e,t)});r(this,"onDragShape",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onDragShape)==null||s.call(n,e,t)});r(this,"onHoverShape",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onHoverShape)==null||s.call(n,e,t)});r(this,"onUnhoverShape",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onUnhoverShape)==null||s.call(n,e,t)});r(this,"onPointBounds",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onPointBounds)==null||s.call(n,e,t)});r(this,"onDoubleClickBounds",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onDoubleClickBounds)==null||s.call(n,e,t)});r(this,"onRightPointBounds",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onRightPointBounds)==null||s.call(n,e,t)});r(this,"onDragBounds",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onDragBounds)==null||s.call(n,e,t)});r(this,"onHoverBounds",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onHoverBounds)==null||s.call(n,e,t)});r(this,"onUnhoverBounds",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onUnhoverBounds)==null||s.call(n,e,t)});r(this,"onReleaseBounds",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onReleaseBounds)==null||s.call(n,e,t)});r(this,"onPointBoundsHandle",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onPointBoundsHandle)==null||s.call(n,e,t)});r(this,"onDoubleClickBoundsHandle",(e,t)=>{var s,i;if(this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(i=(s=this.currentTool).onDoubleClickBoundsHandle)==null||i.call(s,e,t),this.selectedIds.length!==1)return;let n=this.getShape(this.selectedIds[0]);if(n.type==="image"||n.type==="video"){let a=this.document.assets[n.assetId],d=x.getShapeUtil(n),o=d.getCenter(n),l=d.getCenter(I(S({},n),{size:a.size})),u=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(l,o);this.updateShapes({id:n.id,point:_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(n.point,u),size:a.size})}});r(this,"onRightPointBoundsHandle",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onRightPointBoundsHandle)==null||s.call(n,e,t)});r(this,"onDragBoundsHandle",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onDragBoundsHandle)==null||s.call(n,e,t)});r(this,"onHoverBoundsHandle",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onHoverBoundsHandle)==null||s.call(n,e,t)});r(this,"onUnhoverBoundsHandle",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onUnhoverBoundsHandle)==null||s.call(n,e,t)});r(this,"onReleaseBoundsHandle",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onReleaseBoundsHandle)==null||s.call(n,e,t)});r(this,"onPointHandle",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onPointHandle)==null||s.call(n,e,t)});r(this,"onDoubleClickHandle",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onDoubleClickHandle)==null||s.call(n,e,t)});r(this,"onRightPointHandle",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onRightPointHandle)==null||s.call(n,e,t)});r(this,"onDragHandle",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onDragHandle)==null||s.call(n,e,t)});r(this,"onHoverHandle",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onHoverHandle)==null||s.call(n,e,t)});r(this,"onUnhoverHandle",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onUnhoverHandle)==null||s.call(n,e,t)});r(this,"onReleaseHandle",(e,t)=>{var n,s;this.updateInputs(e,t),(s=(n=this.currentTool).onReleaseHandle)==null||s.call(n,e,t)});r(this,"onShapeChange",e=>{let t=this.document.pages[this.currentPageId].shapes,n=S(S({},t[e.id]),e),s=So(this,[n],this.currentPageId).after;return this.patchState(s,"patched_shapes")});r(this,"onShapeBlur",()=>{var n,s;if(performance.now()-this.editingStartTime<50)return;let{editingId:e}=this.pageState,{isToolLocked:t}=this.getAppState();if(e){let i=this.getShape(e);this.setEditingId(),i.type==="text"&&(i.text.trim().length<=0?this.patchState(uo(this,[e]).after,"delete_empty_text"):t||this.select(e))}(s=(n=this.currentTool).onShapeBlur)==null||s.call(n)});r(this,"onShapeClone",(e,t)=>{var n,s;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(n=this.currentTool).onShapeClone)==null||s.call(n,e,t)});r(this,"onRenderCountChange",e=>{let t=this.getAppState();t.isEmptyCanvas&&e.length>0?this.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!t.isEmptyCanvas&&e.length<=0&&this.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")});r(this,"onError",()=>{});r(this,"getShapeUtil",x.getShapeUtil);this.callbacks=t}setStatus(e){return this.patchState({appState:{status:e}},`set_status:${e}`)}get isMenuOpen(){return this.appState.isMenuOpen}get isLoading(){return this.appState.isLoading}get disableAssets(){return this.appState.disableAssets}get history(){return this.stack.slice(0,this.pointer+1)}set history(e){this.replaceHistory(e)}get document(){return this.state.document}get settings(){return this.state.settings}get appState(){return this.state.appState}get currentPageId(){return this.state.appState.currentPageId}get page(){return this.state.document.pages[this.currentPageId]}get shapes(){return Object.values(this.page.shapes)}get bindings(){return Object.values(this.page.bindings)}get assets(){return Object.values(this.document.assets)}get pageState(){return this.state.document.pageStates[this.currentPageId]}get camera(){return this.pageState.camera}get zoom(){return this.pageState.camera.zoom}get selectedIds(){return this.pageState.selectedIds}createTextShapeAtPoint(e,t,n){let{shapes:s,appState:{currentPageId:i,currentStyle:a}}=this,d=s.length===0?1:s.filter(p=>p.parentId===i).sort((p,h)=>h.childIndex-p.childIndex)[0].childIndex+1,o=At["text"],l=o.create({id:t||_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Utils */ .cQ.uniqueId(),parentId:i,childIndex:d,point:e,style:S({},a)}),u=o.getBounds(l);return l.point=_tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.sub(l.point,[u.width/2,u.height/2]),n?this.patchCreate([x.getShapeUtil(l.type).create(l)]):this.createShapes(l),this.setEditingId(l.id,!0),this}getImageOrVideoShapeAtPoint(e,t,n,s,i){let{shapes:a,appState:{currentPageId:d,currentStyle:o}}=this,l=a.length===0?1:a.filter(h=>h.parentId===d).sort((h,m)=>m.childIndex-h.childIndex)[0].childIndex+1,u=At[t];if(s[0]>this.viewport.width){let h=s[1]/s[0];s[0]=this.viewport.width-128/this.camera.zoom*2,s[1]=s[0]*h,(s[1]<32||s[1]<32)&&(s[1]=32,s[0]=s[1]/h)}else if(s[1]>this.viewport.height){let h=s[0]/s[1];s[1]=this.viewport.height-128/this.camera.zoom*2,s[0]=s[1]*h,(s[1]<32||s[1]<32)&&(s[0]=32,s[1]=s[0]/h)}return u.create({id:e,parentId:d,childIndex:l,point:n,size:s,style:S({},o),assetId:i})}isSelected(e){return this.selectedIds.includes(e)}serializeVideo(e){let t=document.getElementById(e+"_video");if(t){let n=document.createElement("canvas");return n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Video with id "+e+" not found")}serializeImage(e){let t=document.getElementById(e+"_image");if(t){let n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Image with id "+e+" not found")}patchAssets(e){this.document.assets=S(S({},this.document.assets),e)}get room(){return this.state.room}get isLocal(){return this.state.room===void 0||this.state.room.id==="local"}get status(){return this.appState.status}get currentUser(){if(!!this.state.room)return this.state.room.users[this.state.room.userId]}get centerPoint(){let{width:e,height:t}=this.rendererBounds;return _tldraw_vec__WEBPACK_IMPORTED_MODULE_5__/* .Vec */ .B.toFixed([e/2,t/2])}get currentGrid(){let{zoom:e}=this.camera;return e<.15?8*16:e<1?8*4:8*1}},Mt=Be;r(Mt,"version",15.5),r(Mt,"defaultDocument",{id:"doc",name:"New Document",version:Be.version,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}},assets:{}}),r(Mt,"defaultState",{settings:{isCadSelectMode:!1,isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,keepStyleMenuOpen:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1,language:"en",dockPosition:"bottom",exportBackground:"transparent"},appState:{status:"idle",activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:De,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,eraseLine:[],snapLines:[],isLoading:!1,disableAssets:!1},document:Be.defaultDocument}),r(Mt,"assetSrc","tldraw-assets.json");var Ste={select:Hn,erase:Bn,["text"]:zn,["draw"]:En,["ellipse"]:Cn,["rectangle"]:An,["triangle"]:Fn,["line"]:Ln,["arrow"]:Dn,["sticky"]:Mn};var m5=react_error_boundary__WEBPACK_IMPORTED_MODULE_12__.ErrorBoundary,g5=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!1;function Nte({id:c,document:e,currentPageId:t,autofocus:n=!0,showMenu:s=!0,showMultiplayerMenu:i=!0,showPages:a=!0,showTools:d=!0,showZoom:o=!0,showStyles:l=!0,showUI:u=!0,readOnly:p=!1,disableAssets:h=!1,darkMode:m=g5,onMount:g,onChange:f,onChangePresence:y,onNewProject:b,onSaveProject:T,onSaveProjectAs:w,onOpenProject:k,onOpenMedia:H,onUndo:v,onRedo:B,onPersist:P,onPatch:q,onCommand:J,onChangePage:Q,onAssetCreate:we,onAssetDelete:pe,onAssetUpload:ue,onSessionStart:Re,onSessionEnd:Ke,onExport:Tt}){let[et,en]=react__WEBPACK_IMPORTED_MODULE_1__.useState(c),[ge,jn]=react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new Mt(c,{onMount:g,onChange:f,onChangePresence:y,onNewProject:b,onSaveProject:T,onSaveProjectAs:w,onOpenProject:k,onOpenMedia:H,onUndo:v,onRedo:B,onPersist:P,onPatch:q,onCommand:J,onChangePage:Q,onAssetDelete:pe,onAssetCreate:we,onAssetUpload:ue,onSessionStart:Re,onSessionEnd:Ke})),[zt,ps]=react__WEBPACK_IMPORTED_MODULE_1__.useState(null),[Ft,gn]=react__WEBPACK_IMPORTED_MODULE_1__.useState(null),[fn,pa]=react__WEBPACK_IMPORTED_MODULE_1__.useState(null),[ua,jo]=react__WEBPACK_IMPORTED_MODULE_1__.useState(null),ha=react__WEBPACK_IMPORTED_MODULE_1__.useCallback((_t,Un,ma,ga)=>{jo(()=>_t),ps(()=>ga),gn(()=>Un),pa(()=>ma)},[]);return react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{if(c===et)return;let _t=new Mt(c,{onMount:g,onChange:f,onChangePresence:y,onNewProject:b,onSaveProject:T,onSaveProjectAs:w,onOpenProject:k,onOpenMedia:H,onUndo:v,onRedo:B,onPersist:P,onPatch:q,onCommand:J,onChangePage:Q,onAssetDelete:pe,onAssetCreate:we,onAssetUpload:ue,onExport:Tt,onSessionStart:Re,onSessionEnd:Ke});en(c),jn(_t)},[et,c]),react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{!e||(e.id===ge.document.id?ge.updateDocument(e):ge.loadDocument(e))},[e,ge]),react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{ge.setDisableAssets(h)},[ge,h]),react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{!t||ge.changePage(t)},[t,ge]),react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{ge.readOnly=p,p||(ge.selectNone(),ge.cancelSession(),ge.setEditingId())},[ge,p]),react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{m!==ge.settings.isDarkMode&&ge.toggleDarkMode()},[ge,m]),react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{ge.callbacks={onMount:g,onChange:f,onChangePresence:y,onNewProject:b,onSaveProject:T,onSaveProjectAs:w,onOpenProject:k,onOpenMedia:H,onUndo:v,onRedo:B,onPersist:P,onPatch:q,onCommand:J,onChangePage:Q,onAssetDelete:pe,onAssetCreate:we,onAssetUpload:ue,onExport:Tt,onSessionStart:Re,onSessionEnd:Ke}},[g,f,y,b,T,w,k,H,v,B,P,q,J,Q,pe,we,ue,Tt,Re,Ke]),react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{var Un;if(typeof window=="undefined"||!((Un=window.document)==null?void 0:Un.fonts))return;function _t(){ge.refreshBoundingBoxes()}return window.document.fonts.addEventListener("loadingdone",_t),()=>{window.document.fonts.removeEventListener("loadingdone",_t)}},[ge]),react__WEBPACK_IMPORTED_MODULE_1__.createElement(Is.Provider,{value:ge},react__WEBPACK_IMPORTED_MODULE_1__.createElement(xs.Provider,{value:{onYes:Ft,onCancel:zt,onNo:fn,dialogState:ua,setDialogState:jo,openDialog:ha}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(f5,{key:et||"Tldraw",id:et,autofocus:n,showPages:a,showMenu:s,showMultiplayerMenu:i,showStyles:l,showZoom:o,showTools:d,showUI:u,readOnly:p})))}var f5=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({id:e,autofocus:t,showPages:n,showMenu:s,showMultiplayerMenu:i,showZoom:a,showStyles:d,showTools:o,readOnly:l,showUI:u}){var ge,jn;let p=yt(),[h,m]=react__WEBPACK_IMPORTED_MODULE_1__.useState(null),g=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),f=p.useStore(),{document:y,settings:b,appState:T,room:w}=f,k=f.appState.activeTool==="select",H=y.pages[T.currentPageId],v=y.pageStates[H.id],B=y.assets,{selectedIds:P}=v,q=P.length===1&&H.shapes[P[0]]&&x.getShapeUtil(H.shapes[P[0]].type).hideBounds,J=P.length===1&&H.shapes[P[0]]&&x.getShapeUtil(H.shapes[P[0]].type).hideResizeHandles,Q=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>({isDarkMode:b.isDarkMode}),[b.isDarkMode]),we=b.isCadSelectMode?!T.selectByContain:T.selectByContain,pe=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{let{selectByContain:zt}=T,{isDarkMode:ps,isCadSelectMode:Ft}=b;if(ps){let fn=Ft?zt?"69, 155, 255":"105, 209, 73":"180, 180, 180";return{brushFill:`rgba(${fn}, ${Ft?.08:.05})`,brushStroke:`rgba(${fn}, ${Ft?.5:.25})`,brushDashStroke:`rgba(${fn}, .6)`,selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}}let gn=Ft?zt?"0, 89, 242":"51, 163, 23":"0,0,0";return{brushFill:`rgba(${gn}, ${Ft?.08:.05})`,brushStroke:`rgba(${gn}, ${Ft?.4:.25})`,brushDashStroke:`rgba(${gn}, .6)`}},[b.isDarkMode,b.isCadSelectMode,T.selectByContain]),ue=p.session!==void 0,Re=ue&&((ge=p.session)==null?void 0:ge.constructor.name)!=="BrushSession"||!k||q||!!v.editingId,Ke=ue||!k,Tt=ue&&f.appState.status!=="brushing"||!k,et=ue||!k||v.camera.zoom<.2,en=ki(b.language);return react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{let zt=g.current;!zt||(b.isDarkMode?zt.classList.add(vs):zt.classList.remove(vs))},[b.isDarkMode]),Ei(g),react__WEBPACK_IMPORTED_MODULE_1__.createElement(Jo.Provider,{value:g},react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_intl__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z,{locale:en.locale,messages:en.messages},react__WEBPACK_IMPORTED_MODULE_1__.createElement(T5,{ref:g,tabIndex:-0},react__WEBPACK_IMPORTED_MODULE_1__.createElement(ks,null),react__WEBPACK_IMPORTED_MODULE_1__.createElement(S5,{focusableRef:g,autofocus:t}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(m5,{FallbackComponent:react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",null)},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tldraw_core__WEBPACK_IMPORTED_MODULE_0__/* .Renderer */ .Th,{id:e,containerRef:g,shapeUtils:At,page:H,pageState:v,assets:B,snapLines:T.snapLines,eraseLine:T.eraseLine,grid:8,users:w==null?void 0:w.users,userId:w==null?void 0:w.userId,theme:pe,meta:Q,hideBounds:Re,hideHandles:Ke,hideResizeHandles:J,hideIndicators:Tt,hideBindingHandles:!b.showBindingHandles,hideCloneHandles:et,hideRotateHandles:!b.showRotateHandles,hideGrid:!b.showGrid,showDashedBrush:we,performanceMode:(jn=p.session)==null?void 0:jn.performanceMode,onPinchStart:p.onPinchStart,onPinchEnd:p.onPinchEnd,onPinch:p.onPinch,onPan:p.onPan,onZoom:p.onZoom,onPointerDown:p.onPointerDown,onPointerMove:p.onPointerMove,onPointerUp:p.onPointerUp,onPointCanvas:p.onPointCanvas,onDoubleClickCanvas:p.onDoubleClickCanvas,onRightPointCanvas:p.onRightPointCanvas,onDragCanvas:p.onDragCanvas,onReleaseCanvas:p.onReleaseCanvas,onPointShape:p.onPointShape,onDoubleClickShape:p.onDoubleClickShape,onRightPointShape:p.onRightPointShape,onDragShape:p.onDragShape,onHoverShape:p.onHoverShape,onUnhoverShape:p.onUnhoverShape,onReleaseShape:p.onReleaseShape,onPointBounds:p.onPointBounds,onDoubleClickBounds:p.onDoubleClickBounds,onRightPointBounds:p.onRightPointBounds,onDragBounds:p.onDragBounds,onHoverBounds:p.onHoverBounds,onUnhoverBounds:p.onUnhoverBounds,onReleaseBounds:p.onReleaseBounds,onPointBoundsHandle:p.onPointBoundsHandle,onDoubleClickBoundsHandle:p.onDoubleClickBoundsHandle,onRightPointBoundsHandle:p.onRightPointBoundsHandle,onDragBoundsHandle:p.onDragBoundsHandle,onHoverBoundsHandle:p.onHoverBoundsHandle,onUnhoverBoundsHandle:p.onUnhoverBoundsHandle,onReleaseBoundsHandle:p.onReleaseBoundsHandle,onPointHandle:p.onPointHandle,onDoubleClickHandle:p.onDoubleClickHandle,onRightPointHandle:p.onRightPointHandle,onDragHandle:p.onDragHandle,onHoverHandle:p.onHoverHandle,onUnhoverHandle:p.onUnhoverHandle,onReleaseHandle:p.onReleaseHandle,onError:p.onError,onRenderCountChange:p.onRenderCountChange,onShapeChange:p.onShapeChange,onShapeBlur:p.onShapeBlur,onShapeClone:p.onShapeClone,onBoundsChange:p.updateBounds,onKeyDown:p.onKeyDown,onKeyUp:p.onKeyUp,onDragOver:p.onDragOver,onDrop:p.onDrop})))))}),S5=react__WEBPACK_IMPORTED_MODULE_1__.memo(function({focusableRef:e,autofocus:t}){return Zo(e),Qo(),react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{var n;t&&((n=e.current)==null||n.focus())},[t]),null}),T5=he("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),Kte=he("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),Vte=he("div",{flexGrow:2});
//# sourceMappingURL=index.mjs.map


/***/ })

}]);
//# sourceMappingURL=b13ba9de-11ef9f2e07c3e310.js.map